(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const f of c)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function l(c){const f={};return c.integrity&&(f.integrity=c.integrity),c.referrerPolicy&&(f.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?f.credentials="include":c.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(c){if(c.ep)return;c.ep=!0;const f=l(c);fetch(c.href,f)}})();var To={exports:{}},Rs={};var V_;function e1(){if(V_)return Rs;V_=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function l(r,c,f){var h=null;if(f!==void 0&&(h=""+f),c.key!==void 0&&(h=""+c.key),"key"in c){f={};for(var m in c)m!=="key"&&(f[m]=c[m])}else f=c;return c=f.ref,{$$typeof:s,type:r,key:h,ref:c!==void 0?c:null,props:f}}return Rs.Fragment=n,Rs.jsx=l,Rs.jsxs=l,Rs}var Q_;function t1(){return Q_||(Q_=1,To.exports=e1()),To.exports}var y=t1(),No={exports:{}},ue={};var X_;function n1(){if(X_)return ue;X_=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),E=Symbol.iterator;function Y(S){return S===null||typeof S!="object"?null:(S=E&&S[E]||S["@@iterator"],typeof S=="function"?S:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},J=Object.assign,ce={};function ie(S,U,V){this.props=S,this.context=U,this.refs=ce,this.updater=V||G}ie.prototype.isReactComponent={},ie.prototype.setState=function(S,U){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,U,"setState")},ie.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function re(){}re.prototype=ie.prototype;function fe(S,U,V){this.props=S,this.context=U,this.refs=ce,this.updater=V||G}var Me=fe.prototype=new re;Me.constructor=fe,J(Me,ie.prototype),Me.isPureReactComponent=!0;var et=Array.isArray;function ae(){}var $={H:null,A:null,T:null,S:null},K=Object.prototype.hasOwnProperty;function de(S,U,V){var F=V.ref;return{$$typeof:s,type:S,key:U,ref:F!==void 0?F:null,props:V}}function k(S,U){return de(S.type,U,S.props)}function w(S){return typeof S=="object"&&S!==null&&S.$$typeof===s}function O(S){var U={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(V){return U[V]})}var H=/\/+/g;function q(S,U){return typeof S=="object"&&S!==null&&S.key!=null?O(""+S.key):U.toString(36)}function j(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(ae,ae):(S.status="pending",S.then(function(U){S.status==="pending"&&(S.status="fulfilled",S.value=U)},function(U){S.status==="pending"&&(S.status="rejected",S.reason=U)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function A(S,U,V,F,ee){var se=typeof S;(se==="undefined"||se==="boolean")&&(S=null);var me=!1;if(S===null)me=!0;else switch(se){case"bigint":case"string":case"number":me=!0;break;case"object":switch(S.$$typeof){case s:case n:me=!0;break;case T:return me=S._init,A(me(S._payload),U,V,F,ee)}}if(me)return ee=ee(S),me=F===""?"."+q(S,0):F,et(ee)?(V="",me!=null&&(V=me.replace(H,"$&/")+"/"),A(ee,U,V,"",function(Ul){return Ul})):ee!=null&&(w(ee)&&(ee=k(ee,V+(ee.key==null||S&&S.key===ee.key?"":(""+ee.key).replace(H,"$&/")+"/")+me)),U.push(ee)),1;me=0;var Fe=F===""?".":F+":";if(et(S))for(var Ge=0;Ge<S.length;Ge++)F=S[Ge],se=Fe+q(F,Ge),me+=A(F,U,V,se,ee);else if(Ge=Y(S),typeof Ge=="function")for(S=Ge.call(S),Ge=0;!(F=S.next()).done;)F=F.value,se=Fe+q(F,Ge++),me+=A(F,U,V,se,ee);else if(se==="object"){if(typeof S.then=="function")return A(j(S),U,V,F,ee);throw U=String(S),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return me}function x(S,U,V){if(S==null)return S;var F=[],ee=0;return A(S,F,"","",function(se){return U.call(V,se,ee++)}),F}function X(S){if(S._status===-1){var U=S._result;U=U(),U.then(function(V){(S._status===0||S._status===-1)&&(S._status=1,S._result=V)},function(V){(S._status===0||S._status===-1)&&(S._status=2,S._result=V)}),S._status===-1&&(S._status=0,S._result=U)}if(S._status===1)return S._result.default;throw S._result}var te=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},Ee={map:x,forEach:function(S,U,V){x(S,function(){U.apply(this,arguments)},V)},count:function(S){var U=0;return x(S,function(){U++}),U},toArray:function(S){return x(S,function(U){return U})||[]},only:function(S){if(!w(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return ue.Activity=b,ue.Children=Ee,ue.Component=ie,ue.Fragment=l,ue.Profiler=c,ue.PureComponent=fe,ue.StrictMode=r,ue.Suspense=g,ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$,ue.__COMPILER_RUNTIME={__proto__:null,c:function(S){return $.H.useMemoCache(S)}},ue.cache=function(S){return function(){return S.apply(null,arguments)}},ue.cacheSignal=function(){return null},ue.cloneElement=function(S,U,V){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var F=J({},S.props),ee=S.key;if(U!=null)for(se in U.key!==void 0&&(ee=""+U.key),U)!K.call(U,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&U.ref===void 0||(F[se]=U[se]);var se=arguments.length-2;if(se===1)F.children=V;else if(1<se){for(var me=Array(se),Fe=0;Fe<se;Fe++)me[Fe]=arguments[Fe+2];F.children=me}return de(S.type,ee,F)},ue.createContext=function(S){return S={$$typeof:h,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:f,_context:S},S},ue.createElement=function(S,U,V){var F,ee={},se=null;if(U!=null)for(F in U.key!==void 0&&(se=""+U.key),U)K.call(U,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ee[F]=U[F]);var me=arguments.length-2;if(me===1)ee.children=V;else if(1<me){for(var Fe=Array(me),Ge=0;Ge<me;Ge++)Fe[Ge]=arguments[Ge+2];ee.children=Fe}if(S&&S.defaultProps)for(F in me=S.defaultProps,me)ee[F]===void 0&&(ee[F]=me[F]);return de(S,se,ee)},ue.createRef=function(){return{current:null}},ue.forwardRef=function(S){return{$$typeof:m,render:S}},ue.isValidElement=w,ue.lazy=function(S){return{$$typeof:T,_payload:{_status:-1,_result:S},_init:X}},ue.memo=function(S,U){return{$$typeof:_,type:S,compare:U===void 0?null:U}},ue.startTransition=function(S){var U=$.T,V={};$.T=V;try{var F=S(),ee=$.S;ee!==null&&ee(V,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(ae,te)}catch(se){te(se)}finally{U!==null&&V.types!==null&&(U.types=V.types),$.T=U}},ue.unstable_useCacheRefresh=function(){return $.H.useCacheRefresh()},ue.use=function(S){return $.H.use(S)},ue.useActionState=function(S,U,V){return $.H.useActionState(S,U,V)},ue.useCallback=function(S,U){return $.H.useCallback(S,U)},ue.useContext=function(S){return $.H.useContext(S)},ue.useDebugValue=function(){},ue.useDeferredValue=function(S,U){return $.H.useDeferredValue(S,U)},ue.useEffect=function(S,U){return $.H.useEffect(S,U)},ue.useEffectEvent=function(S){return $.H.useEffectEvent(S)},ue.useId=function(){return $.H.useId()},ue.useImperativeHandle=function(S,U,V){return $.H.useImperativeHandle(S,U,V)},ue.useInsertionEffect=function(S,U){return $.H.useInsertionEffect(S,U)},ue.useLayoutEffect=function(S,U){return $.H.useLayoutEffect(S,U)},ue.useMemo=function(S,U){return $.H.useMemo(S,U)},ue.useOptimistic=function(S,U){return $.H.useOptimistic(S,U)},ue.useReducer=function(S,U,V){return $.H.useReducer(S,U,V)},ue.useRef=function(S){return $.H.useRef(S)},ue.useState=function(S){return $.H.useState(S)},ue.useSyncExternalStore=function(S,U,V){return $.H.useSyncExternalStore(S,U,V)},ue.useTransition=function(){return $.H.useTransition()},ue.version="19.2.4",ue}var F_;function rf(){return F_||(F_=1,No.exports=n1()),No.exports}var He=rf(),Ao={exports:{}},Ds={},xo={exports:{}},Mo={};var Z_;function i1(){return Z_||(Z_=1,(function(s){function n(A,x){var X=A.length;A.push(x);e:for(;0<X;){var te=X-1>>>1,Ee=A[te];if(0<c(Ee,x))A[te]=x,A[X]=Ee,X=te;else break e}}function l(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var x=A[0],X=A.pop();if(X!==x){A[0]=X;e:for(var te=0,Ee=A.length,S=Ee>>>1;te<S;){var U=2*(te+1)-1,V=A[U],F=U+1,ee=A[F];if(0>c(V,X))F<Ee&&0>c(ee,V)?(A[te]=ee,A[F]=X,te=F):(A[te]=V,A[U]=X,te=U);else if(F<Ee&&0>c(ee,X))A[te]=ee,A[F]=X,te=F;else break e}}return x}function c(A,x){var X=A.sortIndex-x.sortIndex;return X!==0?X:A.id-x.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();s.unstable_now=function(){return h.now()-m}}var g=[],_=[],T=1,b=null,E=3,Y=!1,G=!1,J=!1,ce=!1,ie=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,fe=typeof setImmediate<"u"?setImmediate:null;function Me(A){for(var x=l(_);x!==null;){if(x.callback===null)r(_);else if(x.startTime<=A)r(_),x.sortIndex=x.expirationTime,n(g,x);else break;x=l(_)}}function et(A){if(J=!1,Me(A),!G)if(l(g)!==null)G=!0,ae||(ae=!0,O());else{var x=l(_);x!==null&&j(et,x.startTime-A)}}var ae=!1,$=-1,K=5,de=-1;function k(){return ce?!0:!(s.unstable_now()-de<K)}function w(){if(ce=!1,ae){var A=s.unstable_now();de=A;var x=!0;try{e:{G=!1,J&&(J=!1,re($),$=-1),Y=!0;var X=E;try{t:{for(Me(A),b=l(g);b!==null&&!(b.expirationTime>A&&k());){var te=b.callback;if(typeof te=="function"){b.callback=null,E=b.priorityLevel;var Ee=te(b.expirationTime<=A);if(A=s.unstable_now(),typeof Ee=="function"){b.callback=Ee,Me(A),x=!0;break t}b===l(g)&&r(g),Me(A)}else r(g);b=l(g)}if(b!==null)x=!0;else{var S=l(_);S!==null&&j(et,S.startTime-A),x=!1}}break e}finally{b=null,E=X,Y=!1}x=void 0}}finally{x?O():ae=!1}}}var O;if(typeof fe=="function")O=function(){fe(w)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,q=H.port2;H.port1.onmessage=w,O=function(){q.postMessage(null)}}else O=function(){ie(w,0)};function j(A,x){$=ie(function(){A(s.unstable_now())},x)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(A){A.callback=null},s.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<A?Math.floor(1e3/A):5},s.unstable_getCurrentPriorityLevel=function(){return E},s.unstable_next=function(A){switch(E){case 1:case 2:case 3:var x=3;break;default:x=E}var X=E;E=x;try{return A()}finally{E=X}},s.unstable_requestPaint=function(){ce=!0},s.unstable_runWithPriority=function(A,x){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var X=E;E=A;try{return x()}finally{E=X}},s.unstable_scheduleCallback=function(A,x,X){var te=s.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?te+X:te):X=te,A){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=X+Ee,A={id:T++,callback:x,priorityLevel:A,startTime:X,expirationTime:Ee,sortIndex:-1},X>te?(A.sortIndex=X,n(_,A),l(g)===null&&A===l(_)&&(J?(re($),$=-1):J=!0,j(et,X-te))):(A.sortIndex=Ee,n(g,A),G||Y||(G=!0,ae||(ae=!0,O()))),A},s.unstable_shouldYield=k,s.unstable_wrapCallback=function(A){var x=E;return function(){var X=E;E=x;try{return A.apply(this,arguments)}finally{E=X}}}})(Mo)),Mo}var K_;function l1(){return K_||(K_=1,xo.exports=i1()),xo.exports}var Ro={exports:{}},mt={};var J_;function s1(){if(J_)return mt;J_=1;var s=rf();function n(g){var _="https://react.dev/errors/"+g;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(){}var r={d:{f:l,r:function(){throw Error(n(522))},D:l,C:l,L:l,m:l,X:l,S:l,M:l},p:0,findDOMNode:null},c=Symbol.for("react.portal");function f(g,_,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:b==null?null:""+b,children:g,containerInfo:_,implementation:T}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,_){if(g==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mt.createPortal=function(g,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(n(299));return f(g,_,null,T)},mt.flushSync=function(g){var _=h.T,T=r.p;try{if(h.T=null,r.p=2,g)return g()}finally{h.T=_,r.p=T,r.d.f()}},mt.preconnect=function(g,_){typeof g=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(g,_))},mt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},mt.preinit=function(g,_){if(typeof g=="string"&&_&&typeof _.as=="string"){var T=_.as,b=m(T,_.crossOrigin),E=typeof _.integrity=="string"?_.integrity:void 0,Y=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?r.d.S(g,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:Y}):T==="script"&&r.d.X(g,{crossOrigin:b,integrity:E,fetchPriority:Y,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},mt.preinitModule=function(g,_){if(typeof g=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=m(_.as,_.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(g)},mt.preload=function(g,_){if(typeof g=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,b=m(T,_.crossOrigin);r.d.L(g,T,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},mt.preloadModule=function(g,_){if(typeof g=="string")if(_){var T=m(_.as,_.crossOrigin);r.d.m(g,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(g)},mt.requestFormReset=function(g){r.d.r(g)},mt.unstable_batchedUpdates=function(g,_){return g(_)},mt.useFormState=function(g,_,T){return h.H.useFormState(g,_,T)},mt.useFormStatus=function(){return h.H.useHostTransitionStatus()},mt.version="19.2.4",mt}var W_;function a1(){if(W_)return Ro.exports;W_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Ro.exports=s1(),Ro.exports}var P_;function r1(){if(P_)return Ds;P_=1;var s=l1(),n=rf(),l=a1();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(r(188))}function _(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,a=t;;){var u=i.return;if(u===null)break;var o=u.alternate;if(o===null){if(a=u.return,a!==null){i=a;continue}break}if(u.child===o.child){for(o=u.child;o;){if(o===i)return g(u),e;if(o===a)return g(u),t;o=o.sibling}throw Error(r(188))}if(i.return!==a.return)i=u,a=o;else{for(var d=!1,p=u.child;p;){if(p===i){d=!0,i=u,a=o;break}if(p===a){d=!0,a=u,i=o;break}p=p.sibling}if(!d){for(p=o.child;p;){if(p===i){d=!0,i=o,a=u;break}if(p===a){d=!0,a=o,i=u;break}p=p.sibling}if(!d)throw Error(r(189))}}if(i.alternate!==a)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function T(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=T(e),t!==null)return t;e=e.sibling}return null}var b=Object.assign,E=Symbol.for("react.element"),Y=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),J=Symbol.for("react.fragment"),ce=Symbol.for("react.strict_mode"),ie=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),fe=Symbol.for("react.context"),Me=Symbol.for("react.forward_ref"),et=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),K=Symbol.for("react.lazy"),de=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),w=Symbol.iterator;function O(e){return e===null||typeof e!="object"?null:(e=w&&e[w]||e["@@iterator"],typeof e=="function"?e:null)}var H=Symbol.for("react.client.reference");function q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===H?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case J:return"Fragment";case ie:return"Profiler";case ce:return"StrictMode";case et:return"Suspense";case ae:return"SuspenseList";case de:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case fe:return e.displayName||"Context";case re:return(e._context.displayName||"Context")+".Consumer";case Me:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case $:return t=e.displayName||null,t!==null?t:q(e.type)||"Memo";case K:t=e._payload,e=e._init;try{return q(e(t))}catch{}}return null}var j=Array.isArray,A=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=l.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},te=[],Ee=-1;function S(e){return{current:e}}function U(e){0>Ee||(e.current=te[Ee],te[Ee]=null,Ee--)}function V(e,t){Ee++,te[Ee]=e.current,e.current=t}var F=S(null),ee=S(null),se=S(null),me=S(null);function Fe(e,t){switch(V(se,t),V(ee,e),V(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?d_(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=d_(t),e=m_(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(F),V(F,e)}function Ge(){U(F),U(ee),U(se)}function Ul(e){e.memoizedState!==null&&V(me,e);var t=F.current,i=m_(t,e.type);t!==i&&(V(ee,e),V(F,i))}function ra(e){ee.current===e&&(U(F),U(ee)),me.current===e&&(U(me),Ns._currentValue=X)}var su,Gf;function fi(e){if(su===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);su=t&&t[1]||"",Gf=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+su+e+Gf}var au=!1;function ru(e,t){if(!e||au)return"";au=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(z){var D=z}Reflect.construct(e,[],I)}else{try{I.call()}catch(z){D=z}e.call(I.prototype)}}else{try{throw Error()}catch(z){D=z}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(z){if(z&&D&&typeof z.stack=="string")return[z.stack,D.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=a.DetermineComponentFrameRoot(),d=o[0],p=o[1];if(d&&p){var v=d.split(`
`),R=p.split(`
`);for(u=a=0;a<v.length&&!v[a].includes("DetermineComponentFrameRoot");)a++;for(;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;if(a===v.length||u===R.length)for(a=v.length-1,u=R.length-1;1<=a&&0<=u&&v[a]!==R[u];)u--;for(;1<=a&&0<=u;a--,u--)if(v[a]!==R[u]){if(a!==1||u!==1)do if(a--,u--,0>u||v[a]!==R[u]){var B=`
`+v[a].replace(" at new "," at ");return e.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",e.displayName)),B}while(1<=a&&0<=u);break}}}finally{au=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?fi(i):""}function Oy(e,t){switch(e.tag){case 26:case 27:case 5:return fi(e.type);case 16:return fi("Lazy");case 13:return e.child!==t&&t!==null?fi("Suspense Fallback"):fi("Suspense");case 19:return fi("SuspenseList");case 0:case 15:return ru(e.type,!1);case 11:return ru(e.type.render,!1);case 1:return ru(e.type,!0);case 31:return fi("Activity");default:return""}}function Vf(e){try{var t="",i=null;do t+=Oy(e,i),i=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var uu=Object.prototype.hasOwnProperty,cu=s.unstable_scheduleCallback,ou=s.unstable_cancelCallback,wy=s.unstable_shouldYield,zy=s.unstable_requestPaint,Mt=s.unstable_now,By=s.unstable_getCurrentPriorityLevel,Qf=s.unstable_ImmediatePriority,Xf=s.unstable_UserBlockingPriority,ua=s.unstable_NormalPriority,jy=s.unstable_LowPriority,Ff=s.unstable_IdlePriority,Uy=s.log,Ly=s.unstable_setDisableYieldValue,Ll=null,Rt=null;function zn(e){if(typeof Uy=="function"&&Ly(e),Rt&&typeof Rt.setStrictMode=="function")try{Rt.setStrictMode(Ll,e)}catch{}}var Dt=Math.clz32?Math.clz32:ky,Hy=Math.log,Iy=Math.LN2;function ky(e){return e>>>=0,e===0?32:31-(Hy(e)/Iy|0)|0}var ca=256,oa=262144,fa=4194304;function hi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ha(e,t,i){var a=e.pendingLanes;if(a===0)return 0;var u=0,o=e.suspendedLanes,d=e.pingedLanes;e=e.warmLanes;var p=a&134217727;return p!==0?(a=p&~o,a!==0?u=hi(a):(d&=p,d!==0?u=hi(d):i||(i=p&~e,i!==0&&(u=hi(i))))):(p=a&~o,p!==0?u=hi(p):d!==0?u=hi(d):i||(i=a&~e,i!==0&&(u=hi(i)))),u===0?0:t!==0&&t!==u&&(t&o)===0&&(o=u&-u,i=t&-t,o>=i||o===32&&(i&4194048)!==0)?t:u}function Hl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function qy(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zf(){var e=fa;return fa<<=1,(fa&62914560)===0&&(fa=4194304),e}function fu(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Il(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yy(e,t,i,a,u,o){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var p=e.entanglements,v=e.expirationTimes,R=e.hiddenUpdates;for(i=d&~i;0<i;){var B=31-Dt(i),I=1<<B;p[B]=0,v[B]=-1;var D=R[B];if(D!==null)for(R[B]=null,B=0;B<D.length;B++){var z=D[B];z!==null&&(z.lane&=-536870913)}i&=~I}a!==0&&Kf(e,a,0),o!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=o&~(d&~t))}function Kf(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-Dt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|i&261930}function Jf(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-Dt(i),u=1<<a;u&t|e[a]&t&&(e[a]|=t),i&=~u}}function Wf(e,t){var i=t&-t;return i=(i&42)!==0?1:hu(i),(i&(e.suspendedLanes|t))!==0?0:i}function hu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function du(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Pf(){var e=x.p;return e!==0?e:(e=window.event,e===void 0?32:L_(e.type))}function $f(e,t){var i=x.p;try{return x.p=e,t()}finally{x.p=i}}var Bn=Math.random().toString(36).slice(2),ct="__reactFiber$"+Bn,yt="__reactProps$"+Bn,Hi="__reactContainer$"+Bn,mu="__reactEvents$"+Bn,Gy="__reactListeners$"+Bn,Vy="__reactHandles$"+Bn,eh="__reactResources$"+Bn,kl="__reactMarker$"+Bn;function _u(e){delete e[ct],delete e[yt],delete e[mu],delete e[Gy],delete e[Vy]}function Ii(e){var t=e[ct];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Hi]||i[ct]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=S_(e);e!==null;){if(i=e[ct])return i;e=S_(e)}return t}e=i,i=e.parentNode}return null}function ki(e){if(e=e[ct]||e[Hi]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ql(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function qi(e){var t=e[eh];return t||(t=e[eh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function lt(e){e[kl]=!0}var th=new Set,nh={};function di(e,t){Yi(e,t),Yi(e+"Capture",t)}function Yi(e,t){for(nh[e]=t,e=0;e<t.length;e++)th.add(t[e])}var Qy=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ih={},lh={};function Xy(e){return uu.call(lh,e)?!0:uu.call(ih,e)?!1:Qy.test(e)?lh[e]=!0:(ih[e]=!0,!1)}function da(e,t,i){if(Xy(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function ma(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function rn(e,t,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+a)}}function Ht(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Fy(e,t,i){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,o=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(d){i=""+d,o.call(this,d)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return i},setValue:function(d){i=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gu(e){if(!e._valueTracker){var t=sh(e)?"checked":"value";e._valueTracker=Fy(e,t,""+e[t])}}function ah(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=sh(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function _a(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Zy=/[\n"\\]/g;function It(e){return e.replace(Zy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function pu(e,t,i,a,u,o,d,p){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ht(t)):e.value!==""+Ht(t)&&(e.value=""+Ht(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?yu(e,d,Ht(t)):i!=null?yu(e,d,Ht(i)):a!=null&&e.removeAttribute("value"),u==null&&o!=null&&(e.defaultChecked=!!o),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+Ht(p):e.removeAttribute("name")}function rh(e,t,i,a,u,o,d,p){if(o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.type=o),t!=null||i!=null){if(!(o!=="submit"&&o!=="reset"||t!=null)){gu(e);return}i=i!=null?""+Ht(i):"",t=t!=null?""+Ht(t):i,p||t===e.value||(e.value=t),e.defaultValue=t}a=a??u,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=p?e.checked:!!a,e.defaultChecked=!!a,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d),gu(e)}function yu(e,t,i){t==="number"&&_a(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Gi(e,t,i,a){if(e=e.options,t){t={};for(var u=0;u<i.length;u++)t["$"+i[u]]=!0;for(i=0;i<e.length;i++)u=t.hasOwnProperty("$"+e[i].value),e[i].selected!==u&&(e[i].selected=u),u&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Ht(i),t=null,u=0;u<e.length;u++){if(e[u].value===i){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function uh(e,t,i){if(t!=null&&(t=""+Ht(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Ht(i):""}function ch(e,t,i,a){if(t==null){if(a!=null){if(i!=null)throw Error(r(92));if(j(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),t=i}i=Ht(t),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a),gu(e)}function Vi(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Ky=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oh(e,t,i){var a=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,i):typeof i!="number"||i===0||Ky.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function fh(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var u in t)a=t[u],t.hasOwnProperty(u)&&i[u]!==a&&oh(e,u,a)}else for(var o in t)t.hasOwnProperty(o)&&oh(e,o,t[o])}function vu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ga(e){return Wy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function un(){}var bu=null;function Su(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qi=null,Xi=null;function hh(e){var t=ki(e);if(t&&(e=t.stateNode)){var i=e[yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(pu(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+It(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var u=a[yt]||null;if(!u)throw Error(r(90));pu(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<i.length;t++)a=i[t],a.form===e.form&&ah(a)}break e;case"textarea":uh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Gi(e,!!i.multiple,t,!1)}}}var Eu=!1;function dh(e,t,i){if(Eu)return e(t,i);Eu=!0;try{var a=e(t);return a}finally{if(Eu=!1,(Qi!==null||Xi!==null)&&(ir(),Qi&&(t=Qi,e=Xi,Xi=Qi=null,hh(t),e)))for(t=0;t<e.length;t++)hh(e[t])}}function Yl(e,t){var i=e.stateNode;if(i===null)return null;var a=i[yt]||null;if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cu=!1;if(cn)try{var Gl={};Object.defineProperty(Gl,"passive",{get:function(){Cu=!0}}),window.addEventListener("test",Gl,Gl),window.removeEventListener("test",Gl,Gl)}catch{Cu=!1}var jn=null,Tu=null,pa=null;function mh(){if(pa)return pa;var e,t=Tu,i=t.length,a,u="value"in jn?jn.value:jn.textContent,o=u.length;for(e=0;e<i&&t[e]===u[e];e++);var d=i-e;for(a=1;a<=d&&t[i-a]===u[o-a];a++);return pa=u.slice(e,1<a?1-a:void 0)}function ya(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function va(){return!0}function _h(){return!1}function vt(e){function t(i,a,u,o,d){this._reactName=i,this._targetInst=u,this.type=a,this.nativeEvent=o,this.target=d,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(i=e[p],this[p]=i?i(o):o[p]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?va:_h,this.isPropagationStopped=_h,this}return b(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=va)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=va)},persist:function(){},isPersistent:va}),t}var mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=vt(mi),Vl=b({},mi,{view:0,detail:0}),Py=vt(Vl),Nu,Au,Ql,Sa=b({},Vl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ql&&(Ql&&e.type==="mousemove"?(Nu=e.screenX-Ql.screenX,Au=e.screenY-Ql.screenY):Au=Nu=0,Ql=e),Nu)},movementY:function(e){return"movementY"in e?e.movementY:Au}}),gh=vt(Sa),$y=b({},Sa,{dataTransfer:0}),ev=vt($y),tv=b({},Vl,{relatedTarget:0}),xu=vt(tv),nv=b({},mi,{animationName:0,elapsedTime:0,pseudoElement:0}),iv=vt(nv),lv=b({},mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sv=vt(lv),av=b({},mi,{data:0}),ph=vt(av),rv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},cv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ov(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=cv[e])?!!t[e]:!1}function Mu(){return ov}var fv=b({},Vl,{key:function(e){if(e.key){var t=rv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ya(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mu,charCode:function(e){return e.type==="keypress"?ya(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ya(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hv=vt(fv),dv=b({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yh=vt(dv),mv=b({},Vl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mu}),_v=vt(mv),gv=b({},mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),pv=vt(gv),yv=b({},Sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vv=vt(yv),bv=b({},mi,{newState:0,oldState:0}),Sv=vt(bv),Ev=[9,13,27,32],Ru=cn&&"CompositionEvent"in window,Xl=null;cn&&"documentMode"in document&&(Xl=document.documentMode);var Cv=cn&&"TextEvent"in window&&!Xl,vh=cn&&(!Ru||Xl&&8<Xl&&11>=Xl),bh=" ",Sh=!1;function Eh(e,t){switch(e){case"keyup":return Ev.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ch(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fi=!1;function Tv(e,t){switch(e){case"compositionend":return Ch(t);case"keypress":return t.which!==32?null:(Sh=!0,bh);case"textInput":return e=t.data,e===bh&&Sh?null:e;default:return null}}function Nv(e,t){if(Fi)return e==="compositionend"||!Ru&&Eh(e,t)?(e=mh(),pa=Tu=jn=null,Fi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return vh&&t.locale!=="ko"?null:t.data;default:return null}}var Av={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Th(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Av[e.type]:t==="textarea"}function Nh(e,t,i,a){Qi?Xi?Xi.push(a):Xi=[a]:Qi=a,t=or(t,"onChange"),0<t.length&&(i=new ba("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var Fl=null,Zl=null;function xv(e){r_(e,0)}function Ea(e){var t=ql(e);if(ah(t))return e}function Ah(e,t){if(e==="change")return t}var xh=!1;if(cn){var Du;if(cn){var Ou="oninput"in document;if(!Ou){var Mh=document.createElement("div");Mh.setAttribute("oninput","return;"),Ou=typeof Mh.oninput=="function"}Du=Ou}else Du=!1;xh=Du&&(!document.documentMode||9<document.documentMode)}function Rh(){Fl&&(Fl.detachEvent("onpropertychange",Dh),Zl=Fl=null)}function Dh(e){if(e.propertyName==="value"&&Ea(Zl)){var t=[];Nh(t,Zl,e,Su(e)),dh(xv,t)}}function Mv(e,t,i){e==="focusin"?(Rh(),Fl=t,Zl=i,Fl.attachEvent("onpropertychange",Dh)):e==="focusout"&&Rh()}function Rv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ea(Zl)}function Dv(e,t){if(e==="click")return Ea(t)}function Ov(e,t){if(e==="input"||e==="change")return Ea(t)}function wv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:wv;function Kl(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var u=i[a];if(!uu.call(t,u)||!Ot(e[u],t[u]))return!1}return!0}function Oh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wh(e,t){var i=Oh(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Oh(i)}}function zh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=_a(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=_a(e.document)}return t}function wu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var zv=cn&&"documentMode"in document&&11>=document.documentMode,Zi=null,zu=null,Jl=null,Bu=!1;function jh(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Bu||Zi==null||Zi!==_a(a)||(a=Zi,"selectionStart"in a&&wu(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Jl&&Kl(Jl,a)||(Jl=a,a=or(zu,"onSelect"),0<a.length&&(t=new ba("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=Zi)))}function _i(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var Ki={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},ju={},Uh={};cn&&(Uh=document.createElement("div").style,"AnimationEvent"in window||(delete Ki.animationend.animation,delete Ki.animationiteration.animation,delete Ki.animationstart.animation),"TransitionEvent"in window||delete Ki.transitionend.transition);function gi(e){if(ju[e])return ju[e];if(!Ki[e])return e;var t=Ki[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Uh)return ju[e]=t[i];return e}var Lh=gi("animationend"),Hh=gi("animationiteration"),Ih=gi("animationstart"),Bv=gi("transitionrun"),jv=gi("transitionstart"),Uv=gi("transitioncancel"),kh=gi("transitionend"),qh=new Map,Uu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uu.push("scrollEnd");function Zt(e,t){qh.set(e,t),di(t,[e])}var Ca=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},kt=[],Ji=0,Lu=0;function Ta(){for(var e=Ji,t=Lu=Ji=0;t<e;){var i=kt[t];kt[t++]=null;var a=kt[t];kt[t++]=null;var u=kt[t];kt[t++]=null;var o=kt[t];if(kt[t++]=null,a!==null&&u!==null){var d=a.pending;d===null?u.next=u:(u.next=d.next,d.next=u),a.pending=u}o!==0&&Yh(i,u,o)}}function Na(e,t,i,a){kt[Ji++]=e,kt[Ji++]=t,kt[Ji++]=i,kt[Ji++]=a,Lu|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Hu(e,t,i,a){return Na(e,t,i,a),Aa(e)}function pi(e,t){return Na(e,null,null,t),Aa(e)}function Yh(e,t,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var u=!1,o=e.return;o!==null;)o.childLanes|=i,a=o.alternate,a!==null&&(a.childLanes|=i),o.tag===22&&(e=o.stateNode,e===null||e._visibility&1||(u=!0)),e=o,o=o.return;return e.tag===3?(o=e.stateNode,u&&t!==null&&(u=31-Dt(i),e=o.hiddenUpdates,a=e[u],a===null?e[u]=[t]:a.push(t),t.lane=i|536870912),o):null}function Aa(e){if(50<ys)throw ys=0,Fc=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Wi={};function Lv(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,i,a){return new Lv(e,t,i,a)}function Iu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function on(e,t){var i=e.alternate;return i===null?(i=wt(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Gh(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function xa(e,t,i,a,u,o){var d=0;if(a=e,typeof e=="function")Iu(e)&&(d=1);else if(typeof e=="string")d=Y0(e,i,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case de:return e=wt(31,i,t,u),e.elementType=de,e.lanes=o,e;case J:return yi(i.children,u,o,t);case ce:d=8,u|=24;break;case ie:return e=wt(12,i,t,u|2),e.elementType=ie,e.lanes=o,e;case et:return e=wt(13,i,t,u),e.elementType=et,e.lanes=o,e;case ae:return e=wt(19,i,t,u),e.elementType=ae,e.lanes=o,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case fe:d=10;break e;case re:d=9;break e;case Me:d=11;break e;case $:d=14;break e;case K:d=16,a=null;break e}d=29,i=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=wt(d,i,t,u),t.elementType=e,t.type=a,t.lanes=o,t}function yi(e,t,i,a){return e=wt(7,e,a,t),e.lanes=i,e}function ku(e,t,i){return e=wt(6,e,null,t),e.lanes=i,e}function Vh(e){var t=wt(18,null,null,0);return t.stateNode=e,t}function qu(e,t,i){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qh=new WeakMap;function qt(e,t){if(typeof e=="object"&&e!==null){var i=Qh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:Vf(t)},Qh.set(e,t),t)}return{value:e,source:t,stack:Vf(t)}}var Pi=[],$i=0,Ma=null,Wl=0,Yt=[],Gt=0,Un=null,tn=1,nn="";function fn(e,t){Pi[$i++]=Wl,Pi[$i++]=Ma,Ma=e,Wl=t}function Xh(e,t,i){Yt[Gt++]=tn,Yt[Gt++]=nn,Yt[Gt++]=Un,Un=e;var a=tn;e=nn;var u=32-Dt(a)-1;a&=~(1<<u),i+=1;var o=32-Dt(t)+u;if(30<o){var d=u-u%5;o=(a&(1<<d)-1).toString(32),a>>=d,u-=d,tn=1<<32-Dt(t)+u|i<<u|a,nn=o+e}else tn=1<<o|i<<u|a,nn=e}function Yu(e){e.return!==null&&(fn(e,1),Xh(e,1,0))}function Gu(e){for(;e===Ma;)Ma=Pi[--$i],Pi[$i]=null,Wl=Pi[--$i],Pi[$i]=null;for(;e===Un;)Un=Yt[--Gt],Yt[Gt]=null,nn=Yt[--Gt],Yt[Gt]=null,tn=Yt[--Gt],Yt[Gt]=null}function Fh(e,t){Yt[Gt++]=tn,Yt[Gt++]=nn,Yt[Gt++]=Un,tn=t.id,nn=t.overflow,Un=e}var ot=null,Ie=null,Ce=!1,Ln=null,Vt=!1,Vu=Error(r(519));function Hn(e){var t=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Pl(qt(t,e)),Vu}function Zh(e){var t=e.stateNode,i=e.type,a=e.memoizedProps;switch(t[ct]=e,t[yt]=a,i){case"dialog":ye("cancel",t),ye("close",t);break;case"iframe":case"object":case"embed":ye("load",t);break;case"video":case"audio":for(i=0;i<bs.length;i++)ye(bs[i],t);break;case"source":ye("error",t);break;case"img":case"image":case"link":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"input":ye("invalid",t),rh(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ye("invalid",t);break;case"textarea":ye("invalid",t),ch(t,a.value,a.defaultValue,a.children)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||a.suppressHydrationWarning===!0||f_(t.textContent,i)?(a.popover!=null&&(ye("beforetoggle",t),ye("toggle",t)),a.onScroll!=null&&ye("scroll",t),a.onScrollEnd!=null&&ye("scrollend",t),a.onClick!=null&&(t.onclick=un),t=!0):t=!1,t||Hn(e,!0)}function Kh(e){for(ot=e.return;ot;)switch(ot.tag){case 5:case 31:case 13:Vt=!1;return;case 27:case 3:Vt=!0;return;default:ot=ot.return}}function el(e){if(e!==ot)return!1;if(!Ce)return Kh(e),Ce=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||uo(e.type,e.memoizedProps)),i=!i),i&&Ie&&Hn(e),Kh(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ie=b_(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ie=b_(e)}else t===27?(t=Ie,Pn(e.type)?(e=mo,mo=null,Ie=e):Ie=t):Ie=ot?Xt(e.stateNode.nextSibling):null;return!0}function vi(){Ie=ot=null,Ce=!1}function Qu(){var e=Ln;return e!==null&&(Ct===null?Ct=e:Ct.push.apply(Ct,e),Ln=null),e}function Pl(e){Ln===null?Ln=[e]:Ln.push(e)}var Xu=S(null),bi=null,hn=null;function In(e,t,i){V(Xu,t._currentValue),t._currentValue=i}function dn(e){e._currentValue=Xu.current,U(Xu)}function Fu(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function Zu(e,t,i,a){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var o=u.dependencies;if(o!==null){var d=u.child;o=o.firstContext;e:for(;o!==null;){var p=o;o=u;for(var v=0;v<t.length;v++)if(p.context===t[v]){o.lanes|=i,p=o.alternate,p!==null&&(p.lanes|=i),Fu(o.return,i,e),a||(d=null);break e}o=p.next}}else if(u.tag===18){if(d=u.return,d===null)throw Error(r(341));d.lanes|=i,o=d.alternate,o!==null&&(o.lanes|=i),Fu(d,i,e),d=null}else d=u.child;if(d!==null)d.return=u;else for(d=u;d!==null;){if(d===e){d=null;break}if(u=d.sibling,u!==null){u.return=d.return,d=u;break}d=d.return}u=d}}function tl(e,t,i,a){e=null;for(var u=t,o=!1;u!==null;){if(!o){if((u.flags&524288)!==0)o=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var d=u.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var p=u.type;Ot(u.pendingProps.value,d.value)||(e!==null?e.push(p):e=[p])}}else if(u===me.current){if(d=u.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ns):e=[Ns])}u=u.return}e!==null&&Zu(t,e,i,a),t.flags|=262144}function Ra(e){for(e=e.firstContext;e!==null;){if(!Ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Si(e){bi=e,hn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ft(e){return Jh(bi,e)}function Da(e,t){return bi===null&&Si(e),Jh(e,t)}function Jh(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},hn===null){if(e===null)throw Error(r(308));hn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else hn=hn.next=t;return i}var Hv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},Iv=s.unstable_scheduleCallback,kv=s.unstable_NormalPriority,Je={$$typeof:fe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ku(){return{controller:new Hv,data:new Map,refCount:0}}function $l(e){e.refCount--,e.refCount===0&&Iv(kv,function(){e.controller.abort()})}var es=null,Ju=0,nl=0,il=null;function qv(e,t){if(es===null){var i=es=[];Ju=0,nl=$c(),il={status:"pending",value:void 0,then:function(a){i.push(a)}}}return Ju++,t.then(Wh,Wh),t}function Wh(){if(--Ju===0&&es!==null){il!==null&&(il.status="fulfilled");var e=es;es=null,nl=0,il=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Yv(e,t){var i=[],a={status:"pending",value:null,reason:null,then:function(u){i.push(u)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var u=0;u<i.length;u++)(0,i[u])(t)},function(u){for(a.status="rejected",a.reason=u,u=0;u<i.length;u++)(0,i[u])(void 0)}),a}var Ph=A.S;A.S=function(e,t){jm=Mt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&qv(e,t),Ph!==null&&Ph(e,t)};var Ei=S(null);function Wu(){var e=Ei.current;return e!==null?e:Be.pooledCache}function Oa(e,t){t===null?V(Ei,Ei.current):V(Ei,t.pool)}function $h(){var e=Wu();return e===null?null:{parent:Je._currentValue,pool:e}}var ll=Error(r(460)),Pu=Error(r(474)),wa=Error(r(542)),za={then:function(){}};function ed(e){return e=e.status,e==="fulfilled"||e==="rejected"}function td(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(un,un),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,id(e),e;default:if(typeof t.status=="string")t.then(un,un);else{if(e=Be,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=a}},function(a){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,id(e),e}throw Ti=t,ll}}function Ci(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(Ti=i,ll):i}}var Ti=null;function nd(){if(Ti===null)throw Error(r(459));var e=Ti;return Ti=null,e}function id(e){if(e===ll||e===wa)throw Error(r(483))}var sl=null,ts=0;function Ba(e){var t=ts;return ts+=1,sl===null&&(sl=[]),td(sl,e,t)}function ns(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ja(e,t){throw t.$$typeof===E?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function ld(e){function t(N,C){if(e){var M=N.deletions;M===null?(N.deletions=[C],N.flags|=16):M.push(C)}}function i(N,C){if(!e)return null;for(;C!==null;)t(N,C),C=C.sibling;return null}function a(N){for(var C=new Map;N!==null;)N.key!==null?C.set(N.key,N):C.set(N.index,N),N=N.sibling;return C}function u(N,C){return N=on(N,C),N.index=0,N.sibling=null,N}function o(N,C,M){return N.index=M,e?(M=N.alternate,M!==null?(M=M.index,M<C?(N.flags|=67108866,C):M):(N.flags|=67108866,C)):(N.flags|=1048576,C)}function d(N){return e&&N.alternate===null&&(N.flags|=67108866),N}function p(N,C,M,L){return C===null||C.tag!==6?(C=ku(M,N.mode,L),C.return=N,C):(C=u(C,M),C.return=N,C)}function v(N,C,M,L){var P=M.type;return P===J?B(N,C,M.props.children,L,M.key):C!==null&&(C.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===K&&Ci(P)===C.type)?(C=u(C,M.props),ns(C,M),C.return=N,C):(C=xa(M.type,M.key,M.props,null,N.mode,L),ns(C,M),C.return=N,C)}function R(N,C,M,L){return C===null||C.tag!==4||C.stateNode.containerInfo!==M.containerInfo||C.stateNode.implementation!==M.implementation?(C=qu(M,N.mode,L),C.return=N,C):(C=u(C,M.children||[]),C.return=N,C)}function B(N,C,M,L,P){return C===null||C.tag!==7?(C=yi(M,N.mode,L,P),C.return=N,C):(C=u(C,M),C.return=N,C)}function I(N,C,M){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=ku(""+C,N.mode,M),C.return=N,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Y:return M=xa(C.type,C.key,C.props,null,N.mode,M),ns(M,C),M.return=N,M;case G:return C=qu(C,N.mode,M),C.return=N,C;case K:return C=Ci(C),I(N,C,M)}if(j(C)||O(C))return C=yi(C,N.mode,M,null),C.return=N,C;if(typeof C.then=="function")return I(N,Ba(C),M);if(C.$$typeof===fe)return I(N,Da(N,C),M);ja(N,C)}return null}function D(N,C,M,L){var P=C!==null?C.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return P!==null?null:p(N,C,""+M,L);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Y:return M.key===P?v(N,C,M,L):null;case G:return M.key===P?R(N,C,M,L):null;case K:return M=Ci(M),D(N,C,M,L)}if(j(M)||O(M))return P!==null?null:B(N,C,M,L,null);if(typeof M.then=="function")return D(N,C,Ba(M),L);if(M.$$typeof===fe)return D(N,C,Da(N,M),L);ja(N,M)}return null}function z(N,C,M,L,P){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return N=N.get(M)||null,p(C,N,""+L,P);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case Y:return N=N.get(L.key===null?M:L.key)||null,v(C,N,L,P);case G:return N=N.get(L.key===null?M:L.key)||null,R(C,N,L,P);case K:return L=Ci(L),z(N,C,M,L,P)}if(j(L)||O(L))return N=N.get(M)||null,B(C,N,L,P,null);if(typeof L.then=="function")return z(N,C,M,Ba(L),P);if(L.$$typeof===fe)return z(N,C,M,Da(C,L),P);ja(C,L)}return null}function Z(N,C,M,L){for(var P=null,Te=null,W=C,he=C=0,Se=null;W!==null&&he<M.length;he++){W.index>he?(Se=W,W=null):Se=W.sibling;var Ne=D(N,W,M[he],L);if(Ne===null){W===null&&(W=Se);break}e&&W&&Ne.alternate===null&&t(N,W),C=o(Ne,C,he),Te===null?P=Ne:Te.sibling=Ne,Te=Ne,W=Se}if(he===M.length)return i(N,W),Ce&&fn(N,he),P;if(W===null){for(;he<M.length;he++)W=I(N,M[he],L),W!==null&&(C=o(W,C,he),Te===null?P=W:Te.sibling=W,Te=W);return Ce&&fn(N,he),P}for(W=a(W);he<M.length;he++)Se=z(W,N,he,M[he],L),Se!==null&&(e&&Se.alternate!==null&&W.delete(Se.key===null?he:Se.key),C=o(Se,C,he),Te===null?P=Se:Te.sibling=Se,Te=Se);return e&&W.forEach(function(ii){return t(N,ii)}),Ce&&fn(N,he),P}function ne(N,C,M,L){if(M==null)throw Error(r(151));for(var P=null,Te=null,W=C,he=C=0,Se=null,Ne=M.next();W!==null&&!Ne.done;he++,Ne=M.next()){W.index>he?(Se=W,W=null):Se=W.sibling;var ii=D(N,W,Ne.value,L);if(ii===null){W===null&&(W=Se);break}e&&W&&ii.alternate===null&&t(N,W),C=o(ii,C,he),Te===null?P=ii:Te.sibling=ii,Te=ii,W=Se}if(Ne.done)return i(N,W),Ce&&fn(N,he),P;if(W===null){for(;!Ne.done;he++,Ne=M.next())Ne=I(N,Ne.value,L),Ne!==null&&(C=o(Ne,C,he),Te===null?P=Ne:Te.sibling=Ne,Te=Ne);return Ce&&fn(N,he),P}for(W=a(W);!Ne.done;he++,Ne=M.next())Ne=z(W,N,he,Ne.value,L),Ne!==null&&(e&&Ne.alternate!==null&&W.delete(Ne.key===null?he:Ne.key),C=o(Ne,C,he),Te===null?P=Ne:Te.sibling=Ne,Te=Ne);return e&&W.forEach(function($0){return t(N,$0)}),Ce&&fn(N,he),P}function ze(N,C,M,L){if(typeof M=="object"&&M!==null&&M.type===J&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case Y:e:{for(var P=M.key;C!==null;){if(C.key===P){if(P=M.type,P===J){if(C.tag===7){i(N,C.sibling),L=u(C,M.props.children),L.return=N,N=L;break e}}else if(C.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===K&&Ci(P)===C.type){i(N,C.sibling),L=u(C,M.props),ns(L,M),L.return=N,N=L;break e}i(N,C);break}else t(N,C);C=C.sibling}M.type===J?(L=yi(M.props.children,N.mode,L,M.key),L.return=N,N=L):(L=xa(M.type,M.key,M.props,null,N.mode,L),ns(L,M),L.return=N,N=L)}return d(N);case G:e:{for(P=M.key;C!==null;){if(C.key===P)if(C.tag===4&&C.stateNode.containerInfo===M.containerInfo&&C.stateNode.implementation===M.implementation){i(N,C.sibling),L=u(C,M.children||[]),L.return=N,N=L;break e}else{i(N,C);break}else t(N,C);C=C.sibling}L=qu(M,N.mode,L),L.return=N,N=L}return d(N);case K:return M=Ci(M),ze(N,C,M,L)}if(j(M))return Z(N,C,M,L);if(O(M)){if(P=O(M),typeof P!="function")throw Error(r(150));return M=P.call(M),ne(N,C,M,L)}if(typeof M.then=="function")return ze(N,C,Ba(M),L);if(M.$$typeof===fe)return ze(N,C,Da(N,M),L);ja(N,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,C!==null&&C.tag===6?(i(N,C.sibling),L=u(C,M),L.return=N,N=L):(i(N,C),L=ku(M,N.mode,L),L.return=N,N=L),d(N)):i(N,C)}return function(N,C,M,L){try{ts=0;var P=ze(N,C,M,L);return sl=null,P}catch(W){if(W===ll||W===wa)throw W;var Te=wt(29,W,null,N.mode);return Te.lanes=L,Te.return=N,Te}}}var Ni=ld(!0),sd=ld(!1),kn=!1;function $u(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ec(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function qn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Yn(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(xe&2)!==0){var u=a.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),a.pending=t,t=Aa(e),Yh(e,null,i),t}return Na(e,a,t,i),Aa(e)}function is(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Jf(e,i)}}function tc(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var u=null,o=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};o===null?u=o=d:o=o.next=d,i=i.next}while(i!==null);o===null?u=o=t:o=o.next=t}else u=o=t;i={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:o,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var nc=!1;function ls(){if(nc){var e=il;if(e!==null)throw e}}function ss(e,t,i,a){nc=!1;var u=e.updateQueue;kn=!1;var o=u.firstBaseUpdate,d=u.lastBaseUpdate,p=u.shared.pending;if(p!==null){u.shared.pending=null;var v=p,R=v.next;v.next=null,d===null?o=R:d.next=R,d=v;var B=e.alternate;B!==null&&(B=B.updateQueue,p=B.lastBaseUpdate,p!==d&&(p===null?B.firstBaseUpdate=R:p.next=R,B.lastBaseUpdate=v))}if(o!==null){var I=u.baseState;d=0,B=R=v=null,p=o;do{var D=p.lane&-536870913,z=D!==p.lane;if(z?(be&D)===D:(a&D)===D){D!==0&&D===nl&&(nc=!0),B!==null&&(B=B.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var Z=e,ne=p;D=t;var ze=i;switch(ne.tag){case 1:if(Z=ne.payload,typeof Z=="function"){I=Z.call(ze,I,D);break e}I=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=ne.payload,D=typeof Z=="function"?Z.call(ze,I,D):Z,D==null)break e;I=b({},I,D);break e;case 2:kn=!0}}D=p.callback,D!==null&&(e.flags|=64,z&&(e.flags|=8192),z=u.callbacks,z===null?u.callbacks=[D]:z.push(D))}else z={lane:D,tag:p.tag,payload:p.payload,callback:p.callback,next:null},B===null?(R=B=z,v=I):B=B.next=z,d|=D;if(p=p.next,p===null){if(p=u.shared.pending,p===null)break;z=p,p=z.next,z.next=null,u.lastBaseUpdate=z,u.shared.pending=null}}while(!0);B===null&&(v=I),u.baseState=v,u.firstBaseUpdate=R,u.lastBaseUpdate=B,o===null&&(u.shared.lanes=0),Fn|=d,e.lanes=d,e.memoizedState=I}}function ad(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function rd(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)ad(i[e],t)}var al=S(null),Ua=S(0);function ud(e,t){e=En,V(Ua,e),V(al,t),En=e|t.baseLanes}function ic(){V(Ua,En),V(al,al.current)}function lc(){En=Ua.current,U(al),U(Ua)}var zt=S(null),Qt=null;function Gn(e){var t=e.alternate;V(Ze,Ze.current&1),V(zt,e),Qt===null&&(t===null||al.current!==null||t.memoizedState!==null)&&(Qt=e)}function sc(e){V(Ze,Ze.current),V(zt,e),Qt===null&&(Qt=e)}function cd(e){e.tag===22?(V(Ze,Ze.current),V(zt,e),Qt===null&&(Qt=e)):Vn()}function Vn(){V(Ze,Ze.current),V(zt,zt.current)}function Bt(e){U(zt),Qt===e&&(Qt=null),U(Ze)}var Ze=S(0);function La(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||fo(i)||ho(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var mn=0,oe=null,Oe=null,We=null,Ha=!1,rl=!1,Ai=!1,Ia=0,as=0,ul=null,Gv=0;function Ve(){throw Error(r(321))}function ac(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Ot(e[i],t[i]))return!1;return!0}function rc(e,t,i,a,u,o){return mn=o,oe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,A.H=e===null||e.memoizedState===null?Xd:Ec,Ai=!1,o=i(a,u),Ai=!1,rl&&(o=fd(t,i,a,u)),od(e),o}function od(e){A.H=cs;var t=Oe!==null&&Oe.next!==null;if(mn=0,We=Oe=oe=null,Ha=!1,as=0,ul=null,t)throw Error(r(300));e===null||Pe||(e=e.dependencies,e!==null&&Ra(e)&&(Pe=!0))}function fd(e,t,i,a){oe=e;var u=0;do{if(rl&&(ul=null),as=0,rl=!1,25<=u)throw Error(r(301));if(u+=1,We=Oe=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}A.H=Fd,o=t(i,a)}while(rl);return o}function Vv(){var e=A.H,t=e.useState()[0];return t=typeof t.then=="function"?rs(t):t,e=e.useState()[0],(Oe!==null?Oe.memoizedState:null)!==e&&(oe.flags|=1024),t}function uc(){var e=Ia!==0;return Ia=0,e}function cc(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function oc(e){if(Ha){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ha=!1}mn=0,We=Oe=oe=null,rl=!1,as=Ia=0,ul=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?oe.memoizedState=We=e:We=We.next=e,We}function Ke(){if(Oe===null){var e=oe.alternate;e=e!==null?e.memoizedState:null}else e=Oe.next;var t=We===null?oe.memoizedState:We.next;if(t!==null)We=t,Oe=e;else{if(e===null)throw oe.alternate===null?Error(r(467)):Error(r(310));Oe=e,e={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},We===null?oe.memoizedState=We=e:We=We.next=e}return We}function ka(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function rs(e){var t=as;return as+=1,ul===null&&(ul=[]),e=td(ul,e,t),t=oe,(We===null?t.memoizedState:We.next)===null&&(t=t.alternate,A.H=t===null||t.memoizedState===null?Xd:Ec),e}function qa(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return rs(e);if(e.$$typeof===fe)return ft(e)}throw Error(r(438,String(e)))}function fc(e){var t=null,i=oe.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var a=oe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=ka(),oe.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),a=0;a<e;a++)i[a]=k;return t.index++,i}function _n(e,t){return typeof t=="function"?t(e):t}function Ya(e){var t=Ke();return hc(t,Oe,e)}function hc(e,t,i){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var u=e.baseQueue,o=a.pending;if(o!==null){if(u!==null){var d=u.next;u.next=o.next,o.next=d}t.baseQueue=u=o,a.pending=null}if(o=e.baseState,u===null)e.memoizedState=o;else{t=u.next;var p=d=null,v=null,R=t,B=!1;do{var I=R.lane&-536870913;if(I!==R.lane?(be&I)===I:(mn&I)===I){var D=R.revertLane;if(D===0)v!==null&&(v=v.next={lane:0,revertLane:0,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),I===nl&&(B=!0);else if((mn&D)===D){R=R.next,D===nl&&(B=!0);continue}else I={lane:0,revertLane:R.revertLane,gesture:null,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},v===null?(p=v=I,d=o):v=v.next=I,oe.lanes|=D,Fn|=D;I=R.action,Ai&&i(o,I),o=R.hasEagerState?R.eagerState:i(o,I)}else D={lane:I,revertLane:R.revertLane,gesture:R.gesture,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},v===null?(p=v=D,d=o):v=v.next=D,oe.lanes|=I,Fn|=I;R=R.next}while(R!==null&&R!==t);if(v===null?d=o:v.next=p,!Ot(o,e.memoizedState)&&(Pe=!0,B&&(i=il,i!==null)))throw i;e.memoizedState=o,e.baseState=d,e.baseQueue=v,a.lastRenderedState=o}return u===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function dc(e){var t=Ke(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var a=i.dispatch,u=i.pending,o=t.memoizedState;if(u!==null){i.pending=null;var d=u=u.next;do o=e(o,d.action),d=d.next;while(d!==u);Ot(o,t.memoizedState)||(Pe=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),i.lastRenderedState=o}return[o,a]}function hd(e,t,i){var a=oe,u=Ke(),o=Ce;if(o){if(i===void 0)throw Error(r(407));i=i()}else i=t();var d=!Ot((Oe||u).memoizedState,i);if(d&&(u.memoizedState=i,Pe=!0),u=u.queue,gc(_d.bind(null,a,u,e),[e]),u.getSnapshot!==t||d||We!==null&&We.memoizedState.tag&1){if(a.flags|=2048,cl(9,{destroy:void 0},md.bind(null,a,u,i,t),null),Be===null)throw Error(r(349));o||(mn&127)!==0||dd(a,t,i)}return i}function dd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=oe.updateQueue,t===null?(t=ka(),oe.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function md(e,t,i,a){t.value=i,t.getSnapshot=a,gd(t)&&pd(e)}function _d(e,t,i){return i(function(){gd(t)&&pd(e)})}function gd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Ot(e,i)}catch{return!0}}function pd(e){var t=pi(e,2);t!==null&&Tt(t,e,2)}function mc(e){var t=gt();if(typeof e=="function"){var i=e;if(e=i(),Ai){zn(!0);try{i()}finally{zn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:e},t}function yd(e,t,i,a){return e.baseState=i,hc(e,Oe,typeof a=="function"?a:_n)}function Qv(e,t,i,a,u){if(Qa(e))throw Error(r(485));if(e=t.action,e!==null){var o={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){o.listeners.push(d)}};A.T!==null?i(!0):o.isTransition=!1,a(o),i=t.pending,i===null?(o.next=t.pending=o,vd(t,o)):(o.next=i.next,t.pending=i.next=o)}}function vd(e,t){var i=t.action,a=t.payload,u=e.state;if(t.isTransition){var o=A.T,d={};A.T=d;try{var p=i(u,a),v=A.S;v!==null&&v(d,p),bd(e,t,p)}catch(R){_c(e,t,R)}finally{o!==null&&d.types!==null&&(o.types=d.types),A.T=o}}else try{o=i(u,a),bd(e,t,o)}catch(R){_c(e,t,R)}}function bd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){Sd(e,t,a)},function(a){return _c(e,t,a)}):Sd(e,t,i)}function Sd(e,t,i){t.status="fulfilled",t.value=i,Ed(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,vd(e,i)))}function _c(e,t,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=i,Ed(t),t=t.next;while(t!==a)}e.action=null}function Ed(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Cd(e,t){return t}function Td(e,t){if(Ce){var i=Be.formState;if(i!==null){e:{var a=oe;if(Ce){if(Ie){t:{for(var u=Ie,o=Vt;u.nodeType!==8;){if(!o){u=null;break t}if(u=Xt(u.nextSibling),u===null){u=null;break t}}o=u.data,u=o==="F!"||o==="F"?u:null}if(u){Ie=Xt(u.nextSibling),a=u.data==="F!";break e}}Hn(a)}a=!1}a&&(t=i[0])}}return i=gt(),i.memoizedState=i.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cd,lastRenderedState:t},i.queue=a,i=Gd.bind(null,oe,a),a.dispatch=i,a=mc(!1),o=Sc.bind(null,oe,!1,a.queue),a=gt(),u={state:t,dispatch:null,action:e,pending:null},a.queue=u,i=Qv.bind(null,oe,u,o,i),u.dispatch=i,a.memoizedState=e,[t,i,!1]}function Nd(e){var t=Ke();return Ad(t,Oe,e)}function Ad(e,t,i){if(t=hc(e,t,Cd)[0],e=Ya(_n)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=rs(t)}catch(d){throw d===ll?wa:d}else a=t;t=Ke();var u=t.queue,o=u.dispatch;return i!==t.memoizedState&&(oe.flags|=2048,cl(9,{destroy:void 0},Xv.bind(null,u,i),null)),[a,o,e]}function Xv(e,t){e.action=t}function xd(e){var t=Ke(),i=Oe;if(i!==null)return Ad(t,i,e);Ke(),t=t.memoizedState,i=Ke();var a=i.queue.dispatch;return i.memoizedState=e,[t,a,!1]}function cl(e,t,i,a){return e={tag:e,create:i,deps:a,inst:t,next:null},t=oe.updateQueue,t===null&&(t=ka(),oe.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function Md(){return Ke().memoizedState}function Ga(e,t,i,a){var u=gt();oe.flags|=e,u.memoizedState=cl(1|t,{destroy:void 0},i,a===void 0?null:a)}function Va(e,t,i,a){var u=Ke();a=a===void 0?null:a;var o=u.memoizedState.inst;Oe!==null&&a!==null&&ac(a,Oe.memoizedState.deps)?u.memoizedState=cl(t,o,i,a):(oe.flags|=e,u.memoizedState=cl(1|t,o,i,a))}function Rd(e,t){Ga(8390656,8,e,t)}function gc(e,t){Va(2048,8,e,t)}function Fv(e){oe.flags|=4;var t=oe.updateQueue;if(t===null)t=ka(),oe.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Dd(e){var t=Ke().memoizedState;return Fv({ref:t,nextImpl:e}),function(){if((xe&2)!==0)throw Error(r(440));return t.impl.apply(void 0,arguments)}}function Od(e,t){return Va(4,2,e,t)}function wd(e,t){return Va(4,4,e,t)}function zd(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Bd(e,t,i){i=i!=null?i.concat([e]):null,Va(4,4,zd.bind(null,t,e),i)}function pc(){}function jd(e,t){var i=Ke();t=t===void 0?null:t;var a=i.memoizedState;return t!==null&&ac(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Ud(e,t){var i=Ke();t=t===void 0?null:t;var a=i.memoizedState;if(t!==null&&ac(t,a[1]))return a[0];if(a=e(),Ai){zn(!0);try{e()}finally{zn(!1)}}return i.memoizedState=[a,t],a}function yc(e,t,i){return i===void 0||(mn&1073741824)!==0&&(be&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Lm(),oe.lanes|=e,Fn|=e,i)}function Ld(e,t,i,a){return Ot(i,t)?i:al.current!==null?(e=yc(e,i,a),Ot(e,t)||(Pe=!0),e):(mn&42)===0||(mn&1073741824)!==0&&(be&261930)===0?(Pe=!0,e.memoizedState=i):(e=Lm(),oe.lanes|=e,Fn|=e,t)}function Hd(e,t,i,a,u){var o=x.p;x.p=o!==0&&8>o?o:8;var d=A.T,p={};A.T=p,Sc(e,!1,t,i);try{var v=u(),R=A.S;if(R!==null&&R(p,v),v!==null&&typeof v=="object"&&typeof v.then=="function"){var B=Yv(v,a);us(e,t,B,Lt(e))}else us(e,t,a,Lt(e))}catch(I){us(e,t,{then:function(){},status:"rejected",reason:I},Lt())}finally{x.p=o,d!==null&&p.types!==null&&(d.types=p.types),A.T=d}}function Zv(){}function vc(e,t,i,a){if(e.tag!==5)throw Error(r(476));var u=Id(e).queue;Hd(e,u,t,X,i===null?Zv:function(){return kd(e),i(a)})}function Id(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:X},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function kd(e){var t=Id(e);t.next===null&&(t=e.alternate.memoizedState),us(e,t.next.queue,{},Lt())}function bc(){return ft(Ns)}function qd(){return Ke().memoizedState}function Yd(){return Ke().memoizedState}function Kv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Lt();e=qn(i);var a=Yn(t,e,i);a!==null&&(Tt(a,t,i),is(a,t,i)),t={cache:Ku()},e.payload=t;return}t=t.return}}function Jv(e,t,i){var a=Lt();i={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Qa(e)?Vd(t,i):(i=Hu(e,t,i,a),i!==null&&(Tt(i,e,a),Qd(i,t,a)))}function Gd(e,t,i){var a=Lt();us(e,t,i,a)}function us(e,t,i,a){var u={lane:a,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Qa(e))Vd(t,u);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var d=t.lastRenderedState,p=o(d,i);if(u.hasEagerState=!0,u.eagerState=p,Ot(p,d))return Na(e,t,u,0),Be===null&&Ta(),!1}catch{}if(i=Hu(e,t,u,a),i!==null)return Tt(i,e,a),Qd(i,t,a),!0}return!1}function Sc(e,t,i,a){if(a={lane:2,revertLane:$c(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Qa(e)){if(t)throw Error(r(479))}else t=Hu(e,i,a,2),t!==null&&Tt(t,e,2)}function Qa(e){var t=e.alternate;return e===oe||t!==null&&t===oe}function Vd(e,t){rl=Ha=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Qd(e,t,i){if((i&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,Jf(e,i)}}var cs={readContext:ft,use:qa,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};cs.useEffectEvent=Ve;var Xd={readContext:ft,use:qa,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:ft,useEffect:Rd,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Ga(4194308,4,zd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Ga(4194308,4,e,t)},useInsertionEffect:function(e,t){Ga(4,2,e,t)},useMemo:function(e,t){var i=gt();t=t===void 0?null:t;var a=e();if(Ai){zn(!0);try{e()}finally{zn(!1)}}return i.memoizedState=[a,t],a},useReducer:function(e,t,i){var a=gt();if(i!==void 0){var u=i(t);if(Ai){zn(!0);try{i(t)}finally{zn(!1)}}}else u=t;return a.memoizedState=a.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},a.queue=e,e=e.dispatch=Jv.bind(null,oe,e),[a.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:function(e){e=mc(e);var t=e.queue,i=Gd.bind(null,oe,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:pc,useDeferredValue:function(e,t){var i=gt();return yc(i,e,t)},useTransition:function(){var e=mc(!1);return e=Hd.bind(null,oe,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var a=oe,u=gt();if(Ce){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),Be===null)throw Error(r(349));(be&127)!==0||dd(a,t,i)}u.memoizedState=i;var o={value:i,getSnapshot:t};return u.queue=o,Rd(_d.bind(null,a,o,e),[e]),a.flags|=2048,cl(9,{destroy:void 0},md.bind(null,a,o,i,t),null),i},useId:function(){var e=gt(),t=Be.identifierPrefix;if(Ce){var i=nn,a=tn;i=(a&~(1<<32-Dt(a)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Ia++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=Gv++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:bc,useFormState:Td,useActionState:Td,useOptimistic:function(e){var t=gt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=Sc.bind(null,oe,!0,i),i.dispatch=t,[e,t]},useMemoCache:fc,useCacheRefresh:function(){return gt().memoizedState=Kv.bind(null,oe)},useEffectEvent:function(e){var t=gt(),i={impl:e};return t.memoizedState=i,function(){if((xe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}},Ec={readContext:ft,use:qa,useCallback:jd,useContext:ft,useEffect:gc,useImperativeHandle:Bd,useInsertionEffect:Od,useLayoutEffect:wd,useMemo:Ud,useReducer:Ya,useRef:Md,useState:function(){return Ya(_n)},useDebugValue:pc,useDeferredValue:function(e,t){var i=Ke();return Ld(i,Oe.memoizedState,e,t)},useTransition:function(){var e=Ya(_n)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:rs(e),t]},useSyncExternalStore:hd,useId:qd,useHostTransitionStatus:bc,useFormState:Nd,useActionState:Nd,useOptimistic:function(e,t){var i=Ke();return yd(i,Oe,e,t)},useMemoCache:fc,useCacheRefresh:Yd};Ec.useEffectEvent=Dd;var Fd={readContext:ft,use:qa,useCallback:jd,useContext:ft,useEffect:gc,useImperativeHandle:Bd,useInsertionEffect:Od,useLayoutEffect:wd,useMemo:Ud,useReducer:dc,useRef:Md,useState:function(){return dc(_n)},useDebugValue:pc,useDeferredValue:function(e,t){var i=Ke();return Oe===null?yc(i,e,t):Ld(i,Oe.memoizedState,e,t)},useTransition:function(){var e=dc(_n)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:rs(e),t]},useSyncExternalStore:hd,useId:qd,useHostTransitionStatus:bc,useFormState:xd,useActionState:xd,useOptimistic:function(e,t){var i=Ke();return Oe!==null?yd(i,Oe,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:fc,useCacheRefresh:Yd};Fd.useEffectEvent=Dd;function Cc(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:b({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Tc={enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Lt(),u=qn(a);u.payload=t,i!=null&&(u.callback=i),t=Yn(e,u,a),t!==null&&(Tt(t,e,a),is(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Lt(),u=qn(a);u.tag=1,u.payload=t,i!=null&&(u.callback=i),t=Yn(e,u,a),t!==null&&(Tt(t,e,a),is(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Lt(),a=qn(i);a.tag=2,t!=null&&(a.callback=t),t=Yn(e,a,i),t!==null&&(Tt(t,e,i),is(t,e,i))}};function Zd(e,t,i,a,u,o,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,o,d):t.prototype&&t.prototype.isPureReactComponent?!Kl(i,a)||!Kl(u,o):!0}function Kd(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&Tc.enqueueReplaceState(t,t.state,null)}function xi(e,t){var i=t;if("ref"in t){i={};for(var a in t)a!=="ref"&&(i[a]=t[a])}if(e=e.defaultProps){i===t&&(i=b({},i));for(var u in e)i[u]===void 0&&(i[u]=e[u])}return i}function Jd(e){Ca(e)}function Wd(e){console.error(e)}function Pd(e){Ca(e)}function Xa(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function $d(e,t,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Nc(e,t,i){return i=qn(i),i.tag=3,i.payload={element:null},i.callback=function(){Xa(e,t)},i}function em(e){return e=qn(e),e.tag=3,e}function tm(e,t,i,a){var u=i.type.getDerivedStateFromError;if(typeof u=="function"){var o=a.value;e.payload=function(){return u(o)},e.callback=function(){$d(t,i,a)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){$d(t,i,a),typeof u!="function"&&(Zn===null?Zn=new Set([this]):Zn.add(this));var p=a.stack;this.componentDidCatch(a.value,{componentStack:p!==null?p:""})})}function Wv(e,t,i,a,u){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=i.alternate,t!==null&&tl(t,i,u,!0),i=zt.current,i!==null){switch(i.tag){case 31:case 13:return Qt===null?lr():i.alternate===null&&Qe===0&&(Qe=3),i.flags&=-257,i.flags|=65536,i.lanes=u,a===za?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([a]):t.add(a),Jc(e,a,u)),!1;case 22:return i.flags|=65536,a===za?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([a]):i.add(a)),Jc(e,a,u)),!1}throw Error(r(435,i.tag))}return Jc(e,a,u),lr(),!1}if(Ce)return t=zt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,a!==Vu&&(e=Error(r(422),{cause:a}),Pl(qt(e,i)))):(a!==Vu&&(t=Error(r(423),{cause:a}),Pl(qt(t,i))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,a=qt(a,i),u=Nc(e.stateNode,a,u),tc(e,u),Qe!==4&&(Qe=2)),!1;var o=Error(r(520),{cause:a});if(o=qt(o,i),ps===null?ps=[o]:ps.push(o),Qe!==4&&(Qe=2),t===null)return!0;a=qt(a,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=u&-u,i.lanes|=e,e=Nc(i.stateNode,a,e),tc(i,e),!1;case 1:if(t=i.type,o=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||o!==null&&typeof o.componentDidCatch=="function"&&(Zn===null||!Zn.has(o))))return i.flags|=65536,u&=-u,i.lanes|=u,u=em(u),tm(u,e,i,a),tc(i,u),!1}i=i.return}while(i!==null);return!1}var Ac=Error(r(461)),Pe=!1;function ht(e,t,i,a){t.child=e===null?sd(t,null,i,a):Ni(t,e.child,i,a)}function nm(e,t,i,a,u){i=i.render;var o=t.ref;if("ref"in a){var d={};for(var p in a)p!=="ref"&&(d[p]=a[p])}else d=a;return Si(t),a=rc(e,t,i,d,o,u),p=uc(),e!==null&&!Pe?(cc(e,t,u),gn(e,t,u)):(Ce&&p&&Yu(t),t.flags|=1,ht(e,t,a,u),t.child)}function im(e,t,i,a,u){if(e===null){var o=i.type;return typeof o=="function"&&!Iu(o)&&o.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=o,lm(e,t,o,a,u)):(e=xa(i.type,null,a,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!Bc(e,u)){var d=o.memoizedProps;if(i=i.compare,i=i!==null?i:Kl,i(d,a)&&e.ref===t.ref)return gn(e,t,u)}return t.flags|=1,e=on(o,a),e.ref=t.ref,e.return=t,t.child=e}function lm(e,t,i,a,u){if(e!==null){var o=e.memoizedProps;if(Kl(o,a)&&e.ref===t.ref)if(Pe=!1,t.pendingProps=a=o,Bc(e,u))(e.flags&131072)!==0&&(Pe=!0);else return t.lanes=e.lanes,gn(e,t,u)}return xc(e,t,i,a,u)}function sm(e,t,i,a){var u=a.children,o=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(o=o!==null?o.baseLanes|i:i,e!==null){for(a=t.child=e.child,u=0;a!==null;)u=u|a.lanes|a.childLanes,a=a.sibling;a=u&~o}else a=0,t.child=null;return am(e,t,o,i,a)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Oa(t,o!==null?o.cachePool:null),o!==null?ud(t,o):ic(),cd(t);else return a=t.lanes=536870912,am(e,t,o!==null?o.baseLanes|i:i,i,a)}else o!==null?(Oa(t,o.cachePool),ud(t,o),Vn(),t.memoizedState=null):(e!==null&&Oa(t,null),ic(),Vn());return ht(e,t,u,i),t.child}function os(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function am(e,t,i,a,u){var o=Wu();return o=o===null?null:{parent:Je._currentValue,pool:o},t.memoizedState={baseLanes:i,cachePool:o},e!==null&&Oa(t,null),ic(),cd(t),e!==null&&tl(e,t,a,!0),t.childLanes=u,null}function Fa(e,t){return t=Ka({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function rm(e,t,i){return Ni(t,e.child,null,i),e=Fa(t,t.pendingProps),e.flags|=2,Bt(t),t.memoizedState=null,e}function Pv(e,t,i){var a=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Ce){if(a.mode==="hidden")return e=Fa(t,a),t.lanes=536870912,os(null,e);if(sc(t),(e=Ie)?(e=v_(e,Vt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Un!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},i=Vh(e),i.return=t,t.child=i,ot=t,Ie=null)):e=null,e===null)throw Hn(t);return t.lanes=536870912,null}return Fa(t,a)}var o=e.memoizedState;if(o!==null){var d=o.dehydrated;if(sc(t),u)if(t.flags&256)t.flags&=-257,t=rm(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(r(558));else if(Pe||tl(e,t,i,!1),u=(i&e.childLanes)!==0,Pe||u){if(a=Be,a!==null&&(d=Wf(a,i),d!==0&&d!==o.retryLane))throw o.retryLane=d,pi(e,d),Tt(a,e,d),Ac;lr(),t=rm(e,t,i)}else e=o.treeContext,Ie=Xt(d.nextSibling),ot=t,Ce=!0,Ln=null,Vt=!1,e!==null&&Fh(t,e),t=Fa(t,a),t.flags|=4096;return t}return e=on(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Za(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function xc(e,t,i,a,u){return Si(t),i=rc(e,t,i,a,void 0,u),a=uc(),e!==null&&!Pe?(cc(e,t,u),gn(e,t,u)):(Ce&&a&&Yu(t),t.flags|=1,ht(e,t,i,u),t.child)}function um(e,t,i,a,u,o){return Si(t),t.updateQueue=null,i=fd(t,a,i,u),od(e),a=uc(),e!==null&&!Pe?(cc(e,t,o),gn(e,t,o)):(Ce&&a&&Yu(t),t.flags|=1,ht(e,t,i,o),t.child)}function cm(e,t,i,a,u){if(Si(t),t.stateNode===null){var o=Wi,d=i.contextType;typeof d=="object"&&d!==null&&(o=ft(d)),o=new i(a,o),t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=Tc,t.stateNode=o,o._reactInternals=t,o=t.stateNode,o.props=a,o.state=t.memoizedState,o.refs={},$u(t),d=i.contextType,o.context=typeof d=="object"&&d!==null?ft(d):Wi,o.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(Cc(t,i,d,a),o.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(d=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),d!==o.state&&Tc.enqueueReplaceState(o,o.state,null),ss(t,a,o,u),ls(),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){o=t.stateNode;var p=t.memoizedProps,v=xi(i,p);o.props=v;var R=o.context,B=i.contextType;d=Wi,typeof B=="object"&&B!==null&&(d=ft(B));var I=i.getDerivedStateFromProps;B=typeof I=="function"||typeof o.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,B||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(p||R!==d)&&Kd(t,o,a,d),kn=!1;var D=t.memoizedState;o.state=D,ss(t,a,o,u),ls(),R=t.memoizedState,p||D!==R||kn?(typeof I=="function"&&(Cc(t,i,I,a),R=t.memoizedState),(v=kn||Zd(t,i,v,a,D,R,d))?(B||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=R),o.props=a,o.state=R,o.context=d,a=v):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{o=t.stateNode,ec(e,t),d=t.memoizedProps,B=xi(i,d),o.props=B,I=t.pendingProps,D=o.context,R=i.contextType,v=Wi,typeof R=="object"&&R!==null&&(v=ft(R)),p=i.getDerivedStateFromProps,(R=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(d!==I||D!==v)&&Kd(t,o,a,v),kn=!1,D=t.memoizedState,o.state=D,ss(t,a,o,u),ls();var z=t.memoizedState;d!==I||D!==z||kn||e!==null&&e.dependencies!==null&&Ra(e.dependencies)?(typeof p=="function"&&(Cc(t,i,p,a),z=t.memoizedState),(B=kn||Zd(t,i,B,a,D,z,v)||e!==null&&e.dependencies!==null&&Ra(e.dependencies))?(R||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(a,z,v),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(a,z,v)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=z),o.props=a,o.state=z,o.context=v,a=B):(typeof o.componentDidUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),a=!1)}return o=a,Za(e,t),a=(t.flags&128)!==0,o||a?(o=t.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:o.render(),t.flags|=1,e!==null&&a?(t.child=Ni(t,e.child,null,u),t.child=Ni(t,null,i,u)):ht(e,t,i,u),t.memoizedState=o.state,e=t.child):e=gn(e,t,u),e}function om(e,t,i,a){return vi(),t.flags|=256,ht(e,t,i,a),t.child}var Mc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Rc(e){return{baseLanes:e,cachePool:$h()}}function Dc(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=Ut),e}function fm(e,t,i){var a=t.pendingProps,u=!1,o=(t.flags&128)!==0,d;if((d=o)||(d=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),d&&(u=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(Ce){if(u?Gn(t):Vn(),(e=Ie)?(e=v_(e,Vt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Un!==null?{id:tn,overflow:nn}:null,retryLane:536870912,hydrationErrors:null},i=Vh(e),i.return=t,t.child=i,ot=t,Ie=null)):e=null,e===null)throw Hn(t);return ho(e)?t.lanes=32:t.lanes=536870912,null}var p=a.children;return a=a.fallback,u?(Vn(),u=t.mode,p=Ka({mode:"hidden",children:p},u),a=yi(a,u,i,null),p.return=t,a.return=t,p.sibling=a,t.child=p,a=t.child,a.memoizedState=Rc(i),a.childLanes=Dc(e,d,i),t.memoizedState=Mc,os(null,a)):(Gn(t),Oc(t,p))}var v=e.memoizedState;if(v!==null&&(p=v.dehydrated,p!==null)){if(o)t.flags&256?(Gn(t),t.flags&=-257,t=wc(e,t,i)):t.memoizedState!==null?(Vn(),t.child=e.child,t.flags|=128,t=null):(Vn(),p=a.fallback,u=t.mode,a=Ka({mode:"visible",children:a.children},u),p=yi(p,u,i,null),p.flags|=2,a.return=t,p.return=t,a.sibling=p,t.child=a,Ni(t,e.child,null,i),a=t.child,a.memoizedState=Rc(i),a.childLanes=Dc(e,d,i),t.memoizedState=Mc,t=os(null,a));else if(Gn(t),ho(p)){if(d=p.nextSibling&&p.nextSibling.dataset,d)var R=d.dgst;d=R,a=Error(r(419)),a.stack="",a.digest=d,Pl({value:a,source:null,stack:null}),t=wc(e,t,i)}else if(Pe||tl(e,t,i,!1),d=(i&e.childLanes)!==0,Pe||d){if(d=Be,d!==null&&(a=Wf(d,i),a!==0&&a!==v.retryLane))throw v.retryLane=a,pi(e,a),Tt(d,e,a),Ac;fo(p)||lr(),t=wc(e,t,i)}else fo(p)?(t.flags|=192,t.child=e.child,t=null):(e=v.treeContext,Ie=Xt(p.nextSibling),ot=t,Ce=!0,Ln=null,Vt=!1,e!==null&&Fh(t,e),t=Oc(t,a.children),t.flags|=4096);return t}return u?(Vn(),p=a.fallback,u=t.mode,v=e.child,R=v.sibling,a=on(v,{mode:"hidden",children:a.children}),a.subtreeFlags=v.subtreeFlags&65011712,R!==null?p=on(R,p):(p=yi(p,u,i,null),p.flags|=2),p.return=t,a.return=t,a.sibling=p,t.child=a,os(null,a),a=t.child,p=e.child.memoizedState,p===null?p=Rc(i):(u=p.cachePool,u!==null?(v=Je._currentValue,u=u.parent!==v?{parent:v,pool:v}:u):u=$h(),p={baseLanes:p.baseLanes|i,cachePool:u}),a.memoizedState=p,a.childLanes=Dc(e,d,i),t.memoizedState=Mc,os(e.child,a)):(Gn(t),i=e.child,e=i.sibling,i=on(i,{mode:"visible",children:a.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function Oc(e,t){return t=Ka({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ka(e,t){return e=wt(22,e,null,t),e.lanes=0,e}function wc(e,t,i){return Ni(t,e.child,null,i),e=Oc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hm(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Fu(e.return,t,i)}function zc(e,t,i,a,u,o){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:u,treeForkCount:o}:(d.isBackwards=t,d.rendering=null,d.renderingStartTime=0,d.last=a,d.tail=i,d.tailMode=u,d.treeForkCount=o)}function dm(e,t,i){var a=t.pendingProps,u=a.revealOrder,o=a.tail;a=a.children;var d=Ze.current,p=(d&2)!==0;if(p?(d=d&1|2,t.flags|=128):d&=1,V(Ze,d),ht(e,t,a,i),a=Ce?Wl:0,!p&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hm(e,i,t);else if(e.tag===19)hm(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(i=t.child,u=null;i!==null;)e=i.alternate,e!==null&&La(e)===null&&(u=i),i=i.sibling;i=u,i===null?(u=t.child,t.child=null):(u=i.sibling,i.sibling=null),zc(t,!1,u,i,o,a);break;case"backwards":case"unstable_legacy-backwards":for(i=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&La(e)===null){t.child=u;break}e=u.sibling,u.sibling=i,i=u,u=e}zc(t,!0,i,null,o,a);break;case"together":zc(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function gn(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Fn|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(tl(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=on(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=on(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Bc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Ra(e)))}function $v(e,t,i){switch(t.tag){case 3:Fe(t,t.stateNode.containerInfo),In(t,Je,e.memoizedState.cache),vi();break;case 27:case 5:Ul(t);break;case 4:Fe(t,t.stateNode.containerInfo);break;case 10:In(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,sc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Gn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?fm(e,t,i):(Gn(t),e=gn(e,t,i),e!==null?e.sibling:null);Gn(t);break;case 19:var u=(e.flags&128)!==0;if(a=(i&t.childLanes)!==0,a||(tl(e,t,i,!1),a=(i&t.childLanes)!==0),u){if(a)return dm(e,t,i);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),V(Ze,Ze.current),a)break;return null;case 22:return t.lanes=0,sm(e,t,i,t.pendingProps);case 24:In(t,Je,e.memoizedState.cache)}return gn(e,t,i)}function mm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Pe=!0;else{if(!Bc(e,i)&&(t.flags&128)===0)return Pe=!1,$v(e,t,i);Pe=(e.flags&131072)!==0}else Pe=!1,Ce&&(t.flags&1048576)!==0&&Xh(t,Wl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=Ci(t.elementType),t.type=e,typeof e=="function")Iu(e)?(a=xi(e,a),t.tag=1,t=cm(null,t,e,a,i)):(t.tag=0,t=xc(null,t,e,a,i));else{if(e!=null){var u=e.$$typeof;if(u===Me){t.tag=11,t=nm(null,t,e,a,i);break e}else if(u===$){t.tag=14,t=im(null,t,e,a,i);break e}}throw t=q(e)||e,Error(r(306,t,""))}}return t;case 0:return xc(e,t,t.type,t.pendingProps,i);case 1:return a=t.type,u=xi(a,t.pendingProps),cm(e,t,a,u,i);case 3:e:{if(Fe(t,t.stateNode.containerInfo),e===null)throw Error(r(387));a=t.pendingProps;var o=t.memoizedState;u=o.element,ec(e,t),ss(t,a,null,i);var d=t.memoizedState;if(a=d.cache,In(t,Je,a),a!==o.cache&&Zu(t,[Je],i,!0),ls(),a=d.element,o.isDehydrated)if(o={element:a,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=om(e,t,a,i);break e}else if(a!==u){u=qt(Error(r(424)),t),Pl(u),t=om(e,t,a,i);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Ie=Xt(e.firstChild),ot=t,Ce=!0,Ln=null,Vt=!0,i=sd(t,null,a,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(vi(),a===u){t=gn(e,t,i);break e}ht(e,t,a,i)}t=t.child}return t;case 26:return Za(e,t),e===null?(i=N_(t.type,null,t.pendingProps,null))?t.memoizedState=i:Ce||(i=t.type,e=t.pendingProps,a=fr(se.current).createElement(i),a[ct]=t,a[yt]=e,dt(a,i,e),lt(a),t.stateNode=a):t.memoizedState=N_(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ul(t),e===null&&Ce&&(a=t.stateNode=E_(t.type,t.pendingProps,se.current),ot=t,Vt=!0,u=Ie,Pn(t.type)?(mo=u,Ie=Xt(a.firstChild)):Ie=u),ht(e,t,t.pendingProps.children,i),Za(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ce&&((u=a=Ie)&&(a=R0(a,t.type,t.pendingProps,Vt),a!==null?(t.stateNode=a,ot=t,Ie=Xt(a.firstChild),Vt=!1,u=!0):u=!1),u||Hn(t)),Ul(t),u=t.type,o=t.pendingProps,d=e!==null?e.memoizedProps:null,a=o.children,uo(u,o)?a=null:d!==null&&uo(u,d)&&(t.flags|=32),t.memoizedState!==null&&(u=rc(e,t,Vv,null,null,i),Ns._currentValue=u),Za(e,t),ht(e,t,a,i),t.child;case 6:return e===null&&Ce&&((e=i=Ie)&&(i=D0(i,t.pendingProps,Vt),i!==null?(t.stateNode=i,ot=t,Ie=null,e=!0):e=!1),e||Hn(t)),null;case 13:return fm(e,t,i);case 4:return Fe(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ni(t,null,a,i):ht(e,t,a,i),t.child;case 11:return nm(e,t,t.type,t.pendingProps,i);case 7:return ht(e,t,t.pendingProps,i),t.child;case 8:return ht(e,t,t.pendingProps.children,i),t.child;case 12:return ht(e,t,t.pendingProps.children,i),t.child;case 10:return a=t.pendingProps,In(t,t.type,a.value),ht(e,t,a.children,i),t.child;case 9:return u=t.type._context,a=t.pendingProps.children,Si(t),u=ft(u),a=a(u),t.flags|=1,ht(e,t,a,i),t.child;case 14:return im(e,t,t.type,t.pendingProps,i);case 15:return lm(e,t,t.type,t.pendingProps,i);case 19:return dm(e,t,i);case 31:return Pv(e,t,i);case 22:return sm(e,t,i,t.pendingProps);case 24:return Si(t),a=ft(Je),e===null?(u=Wu(),u===null&&(u=Be,o=Ku(),u.pooledCache=o,o.refCount++,o!==null&&(u.pooledCacheLanes|=i),u=o),t.memoizedState={parent:a,cache:u},$u(t),In(t,Je,u)):((e.lanes&i)!==0&&(ec(e,t),ss(t,null,null,i),ls()),u=e.memoizedState,o=t.memoizedState,u.parent!==a?(u={parent:a,cache:a},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),In(t,Je,a)):(a=o.cache,In(t,Je,a),a!==u.cache&&Zu(t,[Je],i,!0))),ht(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}function pn(e){e.flags|=4}function jc(e,t,i,a,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(qm())e.flags|=8192;else throw Ti=za,Pu}else e.flags&=-16777217}function _m(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!D_(t))if(qm())e.flags|=8192;else throw Ti=za,Pu}function Ja(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Zf():536870912,e.lanes|=t,dl|=t)}function fs(e,t){if(!Ce)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags&65011712,a|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)i|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function e0(e,t,i){var a=t.pendingProps;switch(Gu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return ke(t),null;case 3:return i=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),dn(Je),Ge(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(el(t)?pn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Qu())),ke(t),null;case 26:var u=t.type,o=t.memoizedState;return e===null?(pn(t),o!==null?(ke(t),_m(t,o)):(ke(t),jc(t,u,null,a,i))):o?o!==e.memoizedState?(pn(t),ke(t),_m(t,o)):(ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&pn(t),ke(t),jc(t,u,e,a,i)),null;case 27:if(ra(t),i=se.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&pn(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return ke(t),null}e=F.current,el(t)?Zh(t):(e=E_(u,a,i),t.stateNode=e,pn(t))}return ke(t),null;case 5:if(ra(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&pn(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return ke(t),null}if(o=F.current,el(t))Zh(t);else{var d=fr(se.current);switch(o){case 1:o=d.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:o=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":o=d.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":o=d.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":o=d.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild);break;case"select":o=typeof a.is=="string"?d.createElement("select",{is:a.is}):d.createElement("select"),a.multiple?o.multiple=!0:a.size&&(o.size=a.size);break;default:o=typeof a.is=="string"?d.createElement(u,{is:a.is}):d.createElement(u)}}o[ct]=t,o[yt]=a;e:for(d=t.child;d!==null;){if(d.tag===5||d.tag===6)o.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}t.stateNode=o;e:switch(dt(o,u,a),u){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&pn(t)}}return ke(t),jc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&pn(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=se.current,el(t)){if(e=t.stateNode,i=t.memoizedProps,a=null,u=ot,u!==null)switch(u.tag){case 27:case 5:a=u.memoizedProps}e[ct]=t,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||f_(e.nodeValue,i)),e||Hn(t,!0)}else e=fr(e).createTextNode(a),e[ct]=t,t.stateNode=e}return ke(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(a=el(t),i!==null){if(e===null){if(!a)throw Error(r(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ct]=t}else vi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ke(t),e=!1}else i=Qu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(Bt(t),t):(Bt(t),null);if((t.flags&128)!==0)throw Error(r(558))}return ke(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=el(t),a!==null&&a.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[ct]=t}else vi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;ke(t),u=!1}else u=Qu(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(Bt(t),t):(Bt(t),null)}return Bt(t),(t.flags&128)!==0?(t.lanes=i,t):(i=a!==null,e=e!==null&&e.memoizedState!==null,i&&(a=t.child,u=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(u=a.alternate.memoizedState.cachePool.pool),o=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(o=a.memoizedState.cachePool.pool),o!==u&&(a.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),Ja(t,t.updateQueue),ke(t),null);case 4:return Ge(),e===null&&io(t.stateNode.containerInfo),ke(t),null;case 10:return dn(t.type),ke(t),null;case 19:if(U(Ze),a=t.memoizedState,a===null)return ke(t),null;if(u=(t.flags&128)!==0,o=a.rendering,o===null)if(u)fs(a,!1);else{if(Qe!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=La(e),o!==null){for(t.flags|=128,fs(a,!1),e=o.updateQueue,t.updateQueue=e,Ja(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Gh(i,e),i=i.sibling;return V(Ze,Ze.current&1|2),Ce&&fn(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&Mt()>tr&&(t.flags|=128,u=!0,fs(a,!1),t.lanes=4194304)}else{if(!u)if(e=La(o),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,Ja(t,e),fs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Ce)return ke(t),null}else 2*Mt()-a.renderingStartTime>tr&&i!==536870912&&(t.flags|=128,u=!0,fs(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(e=a.last,e!==null?e.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Mt(),e.sibling=null,i=Ze.current,V(Ze,u?i&1|2:i&1),Ce&&fn(t,a.treeForkCount),e):(ke(t),null);case 22:case 23:return Bt(t),lc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(i&536870912)!==0&&(t.flags&128)===0&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),i=t.updateQueue,i!==null&&Ja(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==i&&(t.flags|=2048),e!==null&&U(Ei),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),dn(Je),ke(t),null;case 25:return null;case 30:return null}throw Error(r(156,t.tag))}function t0(e,t){switch(Gu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return dn(Je),Ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ra(t),null;case 31:if(t.memoizedState!==null){if(Bt(t),t.alternate===null)throw Error(r(340));vi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Bt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));vi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return U(Ze),null;case 4:return Ge(),null;case 10:return dn(t.type),null;case 22:case 23:return Bt(t),lc(),e!==null&&U(Ei),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return dn(Je),null;case 25:return null;default:return null}}function gm(e,t){switch(Gu(t),t.tag){case 3:dn(Je),Ge();break;case 26:case 27:case 5:ra(t);break;case 4:Ge();break;case 31:t.memoizedState!==null&&Bt(t);break;case 13:Bt(t);break;case 19:U(Ze);break;case 10:dn(t.type);break;case 22:case 23:Bt(t),lc(),e!==null&&U(Ei);break;case 24:dn(Je)}}function hs(e,t){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var u=a.next;i=u;do{if((i.tag&e)===e){a=void 0;var o=i.create,d=i.inst;a=o(),d.destroy=a}i=i.next}while(i!==u)}}catch(p){De(t,t.return,p)}}function Qn(e,t,i){try{var a=t.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var o=u.next;a=o;do{if((a.tag&e)===e){var d=a.inst,p=d.destroy;if(p!==void 0){d.destroy=void 0,u=t;var v=i,R=p;try{R()}catch(B){De(u,v,B)}}}a=a.next}while(a!==o)}}catch(B){De(t,t.return,B)}}function pm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{rd(t,i)}catch(a){De(e,e.return,a)}}}function ym(e,t,i){i.props=xi(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){De(e,t,a)}}function ds(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof i=="function"?e.refCleanup=i(a):i.current=a}}catch(u){De(e,t,u)}}function ln(e,t){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(u){De(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(u){De(e,t,u)}else i.current=null}function vm(e){var t=e.type,i=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break e;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(u){De(e,e.return,u)}}function Uc(e,t,i){try{var a=e.stateNode;C0(a,e.type,i,t),a[yt]=t}catch(u){De(e,e.return,u)}}function bm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Pn(e.type)||e.tag===4}function Lc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||bm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Pn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hc(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=un));else if(a!==4&&(a===27&&Pn(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Hc(e,t,i),e=e.sibling;e!==null;)Hc(e,t,i),e=e.sibling}function Wa(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&(a===27&&Pn(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Wa(e,t,i),e=e.sibling;e!==null;)Wa(e,t,i),e=e.sibling}function Sm(e){var t=e.stateNode,i=e.memoizedProps;try{for(var a=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);dt(t,a,i),t[ct]=e,t[yt]=i}catch(o){De(e,e.return,o)}}var yn=!1,$e=!1,Ic=!1,Em=typeof WeakSet=="function"?WeakSet:Set,st=null;function n0(e,t){if(e=e.containerInfo,ao=yr,e=Bh(e),wu(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var u=a.anchorOffset,o=a.focusNode;a=a.focusOffset;try{i.nodeType,o.nodeType}catch{i=null;break e}var d=0,p=-1,v=-1,R=0,B=0,I=e,D=null;t:for(;;){for(var z;I!==i||u!==0&&I.nodeType!==3||(p=d+u),I!==o||a!==0&&I.nodeType!==3||(v=d+a),I.nodeType===3&&(d+=I.nodeValue.length),(z=I.firstChild)!==null;)D=I,I=z;for(;;){if(I===e)break t;if(D===i&&++R===u&&(p=d),D===o&&++B===a&&(v=d),(z=I.nextSibling)!==null)break;I=D,D=I.parentNode}I=z}i=p===-1||v===-1?null:{start:p,end:v}}else i=null}i=i||{start:0,end:0}}else i=null;for(ro={focusedElem:e,selectionRange:i},yr=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,o=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)u=e[i],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&o!==null){e=void 0,i=t,u=o.memoizedProps,o=o.memoizedState,a=i.stateNode;try{var Z=xi(i.type,u);e=a.getSnapshotBeforeUpdate(Z,o),a.__reactInternalSnapshotBeforeUpdate=e}catch(ne){De(i,i.return,ne)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)oo(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":oo(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function Cm(e,t,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:bn(e,i),a&4&&hs(5,i);break;case 1:if(bn(e,i),a&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(d){De(i,i.return,d)}else{var u=xi(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(d){De(i,i.return,d)}}a&64&&pm(i),a&512&&ds(i,i.return);break;case 3:if(bn(e,i),a&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{rd(e,t)}catch(d){De(i,i.return,d)}}break;case 27:t===null&&a&4&&Sm(i);case 26:case 5:bn(e,i),t===null&&a&4&&vm(i),a&512&&ds(i,i.return);break;case 12:bn(e,i);break;case 31:bn(e,i),a&4&&Am(e,i);break;case 13:bn(e,i),a&4&&xm(e,i),a&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=f0.bind(null,i),O0(e,i))));break;case 22:if(a=i.memoizedState!==null||yn,!a){t=t!==null&&t.memoizedState!==null||$e,u=yn;var o=$e;yn=a,($e=t)&&!o?Sn(e,i,(i.subtreeFlags&8772)!==0):bn(e,i),yn=u,$e=o}break;case 30:break;default:bn(e,i)}}function Tm(e){var t=e.alternate;t!==null&&(e.alternate=null,Tm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&_u(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ye=null,bt=!1;function vn(e,t,i){for(i=i.child;i!==null;)Nm(e,t,i),i=i.sibling}function Nm(e,t,i){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(Ll,i)}catch{}switch(i.tag){case 26:$e||ln(i,t),vn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:$e||ln(i,t);var a=Ye,u=bt;Pn(i.type)&&(Ye=i.stateNode,bt=!1),vn(e,t,i),Es(i.stateNode),Ye=a,bt=u;break;case 5:$e||ln(i,t);case 6:if(a=Ye,u=bt,Ye=null,vn(e,t,i),Ye=a,bt=u,Ye!==null)if(bt)try{(Ye.nodeType===9?Ye.body:Ye.nodeName==="HTML"?Ye.ownerDocument.body:Ye).removeChild(i.stateNode)}catch(o){De(i,t,o)}else try{Ye.removeChild(i.stateNode)}catch(o){De(i,t,o)}break;case 18:Ye!==null&&(bt?(e=Ye,p_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),Sl(e)):p_(Ye,i.stateNode));break;case 4:a=Ye,u=bt,Ye=i.stateNode.containerInfo,bt=!0,vn(e,t,i),Ye=a,bt=u;break;case 0:case 11:case 14:case 15:Qn(2,i,t),$e||Qn(4,i,t),vn(e,t,i);break;case 1:$e||(ln(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"&&ym(i,t,a)),vn(e,t,i);break;case 21:vn(e,t,i);break;case 22:$e=(a=$e)||i.memoizedState!==null,vn(e,t,i),$e=a;break;default:vn(e,t,i)}}function Am(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Sl(e)}catch(i){De(t,t.return,i)}}}function xm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Sl(e)}catch(i){De(t,t.return,i)}}function i0(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Em),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Em),t;default:throw Error(r(435,e.tag))}}function Pa(e,t){var i=i0(e);t.forEach(function(a){if(!i.has(a)){i.add(a);var u=h0.bind(null,e,a);a.then(u,u)}})}function St(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var u=i[a],o=e,d=t,p=d;e:for(;p!==null;){switch(p.tag){case 27:if(Pn(p.type)){Ye=p.stateNode,bt=!1;break e}break;case 5:Ye=p.stateNode,bt=!1;break e;case 3:case 4:Ye=p.stateNode.containerInfo,bt=!0;break e}p=p.return}if(Ye===null)throw Error(r(160));Nm(o,d,u),Ye=null,bt=!1,o=u.alternate,o!==null&&(o.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Mm(t,e),t=t.sibling}var Kt=null;function Mm(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:St(t,e),Et(e),a&4&&(Qn(3,e,e.return),hs(3,e),Qn(5,e,e.return));break;case 1:St(t,e),Et(e),a&512&&($e||i===null||ln(i,i.return)),a&64&&yn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var u=Kt;if(St(t,e),Et(e),a&512&&($e||i===null||ln(i,i.return)),a&4){var o=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){e:{a=e.type,i=e.memoizedProps,u=u.ownerDocument||u;t:switch(a){case"title":o=u.getElementsByTagName("title")[0],(!o||o[kl]||o[ct]||o.namespaceURI==="http://www.w3.org/2000/svg"||o.hasAttribute("itemprop"))&&(o=u.createElement(a),u.head.insertBefore(o,u.querySelector("head > title"))),dt(o,a,i),o[ct]=e,lt(o),a=o;break e;case"link":var d=M_("link","href",u).get(a+(i.href||""));if(d){for(var p=0;p<d.length;p++)if(o=d[p],o.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&o.getAttribute("rel")===(i.rel==null?null:i.rel)&&o.getAttribute("title")===(i.title==null?null:i.title)&&o.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(p,1);break t}}o=u.createElement(a),dt(o,a,i),u.head.appendChild(o);break;case"meta":if(d=M_("meta","content",u).get(a+(i.content||""))){for(p=0;p<d.length;p++)if(o=d[p],o.getAttribute("content")===(i.content==null?null:""+i.content)&&o.getAttribute("name")===(i.name==null?null:i.name)&&o.getAttribute("property")===(i.property==null?null:i.property)&&o.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&o.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(p,1);break t}}o=u.createElement(a),dt(o,a,i),u.head.appendChild(o);break;default:throw Error(r(468,a))}o[ct]=e,lt(o),a=o}e.stateNode=a}else R_(u,e.type,e.stateNode);else e.stateNode=x_(u,a,e.memoizedProps);else o!==a?(o===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):o.count--,a===null?R_(u,e.type,e.stateNode):x_(u,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Uc(e,e.memoizedProps,i.memoizedProps)}break;case 27:St(t,e),Et(e),a&512&&($e||i===null||ln(i,i.return)),i!==null&&a&4&&Uc(e,e.memoizedProps,i.memoizedProps);break;case 5:if(St(t,e),Et(e),a&512&&($e||i===null||ln(i,i.return)),e.flags&32){u=e.stateNode;try{Vi(u,"")}catch(Z){De(e,e.return,Z)}}a&4&&e.stateNode!=null&&(u=e.memoizedProps,Uc(e,u,i!==null?i.memoizedProps:u)),a&1024&&(Ic=!0);break;case 6:if(St(t,e),Et(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(Z){De(e,e.return,Z)}}break;case 3:if(mr=null,u=Kt,Kt=hr(t.containerInfo),St(t,e),Kt=u,Et(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{Sl(t.containerInfo)}catch(Z){De(e,e.return,Z)}Ic&&(Ic=!1,Rm(e));break;case 4:a=Kt,Kt=hr(e.stateNode.containerInfo),St(t,e),Et(e),Kt=a;break;case 12:St(t,e),Et(e);break;case 31:St(t,e),Et(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Pa(e,a)));break;case 13:St(t,e),Et(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(er=Mt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Pa(e,a)));break;case 22:u=e.memoizedState!==null;var v=i!==null&&i.memoizedState!==null,R=yn,B=$e;if(yn=R||u,$e=B||v,St(t,e),$e=B,yn=R,Et(e),a&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(i===null||v||yn||$e||Mi(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){v=i=t;try{if(o=v.stateNode,u)d=o.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{p=v.stateNode;var I=v.memoizedProps.style,D=I!=null&&I.hasOwnProperty("display")?I.display:null;p.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(Z){De(v,v.return,Z)}}}else if(t.tag===6){if(i===null){v=t;try{v.stateNode.nodeValue=u?"":v.memoizedProps}catch(Z){De(v,v.return,Z)}}}else if(t.tag===18){if(i===null){v=t;try{var z=v.stateNode;u?y_(z,!0):y_(v.stateNode,!1)}catch(Z){De(v,v.return,Z)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,Pa(e,i))));break;case 19:St(t,e),Et(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Pa(e,a)));break;case 30:break;case 21:break;default:St(t,e),Et(e)}}function Et(e){var t=e.flags;if(t&2){try{for(var i,a=e.return;a!==null;){if(bm(a)){i=a;break}a=a.return}if(i==null)throw Error(r(160));switch(i.tag){case 27:var u=i.stateNode,o=Lc(e);Wa(e,o,u);break;case 5:var d=i.stateNode;i.flags&32&&(Vi(d,""),i.flags&=-33);var p=Lc(e);Wa(e,p,d);break;case 3:case 4:var v=i.stateNode.containerInfo,R=Lc(e);Hc(e,R,v);break;default:throw Error(r(161))}}catch(B){De(e,e.return,B)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Rm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Rm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function bn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Cm(e,t.alternate,t),t=t.sibling}function Mi(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Qn(4,t,t.return),Mi(t);break;case 1:ln(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&ym(t,t.return,i),Mi(t);break;case 27:Es(t.stateNode);case 26:case 5:ln(t,t.return),Mi(t);break;case 22:t.memoizedState===null&&Mi(t);break;case 30:Mi(t);break;default:Mi(t)}e=e.sibling}}function Sn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,u=e,o=t,d=o.flags;switch(o.tag){case 0:case 11:case 15:Sn(u,o,i),hs(4,o);break;case 1:if(Sn(u,o,i),a=o,u=a.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(R){De(a,a.return,R)}if(a=o,u=a.updateQueue,u!==null){var p=a.stateNode;try{var v=u.shared.hiddenCallbacks;if(v!==null)for(u.shared.hiddenCallbacks=null,u=0;u<v.length;u++)ad(v[u],p)}catch(R){De(a,a.return,R)}}i&&d&64&&pm(o),ds(o,o.return);break;case 27:Sm(o);case 26:case 5:Sn(u,o,i),i&&a===null&&d&4&&vm(o),ds(o,o.return);break;case 12:Sn(u,o,i);break;case 31:Sn(u,o,i),i&&d&4&&Am(u,o);break;case 13:Sn(u,o,i),i&&d&4&&xm(u,o);break;case 22:o.memoizedState===null&&Sn(u,o,i),ds(o,o.return);break;case 30:break;default:Sn(u,o,i)}t=t.sibling}}function kc(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&$l(i))}function qc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$l(e))}function Jt(e,t,i,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dm(e,t,i,a),t=t.sibling}function Dm(e,t,i,a){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Jt(e,t,i,a),u&2048&&hs(9,t);break;case 1:Jt(e,t,i,a);break;case 3:Jt(e,t,i,a),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&$l(e)));break;case 12:if(u&2048){Jt(e,t,i,a),e=t.stateNode;try{var o=t.memoizedProps,d=o.id,p=o.onPostCommit;typeof p=="function"&&p(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(v){De(t,t.return,v)}}else Jt(e,t,i,a);break;case 31:Jt(e,t,i,a);break;case 13:Jt(e,t,i,a);break;case 23:break;case 22:o=t.stateNode,d=t.alternate,t.memoizedState!==null?o._visibility&2?Jt(e,t,i,a):ms(e,t):o._visibility&2?Jt(e,t,i,a):(o._visibility|=2,ol(e,t,i,a,(t.subtreeFlags&10256)!==0||!1)),u&2048&&kc(d,t);break;case 24:Jt(e,t,i,a),u&2048&&qc(t.alternate,t);break;default:Jt(e,t,i,a)}}function ol(e,t,i,a,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var o=e,d=t,p=i,v=a,R=d.flags;switch(d.tag){case 0:case 11:case 15:ol(o,d,p,v,u),hs(8,d);break;case 23:break;case 22:var B=d.stateNode;d.memoizedState!==null?B._visibility&2?ol(o,d,p,v,u):ms(o,d):(B._visibility|=2,ol(o,d,p,v,u)),u&&R&2048&&kc(d.alternate,d);break;case 24:ol(o,d,p,v,u),u&&R&2048&&qc(d.alternate,d);break;default:ol(o,d,p,v,u)}t=t.sibling}}function ms(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,a=t,u=a.flags;switch(a.tag){case 22:ms(i,a),u&2048&&kc(a.alternate,a);break;case 24:ms(i,a),u&2048&&qc(a.alternate,a);break;default:ms(i,a)}t=t.sibling}}var _s=8192;function fl(e,t,i){if(e.subtreeFlags&_s)for(e=e.child;e!==null;)Om(e,t,i),e=e.sibling}function Om(e,t,i){switch(e.tag){case 26:fl(e,t,i),e.flags&_s&&e.memoizedState!==null&&G0(i,Kt,e.memoizedState,e.memoizedProps);break;case 5:fl(e,t,i);break;case 3:case 4:var a=Kt;Kt=hr(e.stateNode.containerInfo),fl(e,t,i),Kt=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=_s,_s=16777216,fl(e,t,i),_s=a):fl(e,t,i));break;default:fl(e,t,i)}}function wm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function gs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];st=a,Bm(a,e)}wm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zm(e),e=e.sibling}function zm(e){switch(e.tag){case 0:case 11:case 15:gs(e),e.flags&2048&&Qn(9,e,e.return);break;case 3:gs(e);break;case 12:gs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,$a(e)):gs(e);break;default:gs(e)}}function $a(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];st=a,Bm(a,e)}wm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Qn(8,t,t.return),$a(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,$a(t));break;default:$a(t)}e=e.sibling}}function Bm(e,t){for(;st!==null;){var i=st;switch(i.tag){case 0:case 11:case 15:Qn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:$l(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,st=a;else e:for(i=e;st!==null;){a=st;var u=a.sibling,o=a.return;if(Tm(a),a===i){st=null;break e}if(u!==null){u.return=o,st=u;break e}st=o}}}var l0={getCacheForType:function(e){var t=ft(Je),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return ft(Je).controller.signal}},s0=typeof WeakMap=="function"?WeakMap:Map,xe=0,Be=null,pe=null,be=0,Re=0,jt=null,Xn=!1,hl=!1,Yc=!1,En=0,Qe=0,Fn=0,Ri=0,Gc=0,Ut=0,dl=0,ps=null,Ct=null,Vc=!1,er=0,jm=0,tr=1/0,nr=null,Zn=null,tt=0,Kn=null,ml=null,Cn=0,Qc=0,Xc=null,Um=null,ys=0,Fc=null;function Lt(){return(xe&2)!==0&&be!==0?be&-be:A.T!==null?$c():Pf()}function Lm(){if(Ut===0)if((be&536870912)===0||Ce){var e=oa;oa<<=1,(oa&3932160)===0&&(oa=262144),Ut=e}else Ut=536870912;return e=zt.current,e!==null&&(e.flags|=32),Ut}function Tt(e,t,i){(e===Be&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(_l(e,0),Jn(e,be,Ut,!1)),Il(e,i),((xe&2)===0||e!==Be)&&(e===Be&&((xe&2)===0&&(Ri|=i),Qe===4&&Jn(e,be,Ut,!1)),sn(e))}function Hm(e,t,i){if((xe&6)!==0)throw Error(r(327));var a=!i&&(t&127)===0&&(t&e.expiredLanes)===0||Hl(e,t),u=a?u0(e,t):Kc(e,t,!0),o=a;do{if(u===0){hl&&!a&&Jn(e,t,0,!1);break}else{if(i=e.current.alternate,o&&!a0(i)){u=Kc(e,t,!1),o=!1;continue}if(u===2){if(o=t,e.errorRecoveryDisabledLanes&o)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var p=e;u=ps;var v=p.current.memoizedState.isDehydrated;if(v&&(_l(p,d).flags|=256),d=Kc(p,d,!1),d!==2){if(Yc&&!v){p.errorRecoveryDisabledLanes|=o,Ri|=o,u=4;break e}o=Ct,Ct=u,o!==null&&(Ct===null?Ct=o:Ct.push.apply(Ct,o))}u=d}if(o=!1,u!==2)continue}}if(u===1){_l(e,0),Jn(e,t,0,!0);break}e:{switch(a=e,o=u,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194048)!==t)break;case 6:Jn(a,t,Ut,!Xn);break e;case 2:Ct=null;break;case 3:case 5:break;default:throw Error(r(329))}if((t&62914560)===t&&(u=er+300-Mt(),10<u)){if(Jn(a,t,Ut,!Xn),ha(a,0,!0)!==0)break e;Cn=t,a.timeoutHandle=__(Im.bind(null,a,i,Ct,nr,Vc,t,Ut,Ri,dl,Xn,o,"Throttled",-0,0),u);break e}Im(a,i,Ct,nr,Vc,t,Ut,Ri,dl,Xn,o,null,-0,0)}}break}while(!0);sn(e)}function Im(e,t,i,a,u,o,d,p,v,R,B,I,D,z){if(e.timeoutHandle=-1,I=t.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:un},Om(t,o,I);var Z=(o&62914560)===o?er-Mt():(o&4194048)===o?jm-Mt():0;if(Z=V0(I,Z),Z!==null){Cn=o,e.cancelPendingCommit=Z(Fm.bind(null,e,t,o,i,a,u,d,p,v,B,I,null,D,z)),Jn(e,o,d,!R);return}}Fm(e,t,o,i,a,u,d,p,v)}function a0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var u=i[a],o=u.getSnapshot;u=u.value;try{if(!Ot(o(),u))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Jn(e,t,i,a){t&=~Gc,t&=~Ri,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var u=t;0<u;){var o=31-Dt(u),d=1<<o;a[o]=-1,u&=~d}i!==0&&Kf(e,i,t)}function ir(){return(xe&6)===0?(vs(0),!1):!0}function Zc(){if(pe!==null){if(Re===0)var e=pe.return;else e=pe,hn=bi=null,oc(e),sl=null,ts=0,e=pe;for(;e!==null;)gm(e.alternate,e),e=e.return;pe=null}}function _l(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,A0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Cn=0,Zc(),Be=e,pe=i=on(e.current,null),be=t,Re=0,jt=null,Xn=!1,hl=Hl(e,t),Yc=!1,dl=Ut=Gc=Ri=Fn=Qe=0,Ct=ps=null,Vc=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var u=31-Dt(a),o=1<<u;t|=e[u],a&=~o}return En=t,Ta(),i}function km(e,t){oe=null,A.H=cs,t===ll||t===wa?(t=nd(),Re=3):t===Pu?(t=nd(),Re=4):Re=t===Ac?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,jt=t,pe===null&&(Qe=1,Xa(e,qt(t,e.current)))}function qm(){var e=zt.current;return e===null?!0:(be&4194048)===be?Qt===null:(be&62914560)===be||(be&536870912)!==0?e===Qt:!1}function Ym(){var e=A.H;return A.H=cs,e===null?cs:e}function Gm(){var e=A.A;return A.A=l0,e}function lr(){Qe=4,Xn||(be&4194048)!==be&&zt.current!==null||(hl=!0),(Fn&134217727)===0&&(Ri&134217727)===0||Be===null||Jn(Be,be,Ut,!1)}function Kc(e,t,i){var a=xe;xe|=2;var u=Ym(),o=Gm();(Be!==e||be!==t)&&(nr=null,_l(e,t)),t=!1;var d=Qe;e:do try{if(Re!==0&&pe!==null){var p=pe,v=jt;switch(Re){case 8:Zc(),d=6;break e;case 3:case 2:case 9:case 6:zt.current===null&&(t=!0);var R=Re;if(Re=0,jt=null,gl(e,p,v,R),i&&hl){d=0;break e}break;default:R=Re,Re=0,jt=null,gl(e,p,v,R)}}r0(),d=Qe;break}catch(B){km(e,B)}while(!0);return t&&e.shellSuspendCounter++,hn=bi=null,xe=a,A.H=u,A.A=o,pe===null&&(Be=null,be=0,Ta()),d}function r0(){for(;pe!==null;)Vm(pe)}function u0(e,t){var i=xe;xe|=2;var a=Ym(),u=Gm();Be!==e||be!==t?(nr=null,tr=Mt()+500,_l(e,t)):hl=Hl(e,t);e:do try{if(Re!==0&&pe!==null){t=pe;var o=jt;t:switch(Re){case 1:Re=0,jt=null,gl(e,t,o,1);break;case 2:case 9:if(ed(o)){Re=0,jt=null,Qm(t);break}t=function(){Re!==2&&Re!==9||Be!==e||(Re=7),sn(e)},o.then(t,t);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:ed(o)?(Re=0,jt=null,Qm(t)):(Re=0,jt=null,gl(e,t,o,7));break;case 5:var d=null;switch(pe.tag){case 26:d=pe.memoizedState;case 5:case 27:var p=pe;if(d?D_(d):p.stateNode.complete){Re=0,jt=null;var v=p.sibling;if(v!==null)pe=v;else{var R=p.return;R!==null?(pe=R,sr(R)):pe=null}break t}}Re=0,jt=null,gl(e,t,o,5);break;case 6:Re=0,jt=null,gl(e,t,o,6);break;case 8:Zc(),Qe=6;break e;default:throw Error(r(462))}}c0();break}catch(B){km(e,B)}while(!0);return hn=bi=null,A.H=a,A.A=u,xe=i,pe!==null?0:(Be=null,be=0,Ta(),Qe)}function c0(){for(;pe!==null&&!wy();)Vm(pe)}function Vm(e){var t=mm(e.alternate,e,En);e.memoizedProps=e.pendingProps,t===null?sr(e):pe=t}function Qm(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=um(i,t,t.pendingProps,t.type,void 0,be);break;case 11:t=um(i,t,t.pendingProps,t.type.render,t.ref,be);break;case 5:oc(t);default:gm(i,t),t=pe=Gh(t,En),t=mm(i,t,En)}e.memoizedProps=e.pendingProps,t===null?sr(e):pe=t}function gl(e,t,i,a){hn=bi=null,oc(t),sl=null,ts=0;var u=t.return;try{if(Wv(e,u,t,i,be)){Qe=1,Xa(e,qt(i,e.current)),pe=null;return}}catch(o){if(u!==null)throw pe=u,o;Qe=1,Xa(e,qt(i,e.current)),pe=null;return}t.flags&32768?(Ce||a===1?e=!0:hl||(be&536870912)!==0?e=!1:(Xn=e=!0,(a===2||a===9||a===3||a===6)&&(a=zt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Xm(t,e)):sr(t)}function sr(e){var t=e;do{if((t.flags&32768)!==0){Xm(t,Xn);return}e=t.return;var i=e0(t.alternate,t,En);if(i!==null){pe=i;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);Qe===0&&(Qe=5)}function Xm(e,t){do{var i=t0(e.alternate,e);if(i!==null){i.flags&=32767,pe=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){pe=e;return}pe=e=i}while(e!==null);Qe=6,pe=null}function Fm(e,t,i,a,u,o,d,p,v){e.cancelPendingCommit=null;do ar();while(tt!==0);if((xe&6)!==0)throw Error(r(327));if(t!==null){if(t===e.current)throw Error(r(177));if(o=t.lanes|t.childLanes,o|=Lu,Yy(e,i,o,d,p,v),e===Be&&(pe=Be=null,be=0),ml=t,Kn=e,Cn=i,Qc=o,Xc=u,Um=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,d0(ua,function(){return Pm(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=A.T,A.T=null,u=x.p,x.p=2,d=xe,xe|=4;try{n0(e,t,i)}finally{xe=d,x.p=u,A.T=a}}tt=1,Zm(),Km(),Jm()}}function Zm(){if(tt===1){tt=0;var e=Kn,t=ml,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=A.T,A.T=null;var a=x.p;x.p=2;var u=xe;xe|=4;try{Mm(t,e);var o=ro,d=Bh(e.containerInfo),p=o.focusedElem,v=o.selectionRange;if(d!==p&&p&&p.ownerDocument&&zh(p.ownerDocument.documentElement,p)){if(v!==null&&wu(p)){var R=v.start,B=v.end;if(B===void 0&&(B=R),"selectionStart"in p)p.selectionStart=R,p.selectionEnd=Math.min(B,p.value.length);else{var I=p.ownerDocument||document,D=I&&I.defaultView||window;if(D.getSelection){var z=D.getSelection(),Z=p.textContent.length,ne=Math.min(v.start,Z),ze=v.end===void 0?ne:Math.min(v.end,Z);!z.extend&&ne>ze&&(d=ze,ze=ne,ne=d);var N=wh(p,ne),C=wh(p,ze);if(N&&C&&(z.rangeCount!==1||z.anchorNode!==N.node||z.anchorOffset!==N.offset||z.focusNode!==C.node||z.focusOffset!==C.offset)){var M=I.createRange();M.setStart(N.node,N.offset),z.removeAllRanges(),ne>ze?(z.addRange(M),z.extend(C.node,C.offset)):(M.setEnd(C.node,C.offset),z.addRange(M))}}}}for(I=[],z=p;z=z.parentNode;)z.nodeType===1&&I.push({element:z,left:z.scrollLeft,top:z.scrollTop});for(typeof p.focus=="function"&&p.focus(),p=0;p<I.length;p++){var L=I[p];L.element.scrollLeft=L.left,L.element.scrollTop=L.top}}yr=!!ao,ro=ao=null}finally{xe=u,x.p=a,A.T=i}}e.current=t,tt=2}}function Km(){if(tt===2){tt=0;var e=Kn,t=ml,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=A.T,A.T=null;var a=x.p;x.p=2;var u=xe;xe|=4;try{Cm(e,t.alternate,t)}finally{xe=u,x.p=a,A.T=i}}tt=3}}function Jm(){if(tt===4||tt===3){tt=0,zy();var e=Kn,t=ml,i=Cn,a=Um;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?tt=5:(tt=0,ml=Kn=null,Wm(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Zn=null),du(i),t=t.stateNode,Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(Ll,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=A.T,u=x.p,x.p=2,A.T=null;try{for(var o=e.onRecoverableError,d=0;d<a.length;d++){var p=a[d];o(p.value,{componentStack:p.stack})}}finally{A.T=t,x.p=u}}(Cn&3)!==0&&ar(),sn(e),u=e.pendingLanes,(i&261930)!==0&&(u&42)!==0?e===Fc?ys++:(ys=0,Fc=e):ys=0,vs(0)}}function Wm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,$l(t)))}function ar(){return Zm(),Km(),Jm(),Pm()}function Pm(){if(tt!==5)return!1;var e=Kn,t=Qc;Qc=0;var i=du(Cn),a=A.T,u=x.p;try{x.p=32>i?32:i,A.T=null,i=Xc,Xc=null;var o=Kn,d=Cn;if(tt=0,ml=Kn=null,Cn=0,(xe&6)!==0)throw Error(r(331));var p=xe;if(xe|=4,zm(o.current),Dm(o,o.current,d,i),xe=p,vs(0,!1),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(Ll,o)}catch{}return!0}finally{x.p=u,A.T=a,Wm(e,t)}}function $m(e,t,i){t=qt(i,t),t=Nc(e.stateNode,t,2),e=Yn(e,t,2),e!==null&&(Il(e,2),sn(e))}function De(e,t,i){if(e.tag===3)$m(e,e,i);else for(;t!==null;){if(t.tag===3){$m(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Zn===null||!Zn.has(a))){e=qt(i,e),i=em(2),a=Yn(t,i,2),a!==null&&(tm(i,a,t,e),Il(a,2),sn(a));break}}t=t.return}}function Jc(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new s0;var u=new Set;a.set(t,u)}else u=a.get(t),u===void 0&&(u=new Set,a.set(t,u));u.has(i)||(Yc=!0,u.add(i),e=o0.bind(null,e,t,i),t.then(e,e))}function o0(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Be===e&&(be&i)===i&&(Qe===4||Qe===3&&(be&62914560)===be&&300>Mt()-er?(xe&2)===0&&_l(e,0):Gc|=i,dl===be&&(dl=0)),sn(e)}function e_(e,t){t===0&&(t=Zf()),e=pi(e,t),e!==null&&(Il(e,t),sn(e))}function f0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),e_(e,i)}function h0(e,t){var i=0;switch(e.tag){case 31:case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(i=u.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),e_(e,i)}function d0(e,t){return cu(e,t)}var rr=null,pl=null,Wc=!1,ur=!1,Pc=!1,Wn=0;function sn(e){e!==pl&&e.next===null&&(pl===null?rr=pl=e:pl=pl.next=e),ur=!0,Wc||(Wc=!0,_0())}function vs(e,t){if(!Pc&&ur){Pc=!0;do for(var i=!1,a=rr;a!==null;){if(e!==0){var u=a.pendingLanes;if(u===0)var o=0;else{var d=a.suspendedLanes,p=a.pingedLanes;o=(1<<31-Dt(42|e)+1)-1,o&=u&~(d&~p),o=o&201326741?o&201326741|1:o?o|2:0}o!==0&&(i=!0,l_(a,o))}else o=be,o=ha(a,a===Be?o:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(o&3)===0||Hl(a,o)||(i=!0,l_(a,o));a=a.next}while(i);Pc=!1}}function m0(){t_()}function t_(){ur=Wc=!1;var e=0;Wn!==0&&N0()&&(e=Wn);for(var t=Mt(),i=null,a=rr;a!==null;){var u=a.next,o=n_(a,t);o===0?(a.next=null,i===null?rr=u:i.next=u,u===null&&(pl=i)):(i=a,(e!==0||(o&3)!==0)&&(ur=!0)),a=u}tt!==0&&tt!==5||vs(e),Wn!==0&&(Wn=0)}function n_(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,o=e.pendingLanes&-62914561;0<o;){var d=31-Dt(o),p=1<<d,v=u[d];v===-1?((p&i)===0||(p&a)!==0)&&(u[d]=qy(p,t)):v<=t&&(e.expiredLanes|=p),o&=~p}if(t=Be,i=be,i=ha(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,i===0||e===t&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&ou(a),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Hl(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(a!==null&&ou(a),du(i)){case 2:case 8:i=Xf;break;case 32:i=ua;break;case 268435456:i=Ff;break;default:i=ua}return a=i_.bind(null,e),i=cu(i,a),e.callbackPriority=t,e.callbackNode=i,t}return a!==null&&a!==null&&ou(a),e.callbackPriority=2,e.callbackNode=null,2}function i_(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(ar()&&e.callbackNode!==i)return null;var a=be;return a=ha(e,e===Be?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Hm(e,a,t),n_(e,Mt()),e.callbackNode!=null&&e.callbackNode===i?i_.bind(null,e):null)}function l_(e,t){if(ar())return null;Hm(e,t,!0)}function _0(){x0(function(){(xe&6)!==0?cu(Qf,m0):t_()})}function $c(){if(Wn===0){var e=nl;e===0&&(e=ca,ca<<=1,(ca&261888)===0&&(ca=256)),Wn=e}return Wn}function s_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ga(""+e)}function a_(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function g0(e,t,i,a,u){if(t==="submit"&&i&&i.stateNode===u){var o=s_((u[yt]||null).action),d=a.submitter;d&&(t=(t=d[yt]||null)?s_(t.formAction):d.getAttribute("formAction"),t!==null&&(o=t,d=null));var p=new ba("action","action",null,a,u);e.push({event:p,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Wn!==0){var v=d?a_(u,d):new FormData(u);vc(i,{pending:!0,data:v,method:u.method,action:o},null,v)}}else typeof o=="function"&&(p.preventDefault(),v=d?a_(u,d):new FormData(u),vc(i,{pending:!0,data:v,method:u.method,action:o},o,v))},currentTarget:u}]})}}for(var eo=0;eo<Uu.length;eo++){var to=Uu[eo],p0=to.toLowerCase(),y0=to[0].toUpperCase()+to.slice(1);Zt(p0,"on"+y0)}Zt(Lh,"onAnimationEnd"),Zt(Hh,"onAnimationIteration"),Zt(Ih,"onAnimationStart"),Zt("dblclick","onDoubleClick"),Zt("focusin","onFocus"),Zt("focusout","onBlur"),Zt(Bv,"onTransitionRun"),Zt(jv,"onTransitionStart"),Zt(Uv,"onTransitionCancel"),Zt(kh,"onTransitionEnd"),Yi("onMouseEnter",["mouseout","mouseover"]),Yi("onMouseLeave",["mouseout","mouseover"]),Yi("onPointerEnter",["pointerout","pointerover"]),Yi("onPointerLeave",["pointerout","pointerover"]),di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),di("onBeforeInput",["compositionend","keypress","textInput","paste"]),di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),v0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bs));function r_(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],u=a.event;a=a.listeners;e:{var o=void 0;if(t)for(var d=a.length-1;0<=d;d--){var p=a[d],v=p.instance,R=p.currentTarget;if(p=p.listener,v!==o&&u.isPropagationStopped())break e;o=p,u.currentTarget=R;try{o(u)}catch(B){Ca(B)}u.currentTarget=null,o=v}else for(d=0;d<a.length;d++){if(p=a[d],v=p.instance,R=p.currentTarget,p=p.listener,v!==o&&u.isPropagationStopped())break e;o=p,u.currentTarget=R;try{o(u)}catch(B){Ca(B)}u.currentTarget=null,o=v}}}}function ye(e,t){var i=t[mu];i===void 0&&(i=t[mu]=new Set);var a=e+"__bubble";i.has(a)||(u_(t,e,2,!1),i.add(a))}function no(e,t,i){var a=0;t&&(a|=4),u_(i,e,a,t)}var cr="_reactListening"+Math.random().toString(36).slice(2);function io(e){if(!e[cr]){e[cr]=!0,th.forEach(function(i){i!=="selectionchange"&&(v0.has(i)||no(i,!1,e),no(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[cr]||(t[cr]=!0,no("selectionchange",!1,t))}}function u_(e,t,i,a){switch(L_(t)){case 2:var u=F0;break;case 8:u=Z0;break;default:u=vo}i=u.bind(null,t,i,e),u=void 0,!Cu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(t,i,{capture:!0,passive:u}):e.addEventListener(t,i,!0):u!==void 0?e.addEventListener(t,i,{passive:u}):e.addEventListener(t,i,!1)}function lo(e,t,i,a,u){var o=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var p=a.stateNode.containerInfo;if(p===u)break;if(d===4)for(d=a.return;d!==null;){var v=d.tag;if((v===3||v===4)&&d.stateNode.containerInfo===u)return;d=d.return}for(;p!==null;){if(d=Ii(p),d===null)return;if(v=d.tag,v===5||v===6||v===26||v===27){a=o=d;continue e}p=p.parentNode}}a=a.return}dh(function(){var R=o,B=Su(i),I=[];e:{var D=qh.get(e);if(D!==void 0){var z=ba,Z=e;switch(e){case"keypress":if(ya(i)===0)break e;case"keydown":case"keyup":z=hv;break;case"focusin":Z="focus",z=xu;break;case"focusout":Z="blur",z=xu;break;case"beforeblur":case"afterblur":z=xu;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=ev;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=_v;break;case Lh:case Hh:case Ih:z=iv;break;case kh:z=pv;break;case"scroll":case"scrollend":z=Py;break;case"wheel":z=vv;break;case"copy":case"cut":case"paste":z=sv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=yh;break;case"toggle":case"beforetoggle":z=Sv}var ne=(t&4)!==0,ze=!ne&&(e==="scroll"||e==="scrollend"),N=ne?D!==null?D+"Capture":null:D;ne=[];for(var C=R,M;C!==null;){var L=C;if(M=L.stateNode,L=L.tag,L!==5&&L!==26&&L!==27||M===null||N===null||(L=Yl(C,N),L!=null&&ne.push(Ss(C,L,M))),ze)break;C=C.return}0<ne.length&&(D=new z(D,Z,null,i,B),I.push({event:D,listeners:ne}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",D&&i!==bu&&(Z=i.relatedTarget||i.fromElement)&&(Ii(Z)||Z[Hi]))break e;if((z||D)&&(D=B.window===B?B:(D=B.ownerDocument)?D.defaultView||D.parentWindow:window,z?(Z=i.relatedTarget||i.toElement,z=R,Z=Z?Ii(Z):null,Z!==null&&(ze=f(Z),ne=Z.tag,Z!==ze||ne!==5&&ne!==27&&ne!==6)&&(Z=null)):(z=null,Z=R),z!==Z)){if(ne=gh,L="onMouseLeave",N="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(ne=yh,L="onPointerLeave",N="onPointerEnter",C="pointer"),ze=z==null?D:ql(z),M=Z==null?D:ql(Z),D=new ne(L,C+"leave",z,i,B),D.target=ze,D.relatedTarget=M,L=null,Ii(B)===R&&(ne=new ne(N,C+"enter",Z,i,B),ne.target=M,ne.relatedTarget=ze,L=ne),ze=L,z&&Z)t:{for(ne=b0,N=z,C=Z,M=0,L=N;L;L=ne(L))M++;L=0;for(var P=C;P;P=ne(P))L++;for(;0<M-L;)N=ne(N),M--;for(;0<L-M;)C=ne(C),L--;for(;M--;){if(N===C||C!==null&&N===C.alternate){ne=N;break t}N=ne(N),C=ne(C)}ne=null}else ne=null;z!==null&&c_(I,D,z,ne,!1),Z!==null&&ze!==null&&c_(I,ze,Z,ne,!0)}}e:{if(D=R?ql(R):window,z=D.nodeName&&D.nodeName.toLowerCase(),z==="select"||z==="input"&&D.type==="file")var Te=Ah;else if(Th(D))if(xh)Te=Ov;else{Te=Rv;var W=Mv}else z=D.nodeName,!z||z.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?R&&vu(R.elementType)&&(Te=Ah):Te=Dv;if(Te&&(Te=Te(e,R))){Nh(I,Te,i,B);break e}W&&W(e,D,R),e==="focusout"&&R&&D.type==="number"&&R.memoizedProps.value!=null&&yu(D,"number",D.value)}switch(W=R?ql(R):window,e){case"focusin":(Th(W)||W.contentEditable==="true")&&(Zi=W,zu=R,Jl=null);break;case"focusout":Jl=zu=Zi=null;break;case"mousedown":Bu=!0;break;case"contextmenu":case"mouseup":case"dragend":Bu=!1,jh(I,i,B);break;case"selectionchange":if(zv)break;case"keydown":case"keyup":jh(I,i,B)}var he;if(Ru)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else Fi?Eh(e,i)&&(Se="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(Se="onCompositionStart");Se&&(vh&&i.locale!=="ko"&&(Fi||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&Fi&&(he=mh()):(jn=B,Tu="value"in jn?jn.value:jn.textContent,Fi=!0)),W=or(R,Se),0<W.length&&(Se=new ph(Se,e,null,i,B),I.push({event:Se,listeners:W}),he?Se.data=he:(he=Ch(i),he!==null&&(Se.data=he)))),(he=Cv?Tv(e,i):Nv(e,i))&&(Se=or(R,"onBeforeInput"),0<Se.length&&(W=new ph("onBeforeInput","beforeinput",null,i,B),I.push({event:W,listeners:Se}),W.data=he)),g0(I,e,R,i,B)}r_(I,t)})}function Ss(e,t,i){return{instance:e,listener:t,currentTarget:i}}function or(e,t){for(var i=t+"Capture",a=[];e!==null;){var u=e,o=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||o===null||(u=Yl(e,i),u!=null&&a.unshift(Ss(e,u,o)),u=Yl(e,t),u!=null&&a.push(Ss(e,u,o))),e.tag===3)return a;e=e.return}return[]}function b0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function c_(e,t,i,a,u){for(var o=t._reactName,d=[];i!==null&&i!==a;){var p=i,v=p.alternate,R=p.stateNode;if(p=p.tag,v!==null&&v===a)break;p!==5&&p!==26&&p!==27||R===null||(v=R,u?(R=Yl(i,o),R!=null&&d.unshift(Ss(i,R,v))):u||(R=Yl(i,o),R!=null&&d.push(Ss(i,R,v)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var S0=/\r\n?/g,E0=/\u0000|\uFFFD/g;function o_(e){return(typeof e=="string"?e:""+e).replace(S0,`
`).replace(E0,"")}function f_(e,t){return t=o_(t),o_(e)===t}function we(e,t,i,a,u,o){switch(i){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Vi(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Vi(e,""+a);break;case"className":ma(e,"class",a);break;case"tabIndex":ma(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":ma(e,i,a);break;case"style":fh(e,a,o);break;case"data":if(t!=="object"){ma(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=ga(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof o=="function"&&(i==="formAction"?(t!=="input"&&we(e,t,"name",u.name,u,null),we(e,t,"formEncType",u.formEncType,u,null),we(e,t,"formMethod",u.formMethod,u,null),we(e,t,"formTarget",u.formTarget,u,null)):(we(e,t,"encType",u.encType,u,null),we(e,t,"method",u.method,u,null),we(e,t,"target",u.target,u,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=ga(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=un);break;case"onScroll":a!=null&&ye("scroll",e);break;case"onScrollEnd":a!=null&&ye("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=ga(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":ye("beforetoggle",e),ye("toggle",e),da(e,"popover",a);break;case"xlinkActuate":rn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":rn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":rn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":rn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":rn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":rn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":rn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":rn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":rn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":da(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Jy.get(i)||i,da(e,i,a))}}function so(e,t,i,a,u,o){switch(i){case"style":fh(e,a,o);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof a=="string"?Vi(e,a):(typeof a=="number"||typeof a=="bigint")&&Vi(e,""+a);break;case"onScroll":a!=null&&ye("scroll",e);break;case"onScrollEnd":a!=null&&ye("scrollend",e);break;case"onClick":a!=null&&(e.onclick=un);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!nh.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(u=i.endsWith("Capture"),t=i.slice(2,u?i.length-7:void 0),o=e[yt]||null,o=o!=null?o[i]:null,typeof o=="function"&&e.removeEventListener(t,o,u),typeof a=="function")){typeof o!="function"&&o!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,a,u);break e}i in e?e[i]=a:a===!0?e.setAttribute(i,""):da(e,i,a)}}}function dt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",e),ye("load",e);var a=!1,u=!1,o;for(o in i)if(i.hasOwnProperty(o)){var d=i[o];if(d!=null)switch(o){case"src":a=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:we(e,t,o,d,i,null)}}u&&we(e,t,"srcSet",i.srcSet,i,null),a&&we(e,t,"src",i.src,i,null);return;case"input":ye("invalid",e);var p=o=d=u=null,v=null,R=null;for(a in i)if(i.hasOwnProperty(a)){var B=i[a];if(B!=null)switch(a){case"name":u=B;break;case"type":d=B;break;case"checked":v=B;break;case"defaultChecked":R=B;break;case"value":o=B;break;case"defaultValue":p=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,t));break;default:we(e,t,a,B,i,null)}}rh(e,o,p,v,R,d,u,!1);return;case"select":ye("invalid",e),a=d=o=null;for(u in i)if(i.hasOwnProperty(u)&&(p=i[u],p!=null))switch(u){case"value":o=p;break;case"defaultValue":d=p;break;case"multiple":a=p;default:we(e,t,u,p,i,null)}t=o,i=d,e.multiple=!!a,t!=null?Gi(e,!!a,t,!1):i!=null&&Gi(e,!!a,i,!0);return;case"textarea":ye("invalid",e),o=u=a=null;for(d in i)if(i.hasOwnProperty(d)&&(p=i[d],p!=null))switch(d){case"value":a=p;break;case"defaultValue":u=p;break;case"children":o=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:we(e,t,d,p,i,null)}ch(e,a,u,o);return;case"option":for(v in i)i.hasOwnProperty(v)&&(a=i[v],a!=null)&&(v==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":we(e,t,v,a,i,null));return;case"dialog":ye("beforetoggle",e),ye("toggle",e),ye("cancel",e),ye("close",e);break;case"iframe":case"object":ye("load",e);break;case"video":case"audio":for(a=0;a<bs.length;a++)ye(bs[a],e);break;case"image":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"embed":case"source":case"link":ye("error",e),ye("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in i)if(i.hasOwnProperty(R)&&(a=i[R],a!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:we(e,t,R,a,i,null)}return;default:if(vu(t)){for(B in i)i.hasOwnProperty(B)&&(a=i[B],a!==void 0&&so(e,t,B,a,i,void 0));return}}for(p in i)i.hasOwnProperty(p)&&(a=i[p],a!=null&&we(e,t,p,a,i,null))}function C0(e,t,i,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,o=null,d=null,p=null,v=null,R=null,B=null;for(z in i){var I=i[z];if(i.hasOwnProperty(z)&&I!=null)switch(z){case"checked":break;case"value":break;case"defaultValue":v=I;default:a.hasOwnProperty(z)||we(e,t,z,null,a,I)}}for(var D in a){var z=a[D];if(I=i[D],a.hasOwnProperty(D)&&(z!=null||I!=null))switch(D){case"type":o=z;break;case"name":u=z;break;case"checked":R=z;break;case"defaultChecked":B=z;break;case"value":d=z;break;case"defaultValue":p=z;break;case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,t));break;default:z!==I&&we(e,t,D,z,a,I)}}pu(e,d,p,v,R,B,o,u);return;case"select":z=d=p=D=null;for(o in i)if(v=i[o],i.hasOwnProperty(o)&&v!=null)switch(o){case"value":break;case"multiple":z=v;default:a.hasOwnProperty(o)||we(e,t,o,null,a,v)}for(u in a)if(o=a[u],v=i[u],a.hasOwnProperty(u)&&(o!=null||v!=null))switch(u){case"value":D=o;break;case"defaultValue":p=o;break;case"multiple":d=o;default:o!==v&&we(e,t,u,o,a,v)}t=p,i=d,a=z,D!=null?Gi(e,!!i,D,!1):!!a!=!!i&&(t!=null?Gi(e,!!i,t,!0):Gi(e,!!i,i?[]:"",!1));return;case"textarea":z=D=null;for(p in i)if(u=i[p],i.hasOwnProperty(p)&&u!=null&&!a.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:we(e,t,p,null,a,u)}for(d in a)if(u=a[d],o=i[d],a.hasOwnProperty(d)&&(u!=null||o!=null))switch(d){case"value":D=u;break;case"defaultValue":z=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==o&&we(e,t,d,u,a,o)}uh(e,D,z);return;case"option":for(var Z in i)D=i[Z],i.hasOwnProperty(Z)&&D!=null&&!a.hasOwnProperty(Z)&&(Z==="selected"?e.selected=!1:we(e,t,Z,null,a,D));for(v in a)D=a[v],z=i[v],a.hasOwnProperty(v)&&D!==z&&(D!=null||z!=null)&&(v==="selected"?e.selected=D&&typeof D!="function"&&typeof D!="symbol":we(e,t,v,D,a,z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ne in i)D=i[ne],i.hasOwnProperty(ne)&&D!=null&&!a.hasOwnProperty(ne)&&we(e,t,ne,null,a,D);for(R in a)if(D=a[R],z=i[R],a.hasOwnProperty(R)&&D!==z&&(D!=null||z!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:we(e,t,R,D,a,z)}return;default:if(vu(t)){for(var ze in i)D=i[ze],i.hasOwnProperty(ze)&&D!==void 0&&!a.hasOwnProperty(ze)&&so(e,t,ze,void 0,a,D);for(B in a)D=a[B],z=i[B],!a.hasOwnProperty(B)||D===z||D===void 0&&z===void 0||so(e,t,B,D,a,z);return}}for(var N in i)D=i[N],i.hasOwnProperty(N)&&D!=null&&!a.hasOwnProperty(N)&&we(e,t,N,null,a,D);for(I in a)D=a[I],z=i[I],!a.hasOwnProperty(I)||D===z||D==null&&z==null||we(e,t,I,D,a,z)}function h_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function T0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),a=0;a<i.length;a++){var u=i[a],o=u.transferSize,d=u.initiatorType,p=u.duration;if(o&&p&&h_(d)){for(d=0,p=u.responseEnd,a+=1;a<i.length;a++){var v=i[a],R=v.startTime;if(R>p)break;var B=v.transferSize,I=v.initiatorType;B&&h_(I)&&(v=v.responseEnd,d+=B*(v<p?1:(p-R)/(v-R)))}if(--a,t+=8*(o+d)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ao=null,ro=null;function fr(e){return e.nodeType===9?e:e.ownerDocument}function d_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m_(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function uo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var co=null;function N0(){var e=window.event;return e&&e.type==="popstate"?e===co?!1:(co=e,!0):(co=null,!1)}var __=typeof setTimeout=="function"?setTimeout:void 0,A0=typeof clearTimeout=="function"?clearTimeout:void 0,g_=typeof Promise=="function"?Promise:void 0,x0=typeof queueMicrotask=="function"?queueMicrotask:typeof g_<"u"?function(e){return g_.resolve(null).then(e).catch(M0)}:__;function M0(e){setTimeout(function(){throw e})}function Pn(e){return e==="head"}function p_(e,t){var i=t,a=0;do{var u=i.nextSibling;if(e.removeChild(i),u&&u.nodeType===8)if(i=u.data,i==="/$"||i==="/&"){if(a===0){e.removeChild(u),Sl(t);return}a--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")a++;else if(i==="html")Es(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Es(i);for(var o=i.firstChild;o;){var d=o.nextSibling,p=o.nodeName;o[kl]||p==="SCRIPT"||p==="STYLE"||p==="LINK"&&o.rel.toLowerCase()==="stylesheet"||i.removeChild(o),o=d}}else i==="body"&&Es(e.ownerDocument.body);i=u}while(i);Sl(t)}function y_(e,t){var i=e;e=0;do{var a=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),a&&a.nodeType===8)if(i=a.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=a}while(i)}function oo(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":oo(i),_u(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function R0(e,t,i,a){for(;e.nodeType===1;){var u=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[kl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(o=e.getAttribute("rel"),o==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(o!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(o=e.getAttribute("src"),(o!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var o=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===o)return e}else return e;if(e=Xt(e.nextSibling),e===null)break}return null}function D0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Xt(e.nextSibling),e===null))return null;return e}function v_(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Xt(e.nextSibling),e===null))return null;return e}function fo(e){return e.data==="$?"||e.data==="$~"}function ho(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function O0(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var a=function(){t(),i.removeEventListener("DOMContentLoaded",a)};i.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Xt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var mo=null;function b_(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Xt(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function S_(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function E_(e,t,i){switch(t=fr(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function Es(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);_u(e)}var Ft=new Map,C_=new Set;function hr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Tn=x.d;x.d={f:w0,r:z0,D:B0,C:j0,L:U0,m:L0,X:I0,S:H0,M:k0};function w0(){var e=Tn.f(),t=ir();return e||t}function z0(e){var t=ki(e);t!==null&&t.tag===5&&t.type==="form"?kd(t):Tn.r(e)}var yl=typeof document>"u"?null:document;function T_(e,t,i){var a=yl;if(a&&typeof t=="string"&&t){var u=It(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof i=="string"&&(u+='[crossorigin="'+i+'"]'),C_.has(u)||(C_.add(u),e={rel:e,crossOrigin:i,href:t},a.querySelector(u)===null&&(t=a.createElement("link"),dt(t,"link",e),lt(t),a.head.appendChild(t)))}}function B0(e){Tn.D(e),T_("dns-prefetch",e,null)}function j0(e,t){Tn.C(e,t),T_("preconnect",e,t)}function U0(e,t,i){Tn.L(e,t,i);var a=yl;if(a&&e&&t){var u='link[rel="preload"][as="'+It(t)+'"]';t==="image"&&i&&i.imageSrcSet?(u+='[imagesrcset="'+It(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(u+='[imagesizes="'+It(i.imageSizes)+'"]')):u+='[href="'+It(e)+'"]';var o=u;switch(t){case"style":o=vl(e);break;case"script":o=bl(e)}Ft.has(o)||(e=b({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Ft.set(o,e),a.querySelector(u)!==null||t==="style"&&a.querySelector(Cs(o))||t==="script"&&a.querySelector(Ts(o))||(t=a.createElement("link"),dt(t,"link",e),lt(t),a.head.appendChild(t)))}}function L0(e,t){Tn.m(e,t);var i=yl;if(i&&e){var a=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+It(a)+'"][href="'+It(e)+'"]',o=u;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=bl(e)}if(!Ft.has(o)&&(e=b({rel:"modulepreload",href:e},t),Ft.set(o,e),i.querySelector(u)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Ts(o)))return}a=i.createElement("link"),dt(a,"link",e),lt(a),i.head.appendChild(a)}}}function H0(e,t,i){Tn.S(e,t,i);var a=yl;if(a&&e){var u=qi(a).hoistableStyles,o=vl(e);t=t||"default";var d=u.get(o);if(!d){var p={loading:0,preload:null};if(d=a.querySelector(Cs(o)))p.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Ft.get(o))&&_o(e,i);var v=d=a.createElement("link");lt(v),dt(v,"link",e),v._p=new Promise(function(R,B){v.onload=R,v.onerror=B}),v.addEventListener("load",function(){p.loading|=1}),v.addEventListener("error",function(){p.loading|=2}),p.loading|=4,dr(d,t,a)}d={type:"stylesheet",instance:d,count:1,state:p},u.set(o,d)}}}function I0(e,t){Tn.X(e,t);var i=yl;if(i&&e){var a=qi(i).hoistableScripts,u=bl(e),o=a.get(u);o||(o=i.querySelector(Ts(u)),o||(e=b({src:e,async:!0},t),(t=Ft.get(u))&&go(e,t),o=i.createElement("script"),lt(o),dt(o,"link",e),i.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(u,o))}}function k0(e,t){Tn.M(e,t);var i=yl;if(i&&e){var a=qi(i).hoistableScripts,u=bl(e),o=a.get(u);o||(o=i.querySelector(Ts(u)),o||(e=b({src:e,async:!0,type:"module"},t),(t=Ft.get(u))&&go(e,t),o=i.createElement("script"),lt(o),dt(o,"link",e),i.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},a.set(u,o))}}function N_(e,t,i,a){var u=(u=se.current)?hr(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=vl(i.href),i=qi(u).hoistableStyles,a=i.get(t),a||(a={type:"style",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=vl(i.href);var o=qi(u).hoistableStyles,d=o.get(e);if(d||(u=u.ownerDocument||u,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},o.set(e,d),(o=u.querySelector(Cs(e)))&&!o._p&&(d.instance=o,d.state.loading=5),Ft.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Ft.set(e,i),o||q0(u,e,i,d.state))),t&&a===null)throw Error(r(528,""));return d}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=bl(i),i=qi(u).hoistableScripts,a=i.get(t),a||(a={type:"script",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function vl(e){return'href="'+It(e)+'"'}function Cs(e){return'link[rel="stylesheet"]['+e+"]"}function A_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function q0(e,t,i,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),dt(t,"link",i),lt(t),e.head.appendChild(t))}function bl(e){return'[src="'+It(e)+'"]'}function Ts(e){return"script[async]"+e}function x_(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+It(i.href)+'"]');if(a)return t.instance=a,lt(a),a;var u=b({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),lt(a),dt(a,"style",u),dr(a,i.precedence,e),t.instance=a;case"stylesheet":u=vl(i.href);var o=e.querySelector(Cs(u));if(o)return t.state.loading|=4,t.instance=o,lt(o),o;a=A_(i),(u=Ft.get(u))&&_o(a,u),o=(e.ownerDocument||e).createElement("link"),lt(o);var d=o;return d._p=new Promise(function(p,v){d.onload=p,d.onerror=v}),dt(o,"link",a),t.state.loading|=4,dr(o,i.precedence,e),t.instance=o;case"script":return o=bl(i.src),(u=e.querySelector(Ts(o)))?(t.instance=u,lt(u),u):(a=i,(u=Ft.get(o))&&(a=b({},i),go(a,u)),e=e.ownerDocument||e,u=e.createElement("script"),lt(u),dt(u,"link",a),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,dr(a,i.precedence,e));return t.instance}function dr(e,t,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=a.length?a[a.length-1]:null,o=u,d=0;d<a.length;d++){var p=a[d];if(p.dataset.precedence===t)o=p;else if(o!==u)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function _o(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function go(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var mr=null;function M_(e,t,i){if(mr===null){var a=new Map,u=mr=new Map;u.set(i,a)}else u=mr,a=u.get(i),a||(a=new Map,u.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),u=0;u<i.length;u++){var o=i[u];if(!(o[kl]||o[ct]||e==="link"&&o.getAttribute("rel")==="stylesheet")&&o.namespaceURI!=="http://www.w3.org/2000/svg"){var d=o.getAttribute(t)||"";d=e+d;var p=a.get(d);p?p.push(o):a.set(d,[o])}}return a}function R_(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function Y0(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function D_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function G0(e,t,i,a){if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var u=vl(a.href),o=t.querySelector(Cs(u));if(o){t=o._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=_r.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=o,lt(o);return}o=t.ownerDocument||t,a=A_(a),(u=Ft.get(u))&&_o(a,u),o=o.createElement("link"),lt(o);var d=o;d._p=new Promise(function(p,v){d.onload=p,d.onerror=v}),dt(o,"link",a),i.instance=o}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=_r.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var po=0;function V0(e,t){return e.stylesheets&&e.count===0&&pr(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var a=setTimeout(function(){if(e.stylesheets&&pr(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4+t);0<e.imgBytes&&po===0&&(po=62500*T0());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pr(e,e.stylesheets),e.unsuspend)){var o=e.unsuspend;e.unsuspend=null,o()}},(e.imgBytes>po?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(u)}}:null}function _r(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gr=null;function pr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gr=new Map,t.forEach(Q0,e),gr=null,_r.call(e))}function Q0(e,t){if(!(t.state.loading&4)){var i=gr.get(e);if(i)var a=i.get(null);else{i=new Map,gr.set(e,i);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<u.length;o++){var d=u[o];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),a=d)}a&&i.set(null,a)}u=t.instance,d=u.getAttribute("data-precedence"),o=i.get(d)||a,o===a&&i.set(null,u),i.set(d,u),this.count++,a=_r.bind(this),u.addEventListener("load",a),u.addEventListener("error",a),o?o.parentNode.insertBefore(u,o.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var Ns={$$typeof:fe,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function X0(e,t,i,a,u,o,d,p,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fu(0),this.hiddenUpdates=fu(null),this.identifierPrefix=a,this.onUncaughtError=u,this.onCaughtError=o,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function O_(e,t,i,a,u,o,d,p,v,R,B,I){return e=new X0(e,t,i,d,v,R,B,I,p),t=1,o===!0&&(t|=24),o=wt(3,null,null,t),e.current=o,o.stateNode=e,t=Ku(),t.refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:a,isDehydrated:i,cache:t},$u(o),e}function w_(e){return e?(e=Wi,e):Wi}function z_(e,t,i,a,u,o){u=w_(u),a.context===null?a.context=u:a.pendingContext=u,a=qn(t),a.payload={element:i},o=o===void 0?null:o,o!==null&&(a.callback=o),i=Yn(e,a,t),i!==null&&(Tt(i,e,t),is(i,e,t))}function B_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function yo(e,t){B_(e,t),(e=e.alternate)&&B_(e,t)}function j_(e){if(e.tag===13||e.tag===31){var t=pi(e,67108864);t!==null&&Tt(t,e,67108864),yo(e,67108864)}}function U_(e){if(e.tag===13||e.tag===31){var t=Lt();t=hu(t);var i=pi(e,t);i!==null&&Tt(i,e,t),yo(e,t)}}var yr=!0;function F0(e,t,i,a){var u=A.T;A.T=null;var o=x.p;try{x.p=2,vo(e,t,i,a)}finally{x.p=o,A.T=u}}function Z0(e,t,i,a){var u=A.T;A.T=null;var o=x.p;try{x.p=8,vo(e,t,i,a)}finally{x.p=o,A.T=u}}function vo(e,t,i,a){if(yr){var u=bo(a);if(u===null)lo(e,t,a,vr,i),H_(e,a);else if(J0(u,e,t,i,a))a.stopPropagation();else if(H_(e,a),t&4&&-1<K0.indexOf(e)){for(;u!==null;){var o=ki(u);if(o!==null)switch(o.tag){case 3:if(o=o.stateNode,o.current.memoizedState.isDehydrated){var d=hi(o.pendingLanes);if(d!==0){var p=o;for(p.pendingLanes|=2,p.entangledLanes|=2;d;){var v=1<<31-Dt(d);p.entanglements[1]|=v,d&=~v}sn(o),(xe&6)===0&&(tr=Mt()+500,vs(0))}}break;case 31:case 13:p=pi(o,2),p!==null&&Tt(p,o,2),ir(),yo(o,2)}if(o=bo(a),o===null&&lo(e,t,a,vr,i),o===u)break;u=o}u!==null&&a.stopPropagation()}else lo(e,t,a,null,i)}}function bo(e){return e=Su(e),So(e)}var vr=null;function So(e){if(vr=null,e=Ii(e),e!==null){var t=f(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===31){if(e=m(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return vr=e,null}function L_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(By()){case Qf:return 2;case Xf:return 8;case ua:case jy:return 32;case Ff:return 268435456;default:return 32}default:return 32}}var Eo=!1,$n=null,ei=null,ti=null,As=new Map,xs=new Map,ni=[],K0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function H_(e,t){switch(e){case"focusin":case"focusout":$n=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":As.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":xs.delete(t.pointerId)}}function Ms(e,t,i,a,u,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:o,targetContainers:[u]},t!==null&&(t=ki(t),t!==null&&j_(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function J0(e,t,i,a,u){switch(t){case"focusin":return $n=Ms($n,e,t,i,a,u),!0;case"dragenter":return ei=Ms(ei,e,t,i,a,u),!0;case"mouseover":return ti=Ms(ti,e,t,i,a,u),!0;case"pointerover":var o=u.pointerId;return As.set(o,Ms(As.get(o)||null,e,t,i,a,u)),!0;case"gotpointercapture":return o=u.pointerId,xs.set(o,Ms(xs.get(o)||null,e,t,i,a,u)),!0}return!1}function I_(e){var t=Ii(e.target);if(t!==null){var i=f(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,$f(e.priority,function(){U_(i)});return}}else if(t===31){if(t=m(i),t!==null){e.blockedOn=t,$f(e.priority,function(){U_(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function br(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=bo(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);bu=a,i.target.dispatchEvent(a),bu=null}else return t=ki(i),t!==null&&j_(t),e.blockedOn=i,!1;t.shift()}return!0}function k_(e,t,i){br(e)&&i.delete(t)}function W0(){Eo=!1,$n!==null&&br($n)&&($n=null),ei!==null&&br(ei)&&(ei=null),ti!==null&&br(ti)&&(ti=null),As.forEach(k_),xs.forEach(k_)}function Sr(e,t){e.blockedOn===t&&(e.blockedOn=null,Eo||(Eo=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,W0)))}var Er=null;function q_(e){Er!==e&&(Er=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Er===e&&(Er=null);for(var t=0;t<e.length;t+=3){var i=e[t],a=e[t+1],u=e[t+2];if(typeof a!="function"){if(So(a||i)===null)continue;break}var o=ki(i);o!==null&&(e.splice(t,3),t-=3,vc(o,{pending:!0,data:u,method:i.method,action:a},a,u))}}))}function Sl(e){function t(v){return Sr(v,e)}$n!==null&&Sr($n,e),ei!==null&&Sr(ei,e),ti!==null&&Sr(ti,e),As.forEach(t),xs.forEach(t);for(var i=0;i<ni.length;i++){var a=ni[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<ni.length&&(i=ni[0],i.blockedOn===null);)I_(i),i.blockedOn===null&&ni.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var u=i[a],o=i[a+1],d=u[yt]||null;if(typeof o=="function")d||q_(i);else if(d){var p=null;if(o&&o.hasAttribute("formAction")){if(u=o,d=o[yt]||null)p=d.formAction;else if(So(u)!==null)continue}else p=d.action;typeof p=="function"?i[a+1]=p:(i.splice(a,3),a-=3),q_(i)}}}function Y_(){function e(o){o.canIntercept&&o.info==="react-transition"&&o.intercept({handler:function(){return new Promise(function(d){return u=d})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),a||setTimeout(i,20)}function i(){if(!a&&!navigation.transition){var o=navigation.currentEntry;o&&o.url!=null&&navigation.navigate(o.url,{state:o.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Co(e){this._internalRoot=e}Cr.prototype.render=Co.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,a=Lt();z_(i,a,e,t,null,null)},Cr.prototype.unmount=Co.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;z_(e.current,2,null,e,null,null),ir(),t[Hi]=null}};function Cr(e){this._internalRoot=e}Cr.prototype.unstable_scheduleHydration=function(e){if(e){var t=Pf();e={blockedOn:null,target:e,priority:t};for(var i=0;i<ni.length&&t!==0&&t<ni[i].priority;i++);ni.splice(i,0,e),i===0&&I_(e)}};var G_=n.version;if(G_!=="19.2.4")throw Error(r(527,G_,"19.2.4"));x.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(t),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var P0={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tr.isDisabled&&Tr.supportsFiber)try{Ll=Tr.inject(P0),Rt=Tr}catch{}}return Ds.createRoot=function(e,t){if(!c(e))throw Error(r(299));var i=!1,a="",u=Jd,o=Wd,d=Pd;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(o=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError)),t=O_(e,1,!1,null,null,i,a,null,u,o,d,Y_),e[Hi]=t.current,io(e),new Co(t)},Ds.hydrateRoot=function(e,t,i){if(!c(e))throw Error(r(299));var a=!1,u="",o=Jd,d=Wd,p=Pd,v=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(o=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError),i.formState!==void 0&&(v=i.formState)),t=O_(e,1,!0,t,i??null,a,u,v,o,d,p,Y_),t.context=w_(null),i=t.current,a=Lt(),a=hu(a),u=qn(a),u.callback=null,Yn(i,u,a),i=a,t.current.lanes=i,Il(t,i),sn(t),e[Hi]=t.current,io(e),new Cr(t)},Ds.version="19.2.4",Ds}var $_;function u1(){if($_)return Ao.exports;$_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Ao.exports=r1(),Ao.exports}var c1=u1();const o1=()=>{};var eg={};const Fg={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};const Q=function(s,n){if(!s)throw Ol(n)},Ol=function(s){return new Error("Firebase Database ("+Fg.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};const Zg=function(s){const n=[];let l=0;for(let r=0;r<s.length;r++){let c=s.charCodeAt(r);c<128?n[l++]=c:c<2048?(n[l++]=c>>6|192,n[l++]=c&63|128):(c&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(c=65536+((c&1023)<<10)+(s.charCodeAt(++r)&1023),n[l++]=c>>18|240,n[l++]=c>>12&63|128,n[l++]=c>>6&63|128,n[l++]=c&63|128):(n[l++]=c>>12|224,n[l++]=c>>6&63|128,n[l++]=c&63|128)}return n},f1=function(s){const n=[];let l=0,r=0;for(;l<s.length;){const c=s[l++];if(c<128)n[r++]=String.fromCharCode(c);else if(c>191&&c<224){const f=s[l++];n[r++]=String.fromCharCode((c&31)<<6|f&63)}else if(c>239&&c<365){const f=s[l++],h=s[l++],m=s[l++],g=((c&7)<<18|(f&63)<<12|(h&63)<<6|m&63)-65536;n[r++]=String.fromCharCode(55296+(g>>10)),n[r++]=String.fromCharCode(56320+(g&1023))}else{const f=s[l++],h=s[l++];n[r++]=String.fromCharCode((c&15)<<12|(f&63)<<6|h&63)}}return n.join("")},uf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,n){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const l=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let c=0;c<s.length;c+=3){const f=s[c],h=c+1<s.length,m=h?s[c+1]:0,g=c+2<s.length,_=g?s[c+2]:0,T=f>>2,b=(f&3)<<4|m>>4;let E=(m&15)<<2|_>>6,Y=_&63;g||(Y=64,h||(E=64)),r.push(l[T],l[b],l[E],l[Y])}return r.join("")},encodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(s):this.encodeByteArray(Zg(s),n)},decodeString(s,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(s):f1(this.decodeStringToByteArray(s,n))},decodeStringToByteArray(s,n){this.init_();const l=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let c=0;c<s.length;){const f=l[s.charAt(c++)],m=c<s.length?l[s.charAt(c)]:0;++c;const _=c<s.length?l[s.charAt(c)]:64;++c;const b=c<s.length?l[s.charAt(c)]:64;if(++c,f==null||m==null||_==null||b==null)throw new h1;const E=f<<2|m>>4;if(r.push(E),_!==64){const Y=m<<4&240|_>>2;if(r.push(Y),b!==64){const G=_<<6&192|b;r.push(G)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class h1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kg=function(s){const n=Zg(s);return uf.encodeByteArray(n,!0)},Mr=function(s){return Kg(s).replace(/\./g,"")},Yo=function(s){try{return uf.decodeString(s,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};function d1(s){return Jg(void 0,s)}function Jg(s,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const l=n;return new Date(l.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return n}for(const l in n)!n.hasOwnProperty(l)||!m1(l)||(s[l]=Jg(s[l],n[l]));return s}function m1(s){return s!=="__proto__"}function _1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const g1=()=>_1().__FIREBASE_DEFAULTS__,p1=()=>{if(typeof process>"u"||typeof eg>"u")return;const s=eg.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},y1=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=s&&Yo(s[1]);return n&&JSON.parse(n)},Wg=()=>{try{return o1()||g1()||p1()||y1()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},v1=s=>Wg()?.emulatorHosts?.[s],b1=s=>{const n=v1(s);if(!n)return;const l=n.lastIndexOf(":");if(l<=0||l+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(l+1),10);return n[0]==="["?[n.substring(1,l-1),r]:[n.substring(0,l),r]},Pg=()=>Wg()?.config;class Xr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,l)=>{this.resolve=n,this.reject=l})}wrapCallback(n){return(l,r)=>{l?this.reject(l):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(l):n(l,r))}}}function cf(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function S1(s){return(await fetch(s,{credentials:"include"})).ok}function E1(s,n){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const l={alg:"none",type:"JWT"},r=n||"demo-project",c=s.iat||0,f=s.sub||s.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h={iss:`https://securetoken.google.com/${r}`,aud:r,iat:c,exp:c+3600,auth_time:c,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Mr(JSON.stringify(l)),Mr(JSON.stringify(h)),""].join(".")}const js={};function C1(){const s={prod:[],emulator:[]};for(const n of Object.keys(js))js[n]?s.emulator.push(n):s.prod.push(n);return s}function T1(s){let n=document.getElementById(s),l=!1;return n||(n=document.createElement("div"),n.setAttribute("id",s),l=!0),{created:l,element:n}}let tg=!1;function N1(s,n){if(typeof window>"u"||typeof document>"u"||!cf(window.location.host)||js[s]===n||js[s]||tg)return;js[s]=n;function l(E){return`__firebase__banner__${E}`}const r="__firebase__banner",f=C1().prod.length>0;function h(){const E=document.getElementById(r);E&&E.remove()}function m(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function g(E,Y){E.setAttribute("width","24"),E.setAttribute("id",Y),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function _(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{tg=!0,h()},E}function T(E,Y){E.setAttribute("id",Y),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function b(){const E=T1(r),Y=l("text"),G=document.getElementById(Y)||document.createElement("span"),J=l("learnmore"),ce=document.getElementById(J)||document.createElement("a"),ie=l("preprendIcon"),re=document.getElementById(ie)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const fe=E.element;m(fe),T(ce,J);const Me=_();g(re,ie),fe.append(re,G,ce,Me),document.body.appendChild(fe)}f?(G.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",Y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function A1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $g(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(A1())}function x1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function M1(){return Fg.NODE_ADMIN===!0}function R1(){try{return typeof indexedDB=="object"}catch{return!1}}function D1(){return new Promise((s,n)=>{try{let l=!0;const r="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(r);c.onsuccess=()=>{c.result.close(),l||self.indexedDB.deleteDatabase(r),s(!0)},c.onupgradeneeded=()=>{l=!1},c.onerror=()=>{n(c.error?.message||"")}}catch(l){n(l)}})}const O1="FirebaseError";class Ps extends Error{constructor(n,l,r){super(l),this.code=n,this.customData=r,this.name=O1,Object.setPrototypeOf(this,Ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ep.prototype.create)}}class ep{constructor(n,l,r){this.service=n,this.serviceName=l,this.errors=r}create(n,...l){const r=l[0]||{},c=`${this.service}/${n}`,f=this.errors[n],h=f?w1(f,r):"Error",m=`${this.serviceName}: ${h} (${c}).`;return new Ps(c,m,r)}}function w1(s,n){return s.replace(z1,(l,r)=>{const c=n[r];return c!=null?String(c):`<${r}?>`})}const z1=/\{\$([^}]+)}/g;function qs(s){return JSON.parse(s)}function nt(s){return JSON.stringify(s)}const tp=function(s){let n={},l={},r={},c="";try{const f=s.split(".");n=qs(Yo(f[0])||""),l=qs(Yo(f[1])||""),c=f[2],r=l.d||{},delete l.d}catch{}return{header:n,claims:l,data:r,signature:c}},B1=function(s){const n=tp(s),l=n.claims;return!!l&&typeof l=="object"&&l.hasOwnProperty("iat")},j1=function(s){const n=tp(s).claims;return typeof n=="object"&&n.admin===!0};function Rn(s,n){return Object.prototype.hasOwnProperty.call(s,n)}function xl(s,n){if(Object.prototype.hasOwnProperty.call(s,n))return s[n]}function ng(s){for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n))return!1;return!0}function Rr(s,n,l){const r={};for(const c in s)Object.prototype.hasOwnProperty.call(s,c)&&(r[c]=n.call(l,s[c],c,s));return r}function Dr(s,n){if(s===n)return!0;const l=Object.keys(s),r=Object.keys(n);for(const c of l){if(!r.includes(c))return!1;const f=s[c],h=n[c];if(ig(f)&&ig(h)){if(!Dr(f,h))return!1}else if(f!==h)return!1}for(const c of r)if(!l.includes(c))return!1;return!0}function ig(s){return s!==null&&typeof s=="object"}function U1(s){const n=[];for(const[l,r]of Object.entries(s))Array.isArray(r)?r.forEach(c=>{n.push(encodeURIComponent(l)+"="+encodeURIComponent(c))}):n.push(encodeURIComponent(l)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}class L1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,l){l||(l=0);const r=this.W_;if(typeof n=="string")for(let b=0;b<16;b++)r[b]=n.charCodeAt(l)<<24|n.charCodeAt(l+1)<<16|n.charCodeAt(l+2)<<8|n.charCodeAt(l+3),l+=4;else for(let b=0;b<16;b++)r[b]=n[l]<<24|n[l+1]<<16|n[l+2]<<8|n[l+3],l+=4;for(let b=16;b<80;b++){const E=r[b-3]^r[b-8]^r[b-14]^r[b-16];r[b]=(E<<1|E>>>31)&4294967295}let c=this.chain_[0],f=this.chain_[1],h=this.chain_[2],m=this.chain_[3],g=this.chain_[4],_,T;for(let b=0;b<80;b++){b<40?b<20?(_=m^f&(h^m),T=1518500249):(_=f^h^m,T=1859775393):b<60?(_=f&h|m&(f|h),T=2400959708):(_=f^h^m,T=3395469782);const E=(c<<5|c>>>27)+_+g+T+r[b]&4294967295;g=m,m=h,h=(f<<30|f>>>2)&4294967295,f=c,c=E}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(n,l){if(n==null)return;l===void 0&&(l=n.length);const r=l-this.blockSize;let c=0;const f=this.buf_;let h=this.inbuf_;for(;c<l;){if(h===0)for(;c<=r;)this.compress_(n,c),c+=this.blockSize;if(typeof n=="string"){for(;c<l;)if(f[h]=n.charCodeAt(c),++h,++c,h===this.blockSize){this.compress_(f),h=0;break}}else for(;c<l;)if(f[h]=n[c],++h,++c,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=l}digest(){const n=[];let l=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let c=this.blockSize-1;c>=56;c--)this.buf_[c]=l&255,l/=256;this.compress_(this.buf_);let r=0;for(let c=0;c<5;c++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[c]>>f&255,++r;return n}}function of(s,n){return`${s} failed: ${n} argument `}const H1=function(s){const n=[];let l=0;for(let r=0;r<s.length;r++){let c=s.charCodeAt(r);if(c>=55296&&c<=56319){const f=c-55296;r++,Q(r<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(r)-56320;c=65536+(f<<10)+h}c<128?n[l++]=c:c<2048?(n[l++]=c>>6|192,n[l++]=c&63|128):c<65536?(n[l++]=c>>12|224,n[l++]=c>>6&63|128,n[l++]=c&63|128):(n[l++]=c>>18|240,n[l++]=c>>12&63|128,n[l++]=c>>6&63|128,n[l++]=c&63|128)}return n},Fr=function(s){let n=0;for(let l=0;l<s.length;l++){const r=s.charCodeAt(l);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,l++):n+=3}return n};function wl(s){return s&&s._delegate?s._delegate:s}class Ys{constructor(n,l,r){this.name=n,this.instanceFactory=l,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}const Di="[DEFAULT]";class I1{constructor(n,l){this.name=n,this.container=l,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const l=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(l)){const r=new Xr;if(this.instancesDeferred.set(l,r),this.isInitialized(l)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:l});c&&r.resolve(c)}catch{}}return this.instancesDeferred.get(l).promise}getImmediate(n){const l=this.normalizeInstanceIdentifier(n?.identifier),r=n?.optional??!1;if(this.isInitialized(l)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:l})}catch(c){if(r)return null;throw c}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(q1(n))try{this.getOrInitializeService({instanceIdentifier:Di})}catch{}for(const[l,r]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(l);try{const f=this.getOrInitializeService({instanceIdentifier:c});r.resolve(f)}catch{}}}}clearInstance(n=Di){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(l=>"INTERNAL"in l).map(l=>l.INTERNAL.delete()),...n.filter(l=>"_delete"in l).map(l=>l._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=Di){return this.instances.has(n)}getOptions(n=Di){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:l={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:r,options:l});for(const[f,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);r===m&&h.resolve(c)}return c}onInit(n,l){const r=this.normalizeInstanceIdentifier(l),c=this.onInitCallbacks.get(r)??new Set;c.add(n),this.onInitCallbacks.set(r,c);const f=this.instances.get(r);return f&&n(f,r),()=>{c.delete(n)}}invokeOnInitCallbacks(n,l){const r=this.onInitCallbacks.get(l);if(r)for(const c of r)try{c(n,l)}catch{}}getOrInitializeService({instanceIdentifier:n,options:l={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:k1(n),options:l}),this.instances.set(n,r),this.instancesOptions.set(n,l),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=Di){return this.component?this.component.multipleInstances?n:Di:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function k1(s){return s===Di?void 0:s}function q1(s){return s.instantiationMode==="EAGER"}class Y1{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const l=this.getProvider(n.name);if(l.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);l.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const l=new I1(n,this);return this.providers.set(n,l),l}getProviders(){return Array.from(this.providers.values())}}var Ue;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ue||(Ue={}));const G1={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},V1=Ue.INFO,Q1={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},X1=(s,n,...l)=>{if(n<s.logLevel)return;const r=new Date().toISOString(),c=Q1[n];if(c)console[c](`[${r}]  ${s.name}:`,...l);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class np{constructor(n){this.name=n,this._logLevel=V1,this._logHandler=X1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Ue))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?G1[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...n),this._logHandler(this,Ue.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...n),this._logHandler(this,Ue.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...n),this._logHandler(this,Ue.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...n),this._logHandler(this,Ue.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...n),this._logHandler(this,Ue.ERROR,...n)}}const F1=(s,n)=>n.some(l=>s instanceof l);let lg,sg;function Z1(){return lg||(lg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function K1(){return sg||(sg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ip=new WeakMap,Go=new WeakMap,lp=new WeakMap,Do=new WeakMap,ff=new WeakMap;function J1(s){const n=new Promise((l,r)=>{const c=()=>{s.removeEventListener("success",f),s.removeEventListener("error",h)},f=()=>{l(li(s.result)),c()},h=()=>{r(s.error),c()};s.addEventListener("success",f),s.addEventListener("error",h)});return n.then(l=>{l instanceof IDBCursor&&ip.set(l,s)}).catch(()=>{}),ff.set(n,s),n}function W1(s){if(Go.has(s))return;const n=new Promise((l,r)=>{const c=()=>{s.removeEventListener("complete",f),s.removeEventListener("error",h),s.removeEventListener("abort",h)},f=()=>{l(),c()},h=()=>{r(s.error||new DOMException("AbortError","AbortError")),c()};s.addEventListener("complete",f),s.addEventListener("error",h),s.addEventListener("abort",h)});Go.set(s,n)}let Vo={get(s,n,l){if(s instanceof IDBTransaction){if(n==="done")return Go.get(s);if(n==="objectStoreNames")return s.objectStoreNames||lp.get(s);if(n==="store")return l.objectStoreNames[1]?void 0:l.objectStore(l.objectStoreNames[0])}return li(s[n])},set(s,n,l){return s[n]=l,!0},has(s,n){return s instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in s}};function P1(s){Vo=s(Vo)}function $1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...l){const r=s.call(Oo(this),n,...l);return lp.set(r,n.sort?n.sort():[n]),li(r)}:K1().includes(s)?function(...n){return s.apply(Oo(this),n),li(ip.get(this))}:function(...n){return li(s.apply(Oo(this),n))}}function eb(s){return typeof s=="function"?$1(s):(s instanceof IDBTransaction&&W1(s),F1(s,Z1())?new Proxy(s,Vo):s)}function li(s){if(s instanceof IDBRequest)return J1(s);if(Do.has(s))return Do.get(s);const n=eb(s);return n!==s&&(Do.set(s,n),ff.set(n,s)),n}const Oo=s=>ff.get(s);function tb(s,n,{blocked:l,upgrade:r,blocking:c,terminated:f}={}){const h=indexedDB.open(s,n),m=li(h);return r&&h.addEventListener("upgradeneeded",g=>{r(li(h.result),g.oldVersion,g.newVersion,li(h.transaction),g)}),l&&h.addEventListener("blocked",g=>l(g.oldVersion,g.newVersion,g)),m.then(g=>{f&&g.addEventListener("close",()=>f()),c&&g.addEventListener("versionchange",_=>c(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const nb=["get","getKey","getAll","getAllKeys","count"],ib=["put","add","delete","clear"],wo=new Map;function ag(s,n){if(!(s instanceof IDBDatabase&&!(n in s)&&typeof n=="string"))return;if(wo.get(n))return wo.get(n);const l=n.replace(/FromIndex$/,""),r=n!==l,c=ib.includes(l);if(!(l in(r?IDBIndex:IDBObjectStore).prototype)||!(c||nb.includes(l)))return;const f=async function(h,...m){const g=this.transaction(h,c?"readwrite":"readonly");let _=g.store;return r&&(_=_.index(m.shift())),(await Promise.all([_[l](...m),c&&g.done]))[0]};return wo.set(n,f),f}P1(s=>({...s,get:(n,l,r)=>ag(n,l)||s.get(n,l,r),has:(n,l)=>!!ag(n,l)||s.has(n,l)}));class lb{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(l=>{if(sb(l)){const r=l.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(l=>l).join(" ")}}function sb(s){return s.getComponent()?.type==="VERSION"}const Qo="@firebase/app",rg="0.14.7";const xn=new np("@firebase/app"),ab="@firebase/app-compat",rb="@firebase/analytics-compat",ub="@firebase/analytics",cb="@firebase/app-check-compat",ob="@firebase/app-check",fb="@firebase/auth",hb="@firebase/auth-compat",db="@firebase/database",mb="@firebase/data-connect",_b="@firebase/database-compat",gb="@firebase/functions",pb="@firebase/functions-compat",yb="@firebase/installations",vb="@firebase/installations-compat",bb="@firebase/messaging",Sb="@firebase/messaging-compat",Eb="@firebase/performance",Cb="@firebase/performance-compat",Tb="@firebase/remote-config",Nb="@firebase/remote-config-compat",Ab="@firebase/storage",xb="@firebase/storage-compat",Mb="@firebase/firestore",Rb="@firebase/ai",Db="@firebase/firestore-compat",Ob="firebase",wb="12.8.0";const Xo="[DEFAULT]",zb={[Qo]:"fire-core",[ab]:"fire-core-compat",[ub]:"fire-analytics",[rb]:"fire-analytics-compat",[ob]:"fire-app-check",[cb]:"fire-app-check-compat",[fb]:"fire-auth",[hb]:"fire-auth-compat",[db]:"fire-rtdb",[mb]:"fire-data-connect",[_b]:"fire-rtdb-compat",[gb]:"fire-fn",[pb]:"fire-fn-compat",[yb]:"fire-iid",[vb]:"fire-iid-compat",[bb]:"fire-fcm",[Sb]:"fire-fcm-compat",[Eb]:"fire-perf",[Cb]:"fire-perf-compat",[Tb]:"fire-rc",[Nb]:"fire-rc-compat",[Ab]:"fire-gcs",[xb]:"fire-gcs-compat",[Mb]:"fire-fst",[Db]:"fire-fst-compat",[Rb]:"fire-vertex","fire-js":"fire-js",[Ob]:"fire-js-all"};const Or=new Map,Bb=new Map,Fo=new Map;function ug(s,n){try{s.container.addComponent(n)}catch(l){xn.debug(`Component ${n.name} failed to register with FirebaseApp ${s.name}`,l)}}function wr(s){const n=s.name;if(Fo.has(n))return xn.debug(`There were multiple attempts to register component ${n}.`),!1;Fo.set(n,s);for(const l of Or.values())ug(l,s);for(const l of Bb.values())ug(l,s);return!0}function jb(s,n){const l=s.container.getProvider("heartbeat").getImmediate({optional:!0});return l&&l.triggerHeartbeat(),s.container.getProvider(n)}function Ub(s){return s==null?!1:s.settings!==void 0}const Lb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},si=new ep("app","Firebase",Lb);class Hb{constructor(n,l,r){this._isDeleted=!1,this._options={...n},this._config={...l},this._name=l.name,this._automaticDataCollectionEnabled=l.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw si.create("app-deleted",{appName:this._name})}}const Ib=wb;function sp(s,n={}){let l=s;typeof n!="object"&&(n={name:n});const r={name:Xo,automaticDataCollectionEnabled:!0,...n},c=r.name;if(typeof c!="string"||!c)throw si.create("bad-app-name",{appName:String(c)});if(l||(l=Pg()),!l)throw si.create("no-options");const f=Or.get(c);if(f){if(Dr(l,f.options)&&Dr(r,f.config))return f;throw si.create("duplicate-app",{appName:c})}const h=new Y1(c);for(const g of Fo.values())h.addComponent(g);const m=new Hb(l,r,h);return Or.set(c,m),m}function kb(s=Xo){const n=Or.get(s);if(!n&&s===Xo&&Pg())return sp();if(!n)throw si.create("no-app",{appName:s});return n}function Tl(s,n,l){let r=zb[s]??s;l&&(r+=`-${l}`);const c=r.match(/\s|\//),f=n.match(/\s|\//);if(c||f){const h=[`Unable to register library "${r}" with version "${n}":`];c&&h.push(`library name "${r}" contains illegal characters (whitespace or "/")`),c&&f&&h.push("and"),f&&h.push(`version name "${n}" contains illegal characters (whitespace or "/")`),xn.warn(h.join(" "));return}wr(new Ys(`${r}-version`,()=>({library:r,version:n}),"VERSION"))}const qb="firebase-heartbeat-database",Yb=1,Gs="firebase-heartbeat-store";let zo=null;function ap(){return zo||(zo=tb(qb,Yb,{upgrade:(s,n)=>{switch(n){case 0:try{s.createObjectStore(Gs)}catch(l){console.warn(l)}}}}).catch(s=>{throw si.create("idb-open",{originalErrorMessage:s.message})})),zo}async function Gb(s){try{const l=(await ap()).transaction(Gs),r=await l.objectStore(Gs).get(rp(s));return await l.done,r}catch(n){if(n instanceof Ps)xn.warn(n.message);else{const l=si.create("idb-get",{originalErrorMessage:n?.message});xn.warn(l.message)}}}async function cg(s,n){try{const r=(await ap()).transaction(Gs,"readwrite");await r.objectStore(Gs).put(n,rp(s)),await r.done}catch(l){if(l instanceof Ps)xn.warn(l.message);else{const r=si.create("idb-set",{originalErrorMessage:l?.message});xn.warn(r.message)}}}function rp(s){return`${s.name}!${s.options.appId}`}const Vb=1024,Qb=30;class Xb{constructor(n){this.container=n,this._heartbeatsCache=null;const l=this.container.getProvider("app").getImmediate();this._storage=new Zb(l),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=og();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(c=>c.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:l}),this._heartbeatsCache.heartbeats.length>Qb){const c=Kb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){xn.warn(n)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=og(),{heartbeatsToSend:l,unsentEntries:r}=Fb(this._heartbeatsCache.heartbeats),c=Mr(JSON.stringify({version:2,heartbeats:l}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return xn.warn(n),""}}}function og(){return new Date().toISOString().substring(0,10)}function Fb(s,n=Vb){const l=[];let r=s.slice();for(const c of s){const f=l.find(h=>h.agent===c.agent);if(f){if(f.dates.push(c.date),fg(l)>n){f.dates.pop();break}}else if(l.push({agent:c.agent,dates:[c.date]}),fg(l)>n){l.pop();break}r=r.slice(1)}return{heartbeatsToSend:l,unsentEntries:r}}class Zb{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return R1()?D1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const l=await Gb(this.app);return l?.heartbeats?l:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return cg(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){if(await this._canUseIndexedDBPromise){const r=await this.read();return cg(this.app,{lastSentHeartbeatDate:n.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...n.heartbeats]})}else return}}function fg(s){return Mr(JSON.stringify({version:2,heartbeats:s})).length}function Kb(s){if(s.length===0)return-1;let n=0,l=s[0].date;for(let r=1;r<s.length;r++)s[r].date<l&&(l=s[r].date,n=r);return n}function Jb(s){wr(new Ys("platform-logger",n=>new lb(n),"PRIVATE")),wr(new Ys("heartbeat",n=>new Xb(n),"PRIVATE")),Tl(Qo,rg,s),Tl(Qo,rg,"esm2020"),Tl("fire-js","")}Jb("");var Wb="firebase",Pb="12.8.0";Tl(Wb,Pb,"app");var hg={};const dg="@firebase/database",mg="1.1.0";let up="";function $b(s){up=s}class eS{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,l){l==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),nt(l))}get(n){const l=this.domStorage_.getItem(this.prefixedName_(n));return l==null?null:qs(l)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}class tS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,l){l==null?delete this.cache_[n]:this.cache_[n]=l}get(n){return Rn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}const cp=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const n=window[s];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new eS(n)}}catch{}return new tS},wi=cp("localStorage"),nS=cp("sessionStorage");const Nl=new np("@firebase/database"),iS=(function(){let s=1;return function(){return s++}})(),op=function(s){const n=H1(s),l=new L1;l.update(n);const r=l.digest();return uf.encodeByteArray(r)},$s=function(...s){let n="";for(let l=0;l<s.length;l++){const r=s[l];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=$s.apply(null,r):typeof r=="object"?n+=nt(r):n+=r,n+=" "}return n};let Us=null,_g=!0;const lS=function(s,n){Q(!0,"Can't turn on custom loggers persistently."),Nl.logLevel=Ue.VERBOSE,Us=Nl.log.bind(Nl)},_t=function(...s){if(_g===!0&&(_g=!1,Us===null&&nS.get("logging_enabled")===!0&&lS()),Us){const n=$s.apply(null,s);Us(n)}},ea=function(s){return function(...n){_t(s,...n)}},Zo=function(...s){const n="FIREBASE INTERNAL ERROR: "+$s(...s);Nl.error(n)},Mn=function(...s){const n=`FIREBASE FATAL ERROR: ${$s(...s)}`;throw Nl.error(n),new Error(n)},At=function(...s){const n="FIREBASE WARNING: "+$s(...s);Nl.warn(n)},sS=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&At("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},fp=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},aS=function(s){if(document.readyState==="complete")s();else{let n=!1;const l=function(){if(!document.body){setTimeout(l,Math.floor(10));return}n||(n=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",l,!1),window.addEventListener("load",l,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&l()}),window.attachEvent("onload",l))}},Ml="[MIN_NAME]",Bi="[MAX_NAME]",zl=function(s,n){if(s===n)return 0;if(s===Ml||n===Bi)return-1;if(n===Ml||s===Bi)return 1;{const l=gg(s),r=gg(n);return l!==null?r!==null?l-r===0?s.length-n.length:l-r:-1:r!==null?1:s<n?-1:1}},rS=function(s,n){return s===n?0:s<n?-1:1},Os=function(s,n){if(n&&s in n)return n[s];throw new Error("Missing required key ("+s+") in object: "+nt(n))},hf=function(s){if(typeof s!="object"||s===null)return nt(s);const n=[];for(const r in s)n.push(r);n.sort();let l="{";for(let r=0;r<n.length;r++)r!==0&&(l+=","),l+=nt(n[r]),l+=":",l+=hf(s[n[r]]);return l+="}",l},hp=function(s,n){const l=s.length;if(l<=n)return[s];const r=[];for(let c=0;c<l;c+=n)c+n>l?r.push(s.substring(c,l)):r.push(s.substring(c,c+n));return r};function xt(s,n){for(const l in s)s.hasOwnProperty(l)&&n(l,s[l])}const dp=function(s){Q(!fp(s),"Invalid JSON number");const n=11,l=52,r=(1<<n-1)-1;let c,f,h,m,g;s===0?(f=0,h=0,c=1/s===-1/0?1:0):(c=s<0,s=Math.abs(s),s>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(s)/Math.LN2),r),f=m+r,h=Math.round(s*Math.pow(2,l-m)-Math.pow(2,l))):(f=0,h=Math.round(s/Math.pow(2,1-r-l))));const _=[];for(g=l;g;g-=1)_.push(h%2?1:0),h=Math.floor(h/2);for(g=n;g;g-=1)_.push(f%2?1:0),f=Math.floor(f/2);_.push(c?1:0),_.reverse();const T=_.join("");let b="";for(g=0;g<64;g+=8){let E=parseInt(T.substr(g,8),2).toString(16);E.length===1&&(E="0"+E),b=b+E}return b.toLowerCase()},uS=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},cS=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function oS(s,n){let l="Unknown Error";s==="too_big"?l="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?l="Client doesn't have permission to access the desired data.":s==="unavailable"&&(l="The service is unavailable");const r=new Error(s+" at "+n._path.toString()+": "+l);return r.code=s.toUpperCase(),r}const fS=new RegExp("^-?(0*)\\d{1,10}$"),hS=-2147483648,dS=2147483647,gg=function(s){if(fS.test(s)){const n=Number(s);if(n>=hS&&n<=dS)return n}return null},Bl=function(s){try{s()}catch(n){setTimeout(()=>{const l=n.stack||"";throw At("Exception was thrown by user callback.",l),n},Math.floor(0))}},mS=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ls=function(s,n){const l=setTimeout(s,n);return typeof l=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(l):typeof l=="object"&&l.unref&&l.unref(),l};class _S{constructor(n,l){this.appCheckProvider=l,this.appName=n.name,Ub(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=l?.getImmediate({optional:!0}),this.appCheck||l?.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((l,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.appCheckProvider?.get().then(l=>l.addTokenListener(n))}notifyForInvalidToken(){At(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class gS{constructor(n,l,r){this.appName_=n,this.firebaseOptions_=l,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(c=>this.auth_=c)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(l=>l&&l.code==="auth/token-not-initialized"?(_t("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(l)):new Promise((l,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(l,r):l(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(l=>l.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(l=>l.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',At(n)}}class xr{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}xr.OWNER="owner";const df="5",mp="v",_p="s",gp="r",pp="f",yp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vp="ls",bp="p",Ko="ac",Sp="websocket",Ep="long_polling";class Cp{constructor(n,l,r,c,f=!1,h="",m=!1,g=!1,_=null){this.secure=l,this.namespace=r,this.webSocketOnly=c,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=g,this.emulatorOptions=_,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wi.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&wi.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",l=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${l}`}}function pS(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Tp(s,n,l){Q(typeof n=="string","typeof type must == string"),Q(typeof l=="object","typeof params must == object");let r;if(n===Sp)r=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(n===Ep)r=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);pS(s)&&(l.ns=s.namespace);const c=[];return xt(l,(f,h)=>{c.push(f+"="+h)}),r+c.join("&")}class yS{constructor(){this.counters_={}}incrementCounter(n,l=1){Rn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=l}get(){return d1(this.counters_)}}const Bo={},jo={};function mf(s){const n=s.toString();return Bo[n]||(Bo[n]=new yS),Bo[n]}function vS(s,n){const l=s.toString();return jo[l]||(jo[l]=n()),jo[l]}class bS{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,l){this.closeAfterResponse=n,this.onClose=l,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,l){for(this.pendingResponses[n]=l;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<r.length;++c)r[c]&&Bl(()=>{this.onMessage_(r[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const pg="start",SS="close",ES="pLPCommand",CS="pRTLPCB",Np="id",Ap="pw",xp="ser",TS="cb",NS="seg",AS="ts",xS="d",MS="dframe",Mp=1870,Rp=30,RS=Mp-Rp,DS=25e3,OS=3e4;class Cl{constructor(n,l,r,c,f,h,m){this.connId=n,this.repoInfo=l,this.applicationId=r,this.appCheckToken=c,this.authToken=f,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ea(n),this.stats_=mf(l),this.urlFn=g=>(this.appCheckToken&&(g[Ko]=this.appCheckToken),Tp(l,Ep,g))}open(n,l){this.curSegmentNum=0,this.onDisconnect_=l,this.myPacketOrderer=new bS(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(OS)),aS(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _f((...f)=>{const[h,m,g,_,T]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===pg)this.id=m,this.password=g;else if(h===SS)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const r={};r[pg]="t",r[xp]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[TS]=this.scriptTagHolder.uniqueCallbackIdentifier),r[mp]=df,this.transportSessionId&&(r[_p]=this.transportSessionId),this.lastSessionId&&(r[vp]=this.lastSessionId),this.applicationId&&(r[bp]=this.applicationId),this.appCheckToken&&(r[Ko]=this.appCheckToken),typeof location<"u"&&location.hostname&&yp.test(location.hostname)&&(r[gp]=pp);const c=this.urlFn(r);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Cl.forceAllow_=!0}static forceDisallow(){Cl.forceDisallow_=!0}static isAvailable(){return Cl.forceAllow_?!0:!Cl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!uS()&&!cS()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const l=nt(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=Kg(l),c=hp(r,RS);for(let f=0;f<c.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[f]),this.curSegmentNum++}addDisconnectPingFrame(n,l){this.myDisconnFrame=document.createElement("iframe");const r={};r[MS]="t",r[Np]=n,r[Ap]=l,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const l=nt(n).length;this.bytesReceived+=l,this.stats_.incrementCounter("bytes_received",l)}}class _f{constructor(n,l,r,c){this.onDisconnect=r,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=iS(),window[ES+this.uniqueCallbackIdentifier]=n,window[CS+this.uniqueCallbackIdentifier]=l,this.myIFrame=_f.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){_t("frame writing exception"),m.stack&&_t(m.stack),_t(m)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||_t("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,l){for(this.myID=n,this.myPW=l,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[Np]=this.myID,n[Ap]=this.myPW,n[xp]=this.currentSerial;let l=this.urlFn(n),r="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Rp+r.length<=Mp;){const h=this.pendingSegs.shift();r=r+"&"+NS+c+"="+h.seg+"&"+AS+c+"="+h.ts+"&"+xS+c+"="+h.d,c++}return l=l+r,this.addLongPollTag_(l,this.currentSerial),!0}else return!1}enqueueSegment(n,l,r){this.pendingSegs.push({seg:n,ts:l,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,l){this.outstandingRequests.add(l);const r=()=>{this.outstandingRequests.delete(l),this.newRequest_()},c=setTimeout(r,Math.floor(DS)),f=()=>{clearTimeout(c),r()};this.addTag(n,f)}addTag(n,l){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const c=r.readyState;(!c||c==="loaded"||c==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),l())},r.onerror=()=>{_t("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}const wS=16384,zS=45e3;let zr=null;typeof MozWebSocket<"u"?zr=MozWebSocket:typeof WebSocket<"u"&&(zr=WebSocket);class Wt{constructor(n,l,r,c,f,h,m){this.connId=n,this.applicationId=r,this.appCheckToken=c,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ea(this.connId),this.stats_=mf(l),this.connURL=Wt.connectionURL_(l,h,m,c,r),this.nodeAdmin=l.nodeAdmin}static connectionURL_(n,l,r,c,f){const h={};return h[mp]=df,typeof location<"u"&&location.hostname&&yp.test(location.hostname)&&(h[gp]=pp),l&&(h[_p]=l),r&&(h[vp]=r),c&&(h[Ko]=c),f&&(h[bp]=f),Tp(n,Sp,h)}open(n,l){this.onDisconnect=l,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wi.set("previous_websocket_failure",!0);try{let r;M1(),this.mySock=new zr(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const c=r.message||r.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const c=r.message||r.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){Wt.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const l=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(l);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&zr!==null&&!Wt.forceDisallow_}static previouslyFailed(){return wi.isInMemoryStorage||wi.get("previous_websocket_failure")===!0}markConnectionHealthy(){wi.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const l=this.frames.join("");this.frames=null;const r=qs(l);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(Q(this.frames===null,"We already have a frame buffer"),n.length<=6){const l=Number(n);if(!isNaN(l))return this.handleNewFrameCount_(l),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const l=n.data;if(this.bytesReceived+=l.length,this.stats_.incrementCounter("bytes_received",l.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(l);else{const r=this.extractFrameCount_(l);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const l=nt(n);this.bytesSent+=l.length,this.stats_.incrementCounter("bytes_sent",l.length);const r=hp(l,wS);r.length>1&&this.sendString_(String(r.length));for(let c=0;c<r.length;c++)this.sendString_(r[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(zS))}sendString_(n){try{this.mySock.send(n)}catch(l){this.log_("Exception thrown from WebSocket.send():",l.message||l.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Wt.responsesRequiredToBeHealthy=2;Wt.healthyTimeout=3e4;class Vs{static get ALL_TRANSPORTS(){return[Cl,Wt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const l=Wt&&Wt.isAvailable();let r=l&&!Wt.previouslyFailed();if(n.webSocketOnly&&(l||At("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Wt];else{const c=this.transports_=[];for(const f of Vs.ALL_TRANSPORTS)f&&f.isAvailable()&&c.push(f);Vs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Vs.globalTransportInitialized_=!1;const BS=6e4,jS=5e3,US=10*1024,LS=100*1024,Uo="t",yg="d",HS="s",vg="r",IS="e",bg="o",Sg="a",Eg="n",Cg="p",kS="h";class qS{constructor(n,l,r,c,f,h,m,g,_,T){this.id=n,this.repoInfo_=l,this.applicationId_=r,this.appCheckToken_=c,this.authToken_=f,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=g,this.onKill_=_,this.lastSessionId=T,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ea("c:"+this.id+":"),this.transportManager_=new Vs(l),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(l,r)},Math.floor(0));const c=n.healthyTimeout||0;c>0&&(this.healthyTimeout_=Ls(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>LS?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>US?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return l=>{n===this.conn_?this.onConnectionLost_(l):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return l=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(l):n===this.secondaryConn_?this.onSecondaryMessageReceived_(l):this.log_("message on old connection"))}}sendRequest(n){const l={t:"d",d:n};this.sendData_(l)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(Uo in n){const l=n[Uo];l===Sg?this.upgradeIfSecondaryHealthy_():l===vg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):l===bg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const l=Os("t",n),r=Os("d",n);if(l==="c")this.onSecondaryControl_(r);else if(l==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+l)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Cg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Sg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Eg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const l=Os("t",n),r=Os("d",n);l==="c"?this.onControl_(r):l==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const l=Os(Uo,n);if(yg in n){const r=n[yg];if(l===kS){const c={...r};this.repoInfo_.isUsingEmulator&&(c.h=this.repoInfo_.host),this.onHandshake_(c)}else if(l===Eg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else l===HS?this.onConnectionShutdown_(r):l===vg?this.onReset_(r):l===IS?Zo("Server Error: "+r):l===bg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Zo("Unknown control packet command: "+l)}}onHandshake_(n){const l=n.ts,r=n.v,c=n.h;this.sessionId=n.s,this.repoInfo_.host=c,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,l),df!==r&&At("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const l=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(l,r),Ls(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(BS))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,l){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(l,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ls(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(jS))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Cg,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Dp{put(n,l,r,c){}merge(n,l,r,c){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,l,r){}onDisconnectMerge(n,l,r){}onDisconnectCancel(n,l){}reportStats(n){}}class Op{constructor(n){this.allowedEvents_=n,this.listeners_={},Q(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...l){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let c=0;c<r.length;c++)r[c].callback.apply(r[c].context,l)}}on(n,l,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:l,context:r});const c=this.getInitialEvent(n);c&&l.apply(r,c)}off(n,l,r){this.validateEventType_(n);const c=this.listeners_[n]||[];for(let f=0;f<c.length;f++)if(c[f].callback===l&&(!r||r===c[f].context)){c.splice(f,1);return}}validateEventType_(n){Q(this.allowedEvents_.find(l=>l===n),"Unknown event: "+n)}}class Br extends Op{static getInstance(){return new Br}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!$g()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return Q(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}const Tg=32,Ng=768;class je{constructor(n,l){if(l===void 0){this.pieces_=n.split("/");let r=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[r]=this.pieces_[c],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=l}toString(){let n="";for(let l=this.pieceNum_;l<this.pieces_.length;l++)this.pieces_[l]!==""&&(n+="/"+this.pieces_[l]);return n||"/"}}function Ae(){return new je("")}function _e(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function ui(s){return s.pieces_.length-s.pieceNum_}function Le(s){let n=s.pieceNum_;return n<s.pieces_.length&&n++,new je(s.pieces_,n)}function wp(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function YS(s){let n="";for(let l=s.pieceNum_;l<s.pieces_.length;l++)s.pieces_[l]!==""&&(n+="/"+encodeURIComponent(String(s.pieces_[l])));return n||"/"}function zp(s,n=0){return s.pieces_.slice(s.pieceNum_+n)}function Bp(s){if(s.pieceNum_>=s.pieces_.length)return null;const n=[];for(let l=s.pieceNum_;l<s.pieces_.length-1;l++)n.push(s.pieces_[l]);return new je(n,0)}function it(s,n){const l=[];for(let r=s.pieceNum_;r<s.pieces_.length;r++)l.push(s.pieces_[r]);if(n instanceof je)for(let r=n.pieceNum_;r<n.pieces_.length;r++)l.push(n.pieces_[r]);else{const r=n.split("/");for(let c=0;c<r.length;c++)r[c].length>0&&l.push(r[c])}return new je(l,0)}function ve(s){return s.pieceNum_>=s.pieces_.length}function pt(s,n){const l=_e(s),r=_e(n);if(l===null)return n;if(l===r)return pt(Le(s),Le(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+s+")")}function gf(s,n){if(ui(s)!==ui(n))return!1;for(let l=s.pieceNum_,r=n.pieceNum_;l<=s.pieces_.length;l++,r++)if(s.pieces_[l]!==n.pieces_[r])return!1;return!0}function Pt(s,n){let l=s.pieceNum_,r=n.pieceNum_;if(ui(s)>ui(n))return!1;for(;l<s.pieces_.length;){if(s.pieces_[l]!==n.pieces_[r])return!1;++l,++r}return!0}class GS{constructor(n,l){this.errorPrefix_=l,this.parts_=zp(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Fr(this.parts_[r]);jp(this)}}function VS(s,n){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(n),s.byteLength_+=Fr(n),jp(s)}function QS(s){const n=s.parts_.pop();s.byteLength_-=Fr(n),s.parts_.length>0&&(s.byteLength_-=1)}function jp(s){if(s.byteLength_>Ng)throw new Error(s.errorPrefix_+"has a key path longer than "+Ng+" bytes ("+s.byteLength_+").");if(s.parts_.length>Tg)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Tg+") or object contains a cycle "+Oi(s))}function Oi(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}class pf extends Op{static getInstance(){return new pf}constructor(){super(["visible"]);let n,l;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(l="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(l="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(l="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(l="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,l&&document.addEventListener(l,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return Q(n==="visible","Unknown event type: "+n),[this.visible_]}}const ws=1e3,XS=300*1e3,Ag=30*1e3,FS=1.3,ZS=3e4,KS="server_kill",xg=3;class An extends Dp{constructor(n,l,r,c,f,h,m,g){if(super(),this.repoInfo_=n,this.applicationId_=l,this.onDataUpdate_=r,this.onConnectStatus_=c,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=g,this.id=An.nextPersistentConnectionId_++,this.log_=ea("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ws,this.maxReconnectDelay_=XS,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");pf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Br.getInstance().on("online",this.onOnline_,this)}sendRequest(n,l,r){const c=++this.requestNumber_,f={r:c,a:n,b:l};this.log_(nt(f)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[c]=r)}get(n){this.initConnection_();const l=new Xr,c={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?l.resolve(m):l.reject(m)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),l.promise}listen(n,l,r,c){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),Q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const m={onComplete:c,hashFn:l,query:n,tag:r};this.listens.get(h).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(n){const l=this.outstandingGets_[n];this.sendRequest("g",l.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),l.onComplete&&l.onComplete(r)})}sendListen_(n){const l=n.query,r=l._path.toString(),c=l._queryIdentifier;this.log_("Listen on "+r+" for "+c);const f={p:r},h="q";n.tag&&(f.q=l._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,m=>{const g=m.d,_=m.s;An.warnOnListenWarnings_(g,l),(this.listens.get(r)&&this.listens.get(r).get(c))===n&&(this.log_("listen response",m),_!=="ok"&&this.removeListen_(r,c),n.onComplete&&n.onComplete(_,g))})}static warnOnListenWarnings_(n,l){if(n&&typeof n=="object"&&Rn(n,"w")){const r=xl(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const c='".indexOn": "'+l._queryParams.getIndex().toString()+'"',f=l._path.toString();At(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||j1(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ag)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,l=B1(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(l,r,c=>{const f=c.s,h=c.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const l=n.s,r=n.d||"error";l==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(l,r)})}unlisten(n,l){const r=n._path.toString(),c=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+c),Q(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,c)&&this.connected_&&this.sendUnlisten_(r,c,n._queryObject,l)}sendUnlisten_(n,l,r,c){this.log_("Unlisten on "+n+" for "+l);const f={p:n},h="n";c&&(f.q=r,f.t=c),this.sendRequest(h,f)}onDisconnectPut(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:l,onComplete:r})}onDisconnectMerge(n,l,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,l,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:l,onComplete:r})}onDisconnectCancel(n,l){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,l):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:l})}sendOnDisconnect_(n,l,r,c){const f={p:l,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{c&&setTimeout(()=>{c(h.s,h.d)},Math.floor(0))})}put(n,l,r,c){this.putInternal("p",n,l,r,c)}merge(n,l,r,c){this.putInternal("m",n,l,r,c)}putInternal(n,l,r,c,f){this.initConnection_();const h={p:l,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:c}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+l)}sendPut_(n){const l=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,c=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(l,r,f=>{this.log_(l+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),c&&c(f.s,f.d)})}reportStats(n){if(this.connected_){const l={c:n};this.log_("reportStats",l),this.sendRequest("s",l,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+nt(n));const l=n.r,r=this.requestCBHash_[l];r&&(delete this.requestCBHash_[l],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,l){this.log_("handleServerMessage",n,l),n==="d"?this.onDataUpdate_(l.p,l.d,!1,l.t):n==="m"?this.onDataUpdate_(l.p,l.d,!0,l.t):n==="c"?this.onListenRevoked_(l.p,l.q):n==="ac"?this.onAuthRevoked_(l.s,l.d):n==="apc"?this.onAppCheckRevoked_(l.s,l.d):n==="sd"?this.onSecurityDebugPacket_(l):Zo("Unrecognized action received from server: "+nt(n)+`
Are you using the latest client?`)}onReady_(n,l){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=l,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ws,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ws,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ZS&&(this.reconnectDelay_=ws),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let l=Math.max(0,this.reconnectDelay_-n);l=Math.random()*l,this.log_("Trying to reconnect in "+l+"ms"),this.scheduleConnect_(l),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*FS)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),l=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+An.nextConnectionId_++,f=this.lastSessionId;let h=!1,m=null;const g=function(){m?m.close():(h=!0,r())},_=function(b){Q(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(b)};this.realtime_={close:g,sendRequest:_};const T=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,E]=await Promise.all([this.authTokenProvider_.getToken(T),this.appCheckTokenProvider_.getToken(T)]);h?_t("getToken() completed but was canceled"):(_t("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=E&&E.token,m=new qS(c,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,l,r,Y=>{At(Y+" ("+this.repoInfo_.toString()+")"),this.interrupt(KS)},f))}catch(b){this.log_("Failed to get token: "+b),h||(this.repoInfo_.nodeAdmin&&At(b),g())}}}interrupt(n){_t("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){_t("Resuming connection for reason: "+n),delete this.interruptReasons_[n],ng(this.interruptReasons_)&&(this.reconnectDelay_=ws,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const l=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:l})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const l=this.outstandingPuts_[n];l&&"h"in l.request&&l.queued&&(l.onComplete&&l.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,l){let r;l?r=l.map(f=>hf(f)).join("$"):r="default";const c=this.removeListen_(n,r);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(n,l){const r=new je(n).toString();let c;if(this.listens.has(r)){const f=this.listens.get(r);c=f.get(l),f.delete(l),f.size===0&&this.listens.delete(r)}else c=void 0;return c}onAuthRevoked_(n,l){_t("Auth token revoked: "+n+"/"+l),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=xg&&(this.reconnectDelay_=Ag,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,l){_t("App check token revoked: "+n+"/"+l),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=xg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const l of n.values())this.sendListen_(l);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let l="js";n["sdk."+l+"."+up.replace(/\./g,"-")]=1,$g()?n["framework.cordova"]=1:x1()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Br.getInstance().currentlyOnline();return ng(this.interruptReasons_)&&n}}An.nextPersistentConnectionId_=0;An.nextConnectionId_=0;class ge{constructor(n,l){this.name=n,this.node=l}static Wrap(n,l){return new ge(n,l)}}class Zr{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,l){const r=new ge(Ml,n),c=new ge(Ml,l);return this.compare(r,c)!==0}minPost(){return ge.MIN}}let Nr;class Up extends Zr{static get __EMPTY_NODE(){return Nr}static set __EMPTY_NODE(n){Nr=n}compare(n,l){return zl(n.name,l.name)}isDefinedOn(n){throw Ol("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,l){return!1}minPost(){return ge.MIN}maxPost(){return new ge(Bi,Nr)}makePost(n,l){return Q(typeof n=="string","KeyIndex indexValue must always be a string."),new ge(n,Nr)}toString(){return".key"}}const Al=new Up;class Ar{constructor(n,l,r,c,f=null){this.isReverse_=c,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=l?r(n.key,l):1,c&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),l;if(this.resultGenerator_?l=this.resultGenerator_(n.key,n.value):l={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return l}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class rt{constructor(n,l,r,c,f){this.key=n,this.value=l,this.color=r??rt.RED,this.left=c??Nt.EMPTY_NODE,this.right=f??Nt.EMPTY_NODE}copy(n,l,r,c,f){return new rt(n??this.key,l??this.value,r??this.color,c??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,l,r){let c=this;const f=r(n,c.key);return f<0?c=c.copy(null,null,null,c.left.insert(n,l,r),null):f===0?c=c.copy(null,l,null,null,null):c=c.copy(null,null,null,null,c.right.insert(n,l,r)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return Nt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,l){let r,c;if(r=this,l(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,l),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),l(n,r.key)===0){if(r.right.isEmpty())return Nt.EMPTY_NODE;c=r.right.min_(),r=r.copy(c.key,c.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,l))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),l=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,l)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}rt.RED=!0;rt.BLACK=!1;class JS{copy(n,l,r,c,f){return this}insert(n,l,r){return new rt(n,l,null)}remove(n,l){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Nt{constructor(n,l=Nt.EMPTY_NODE){this.comparator_=n,this.root_=l}insert(n,l){return new Nt(this.comparator_,this.root_.insert(n,l,this.comparator_).copy(null,null,rt.BLACK,null,null))}remove(n){return new Nt(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,rt.BLACK,null,null))}get(n){let l,r=this.root_;for(;!r.isEmpty();){if(l=this.comparator_(n,r.key),l===0)return r.value;l<0?r=r.left:l>0&&(r=r.right)}return null}getPredecessorKey(n){let l,r=this.root_,c=null;for(;!r.isEmpty();)if(l=this.comparator_(n,r.key),l===0){if(r.left.isEmpty())return c?c.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else l<0?r=r.left:l>0&&(c=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new Ar(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,l){return new Ar(this.root_,n,this.comparator_,!1,l)}getReverseIteratorFrom(n,l){return new Ar(this.root_,n,this.comparator_,!0,l)}getReverseIterator(n){return new Ar(this.root_,null,this.comparator_,!0,n)}}Nt.EMPTY_NODE=new JS;function WS(s,n){return zl(s.name,n.name)}function yf(s,n){return zl(s,n)}let Jo;function PS(s){Jo=s}const Lp=function(s){return typeof s=="number"?"number:"+dp(s):"string:"+s},Hp=function(s){if(s.isLeafNode()){const n=s.val();Q(typeof n=="string"||typeof n=="number"||typeof n=="object"&&Rn(n,".sv"),"Priority must be a string or number.")}else Q(s===Jo||s.isEmpty(),"priority of unexpected type.");Q(s===Jo||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Mg;class at{static set __childrenNodeConstructor(n){Mg=n}static get __childrenNodeConstructor(){return Mg}constructor(n,l=at.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=l,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Hp(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new at(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ve(n)?this:_e(n)===".priority"?this.priorityNode_:at.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,l){return null}updateImmediateChild(n,l){return n===".priority"?this.updatePriority(l):l.isEmpty()&&n!==".priority"?this:at.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,l).updatePriority(this.priorityNode_)}updateChild(n,l){const r=_e(n);return r===null?l:l.isEmpty()&&r!==".priority"?this:(Q(r!==".priority"||ui(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,at.__childrenNodeConstructor.EMPTY_NODE.updateChild(Le(n),l)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,l){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Lp(this.priorityNode_.val())+":");const l=typeof this.value_;n+=l+":",l==="number"?n+=dp(this.value_):n+=this.value_,this.lazyHash_=op(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===at.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof at.__childrenNodeConstructor?-1:(Q(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const l=typeof n.value_,r=typeof this.value_,c=at.VALUE_TYPE_ORDER.indexOf(l),f=at.VALUE_TYPE_ORDER.indexOf(r);return Q(c>=0,"Unknown leaf type: "+l),Q(f>=0,"Unknown leaf type: "+r),c===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-c}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const l=n;return this.value_===l.value_&&this.priorityNode_.equals(l.priorityNode_)}else return!1}}at.VALUE_TYPE_ORDER=["object","boolean","number","string"];let Ip,kp;function $S(s){Ip=s}function eE(s){kp=s}class tE extends Zr{compare(n,l){const r=n.node.getPriority(),c=l.node.getPriority(),f=r.compareTo(c);return f===0?zl(n.name,l.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,l){return!n.getPriority().equals(l.getPriority())}minPost(){return ge.MIN}maxPost(){return new ge(Bi,new at("[PRIORITY-POST]",kp))}makePost(n,l){const r=Ip(n);return new ge(l,new at("[PRIORITY-POST]",r))}toString(){return".priority"}}const Xe=new tE;const nE=Math.log(2);class iE{constructor(n){const l=f=>parseInt(Math.log(f)/nE,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=l(n+1),this.current_=this.count-1;const c=r(this.count);this.bits_=n+1&c}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const jr=function(s,n,l,r){s.sort(n);const c=function(g,_){const T=_-g;let b,E;if(T===0)return null;if(T===1)return b=s[g],E=l?l(b):b,new rt(E,b.node,rt.BLACK,null,null);{const Y=parseInt(T/2,10)+g,G=c(g,Y),J=c(Y+1,_);return b=s[Y],E=l?l(b):b,new rt(E,b.node,rt.BLACK,G,J)}},f=function(g){let _=null,T=null,b=s.length;const E=function(G,J){const ce=b-G,ie=b;b-=G;const re=c(ce+1,ie),fe=s[ce],Me=l?l(fe):fe;Y(new rt(Me,fe.node,J,null,re))},Y=function(G){_?(_.left=G,_=G):(T=G,_=G)};for(let G=0;G<g.count;++G){const J=g.nextBitIsOne(),ce=Math.pow(2,g.count-(G+1));J?E(ce,rt.BLACK):(E(ce,rt.BLACK),E(ce,rt.RED))}return T},h=new iE(s.length),m=f(h);return new Nt(r||n,m)};let Lo;const El={};class Nn{static get Default(){return Q(El&&Xe,"ChildrenNode.ts has not been loaded"),Lo=Lo||new Nn({".priority":El},{".priority":Xe}),Lo}constructor(n,l){this.indexes_=n,this.indexSet_=l}get(n){const l=xl(this.indexes_,n);if(!l)throw new Error("No index defined for "+n);return l instanceof Nt?l:null}hasIndex(n){return Rn(this.indexSet_,n.toString())}addIndex(n,l){Q(n!==Al,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let c=!1;const f=l.getIterator(ge.Wrap);let h=f.getNext();for(;h;)c=c||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let m;c?m=jr(r,n.getCompare()):m=El;const g=n.toString(),_={...this.indexSet_};_[g]=n;const T={...this.indexes_};return T[g]=m,new Nn(T,_)}addToIndexes(n,l){const r=Rr(this.indexes_,(c,f)=>{const h=xl(this.indexSet_,f);if(Q(h,"Missing index implementation for "+f),c===El)if(h.isDefinedOn(n.node)){const m=[],g=l.getIterator(ge.Wrap);let _=g.getNext();for(;_;)_.name!==n.name&&m.push(_),_=g.getNext();return m.push(n),jr(m,h.getCompare())}else return El;else{const m=l.get(n.name);let g=c;return m&&(g=g.remove(new ge(n.name,m))),g.insert(n,n.node)}});return new Nn(r,this.indexSet_)}removeFromIndexes(n,l){const r=Rr(this.indexes_,c=>{if(c===El)return c;{const f=l.get(n.name);return f?c.remove(new ge(n.name,f)):c}});return new Nn(r,this.indexSet_)}}let zs;class le{static get EMPTY_NODE(){return zs||(zs=new le(new Nt(yf),null,Nn.Default))}constructor(n,l,r){this.children_=n,this.priorityNode_=l,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Hp(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zs}updatePriority(n){return this.children_.isEmpty()?this:new le(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const l=this.children_.get(n);return l===null?zs:l}}getChild(n){const l=_e(n);return l===null?this:this.getImmediateChild(l).getChild(Le(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,l){if(Q(l,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(l);{const r=new ge(n,l);let c,f;l.isEmpty()?(c=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(c=this.children_.insert(n,l),f=this.indexMap_.addToIndexes(r,this.children_));const h=c.isEmpty()?zs:this.priorityNode_;return new le(c,h,f)}}updateChild(n,l){const r=_e(n);if(r===null)return l;{Q(_e(n)!==".priority"||ui(n)===1,".priority must be the last token in a path");const c=this.getImmediateChild(r).updateChild(Le(n),l);return this.updateImmediateChild(r,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const l={};let r=0,c=0,f=!0;if(this.forEachChild(Xe,(h,m)=>{l[h]=m.val(n),r++,f&&le.INTEGER_REGEXP_.test(h)?c=Math.max(c,Number(h)):f=!1}),!n&&f&&c<2*r){const h=[];for(const m in l)h[m]=l[m];return h}else return n&&!this.getPriority().isEmpty()&&(l[".priority"]=this.getPriority().val()),l}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Lp(this.getPriority().val())+":"),this.forEachChild(Xe,(l,r)=>{const c=r.hash();c!==""&&(n+=":"+l+":"+c)}),this.lazyHash_=n===""?"":op(n)}return this.lazyHash_}getPredecessorChildName(n,l,r){const c=this.resolveIndex_(r);if(c){const f=c.getPredecessorKey(new ge(n,l));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const l=this.getFirstChildName(n);return l?new ge(l,this.children_.get(l)):null}getLastChildName(n){const l=this.resolveIndex_(n);if(l){const r=l.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const l=this.getLastChildName(n);return l?new ge(l,this.children_.get(l)):null}forEachChild(n,l){const r=this.resolveIndex_(n);return r?r.inorderTraversal(c=>l(c.name,c.node)):this.children_.inorderTraversal(l)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getIteratorFrom(n,c=>c);{const c=this.children_.getIteratorFrom(n.name,ge.Wrap);let f=c.peek();for(;f!=null&&l.compare(f,n)<0;)c.getNext(),f=c.peek();return c}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,l){const r=this.resolveIndex_(l);if(r)return r.getReverseIteratorFrom(n,c=>c);{const c=this.children_.getReverseIteratorFrom(n.name,ge.Wrap);let f=c.peek();for(;f!=null&&l.compare(f,n)>0;)c.getNext(),f=c.peek();return c}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ta?-1:0}withIndex(n){if(n===Al||this.indexMap_.hasIndex(n))return this;{const l=this.indexMap_.addIndex(n,this.children_);return new le(this.children_,this.priorityNode_,l)}}isIndexed(n){return n===Al||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const l=n;if(this.getPriority().equals(l.getPriority()))if(this.children_.count()===l.children_.count()){const r=this.getIterator(Xe),c=l.getIterator(Xe);let f=r.getNext(),h=c.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=c.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===Al?null:this.indexMap_.get(n.toString())}}le.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class lE extends le{constructor(){super(new Nt(yf),le.EMPTY_NODE,Nn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return le.EMPTY_NODE}isEmpty(){return!1}}const ta=new lE;Object.defineProperties(ge,{MIN:{value:new ge(Ml,le.EMPTY_NODE)},MAX:{value:new ge(Bi,ta)}});Up.__EMPTY_NODE=le.EMPTY_NODE;at.__childrenNodeConstructor=le;PS(ta);eE(ta);const sE=!0;function ut(s,n=null){if(s===null)return le.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(n=s[".priority"]),Q(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const l=s;return new at(l,ut(n))}if(!(s instanceof Array)&&sE){const l=[];let r=!1;if(xt(s,(h,m)=>{if(h.substring(0,1)!=="."){const g=ut(m);g.isEmpty()||(r=r||!g.getPriority().isEmpty(),l.push(new ge(h,g)))}}),l.length===0)return le.EMPTY_NODE;const f=jr(l,WS,h=>h.name,yf);if(r){const h=jr(l,Xe.getCompare());return new le(f,ut(n),new Nn({".priority":h},{".priority":Xe}))}else return new le(f,ut(n),Nn.Default)}else{let l=le.EMPTY_NODE;return xt(s,(r,c)=>{if(Rn(s,r)&&r.substring(0,1)!=="."){const f=ut(c);(f.isLeafNode()||!f.isEmpty())&&(l=l.updateImmediateChild(r,f))}}),l.updatePriority(ut(n))}}$S(ut);class aE extends Zr{constructor(n){super(),this.indexPath_=n,Q(!ve(n)&&_e(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,l){const r=this.extractChild(n.node),c=this.extractChild(l.node),f=r.compareTo(c);return f===0?zl(n.name,l.name):f}makePost(n,l){const r=ut(n),c=le.EMPTY_NODE.updateChild(this.indexPath_,r);return new ge(l,c)}maxPost(){const n=le.EMPTY_NODE.updateChild(this.indexPath_,ta);return new ge(Bi,n)}toString(){return zp(this.indexPath_,0).join("/")}}class rE extends Zr{compare(n,l){const r=n.node.compareTo(l.node);return r===0?zl(n.name,l.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,l){return!n.equals(l)}minPost(){return ge.MIN}maxPost(){return ge.MAX}makePost(n,l){const r=ut(n);return new ge(l,r)}toString(){return".value"}}const uE=new rE;function qp(s){return{type:"value",snapshotNode:s}}function Rl(s,n){return{type:"child_added",snapshotNode:n,childName:s}}function Qs(s,n){return{type:"child_removed",snapshotNode:n,childName:s}}function Xs(s,n,l){return{type:"child_changed",snapshotNode:n,childName:s,oldSnap:l}}function cE(s,n){return{type:"child_moved",snapshotNode:n,childName:s}}class vf{constructor(n){this.index_=n}updateChild(n,l,r,c,f,h){Q(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=n.getImmediateChild(l);return m.getChild(c).equals(r.getChild(c))&&m.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(l)?h.trackChildChange(Qs(l,m)):Q(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(Rl(l,r)):h.trackChildChange(Xs(l,r,m))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(l,r).withIndex(this.index_)}updateFullNode(n,l,r){return r!=null&&(n.isLeafNode()||n.forEachChild(Xe,(c,f)=>{l.hasChild(c)||r.trackChildChange(Qs(c,f))}),l.isLeafNode()||l.forEachChild(Xe,(c,f)=>{if(n.hasChild(c)){const h=n.getImmediateChild(c);h.equals(f)||r.trackChildChange(Xs(c,f,h))}else r.trackChildChange(Rl(c,f))})),l.withIndex(this.index_)}updatePriority(n,l){return n.isEmpty()?le.EMPTY_NODE:n.updatePriority(l)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Fs{constructor(n){this.indexedFilter_=new vf(n.getIndex()),this.index_=n.getIndex(),this.startPost_=Fs.getStartPost_(n),this.endPost_=Fs.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const l=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return l&&r}updateChild(n,l,r,c,f,h){return this.matches(new ge(l,r))||(r=le.EMPTY_NODE),this.indexedFilter_.updateChild(n,l,r,c,f,h)}updateFullNode(n,l,r){l.isLeafNode()&&(l=le.EMPTY_NODE);let c=l.withIndex(this.index_);c=c.updatePriority(le.EMPTY_NODE);const f=this;return l.forEachChild(Xe,(h,m)=>{f.matches(new ge(h,m))||(c=c.updateImmediateChild(h,le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,c,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const l=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),l)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const l=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),l)}else return n.getIndex().maxPost()}}class oE{constructor(n){this.withinDirectionalStart=l=>this.reverse_?this.withinEndPost(l):this.withinStartPost(l),this.withinDirectionalEnd=l=>this.reverse_?this.withinStartPost(l):this.withinEndPost(l),this.withinStartPost=l=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),l);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=l=>{const r=this.index_.compare(l,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Fs(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,l,r,c,f,h){return this.rangedFilter_.matches(new ge(l,r))||(r=le.EMPTY_NODE),n.getImmediateChild(l).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,l,r,c,f,h):this.fullLimitUpdateChild_(n,l,r,f,h)}updateFullNode(n,l,r){let c;if(l.isLeafNode()||l.isEmpty())c=le.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<l.numChildren()&&l.isIndexed(this.index_)){c=le.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=l.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=l.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))c=c.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{c=l.withIndex(this.index_),c=c.updatePriority(le.EMPTY_NODE);let f;this.reverse_?f=c.getReverseIterator(this.index_):f=c.getIterator(this.index_);let h=0;for(;f.hasNext();){const m=f.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:c=c.updateImmediateChild(m.name,le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,c,r)}updatePriority(n,l){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,l,r,c,f){let h;if(this.reverse_){const b=this.index_.getCompare();h=(E,Y)=>b(Y,E)}else h=this.index_.getCompare();const m=n;Q(m.numChildren()===this.limit_,"");const g=new ge(l,r),_=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),T=this.rangedFilter_.matches(g);if(m.hasChild(l)){const b=m.getImmediateChild(l);let E=c.getChildAfterChild(this.index_,_,this.reverse_);for(;E!=null&&(E.name===l||m.hasChild(E.name));)E=c.getChildAfterChild(this.index_,E,this.reverse_);const Y=E==null?1:h(E,g);if(T&&!r.isEmpty()&&Y>=0)return f?.trackChildChange(Xs(l,r,b)),m.updateImmediateChild(l,r);{f?.trackChildChange(Qs(l,b));const J=m.updateImmediateChild(l,le.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(f?.trackChildChange(Rl(E.name,E.node)),J.updateImmediateChild(E.name,E.node)):J}}else return r.isEmpty()?n:T&&h(_,g)>=0?(f!=null&&(f.trackChildChange(Qs(_.name,_.node)),f.trackChildChange(Rl(l,r))),m.updateImmediateChild(l,r).updateImmediateChild(_.name,le.EMPTY_NODE)):n}}class bf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ml}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Bi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Xe}copy(){const n=new bf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function fE(s){return s.loadsAllData()?new vf(s.getIndex()):s.hasLimit()?new oE(s):new Fs(s)}function Rg(s){const n={};if(s.isDefault())return n;let l;if(s.index_===Xe?l="$priority":s.index_===uE?l="$value":s.index_===Al?l="$key":(Q(s.index_ instanceof aE,"Unrecognized index type!"),l=s.index_.toString()),n.orderBy=nt(l),s.startSet_){const r=s.startAfterSet_?"startAfter":"startAt";n[r]=nt(s.indexStartValue_),s.startNameSet_&&(n[r]+=","+nt(s.indexStartName_))}if(s.endSet_){const r=s.endBeforeSet_?"endBefore":"endAt";n[r]=nt(s.indexEndValue_),s.endNameSet_&&(n[r]+=","+nt(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?n.limitToFirst=s.limit_:n.limitToLast=s.limit_),n}function Dg(s){const n={};if(s.startSet_&&(n.sp=s.indexStartValue_,s.startNameSet_&&(n.sn=s.indexStartName_),n.sin=!s.startAfterSet_),s.endSet_&&(n.ep=s.indexEndValue_,s.endNameSet_&&(n.en=s.indexEndName_),n.ein=!s.endBeforeSet_),s.limitSet_){n.l=s.limit_;let l=s.viewFrom_;l===""&&(s.isViewFromLeft()?l="l":l="r"),n.vf=l}return s.index_!==Xe&&(n.i=s.index_.toString()),n}class Ur extends Dp{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,l){return l!==void 0?"tag$"+l:(Q(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,l,r,c){super(),this.repoInfo_=n,this.onDataUpdate_=l,this.authTokenProvider_=r,this.appCheckTokenProvider_=c,this.log_=ea("p:rest:"),this.listens_={}}listen(n,l,r,c){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=Ur.getListenId_(n,r),m={};this.listens_[h]=m;const g=Rg(n._queryParams);this.restRequest_(f+".json",g,(_,T)=>{let b=T;if(_===404&&(b=null,_=null),_===null&&this.onDataUpdate_(f,b,!1,r),xl(this.listens_,h)===m){let E;_?_===401?E="permission_denied":E="rest_error:"+_:E="ok",c(E,null)}})}unlisten(n,l){const r=Ur.getListenId_(n,l);delete this.listens_[r]}get(n){const l=Rg(n._queryParams),r=n._path.toString(),c=new Xr;return this.restRequest_(r+".json",l,(f,h)=>{let m=h;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(r,m,!1,null),c.resolve(m)):c.reject(new Error(m))}),c.promise}refreshAuthToken(n){}restRequest_(n,l={},r){return l.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,f])=>{c&&c.accessToken&&(l.auth=c.accessToken),f&&f.token&&(l.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+U1(l);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let g=null;if(m.status>=200&&m.status<300){try{g=qs(m.responseText)}catch{At("Failed to parse JSON response for "+h+": "+m.responseText)}r(null,g)}else m.status!==401&&m.status!==404&&At("Got unsuccessful REST response for "+h+" Status: "+m.status),r(m.status);r=null}},m.open("GET",h,!0),m.send()})}}class hE{constructor(){this.rootNode_=le.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,l){this.rootNode_=this.rootNode_.updateChild(n,l)}}function Lr(){return{value:null,children:new Map}}function Yp(s,n,l){if(ve(n))s.value=l,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(n,l);else{const r=_e(n);s.children.has(r)||s.children.set(r,Lr());const c=s.children.get(r);n=Le(n),Yp(c,n,l)}}function Wo(s,n,l){s.value!==null?l(n,s.value):dE(s,(r,c)=>{const f=new je(n.toString()+"/"+r);Wo(c,f,l)})}function dE(s,n){s.children.forEach((l,r)=>{n(r,l)})}class mE{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),l={...n};return this.last_&&xt(this.last_,(r,c)=>{l[r]=l[r]-c}),this.last_=n,l}}const Og=10*1e3,_E=30*1e3,gE=300*1e3;class pE{constructor(n,l){this.server_=l,this.statsToReport_={},this.statsListener_=new mE(n);const r=Og+(_E-Og)*Math.random();Ls(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),l={};let r=!1;xt(n,(c,f)=>{f>0&&Rn(this.statsToReport_,c)&&(l[c]=f,r=!0)}),r&&this.server_.reportStats(l),Ls(this.reportStats_.bind(this),Math.floor(Math.random()*2*gE))}}var $t;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})($t||($t={}));function Gp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Sf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ef(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}class Hr{constructor(n,l,r){this.path=n,this.affectedTree=l,this.revert=r,this.type=$t.ACK_USER_WRITE,this.source=Gp()}operationForChild(n){if(ve(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const l=this.affectedTree.subtree(new je(n));return new Hr(Ae(),l,this.revert)}}else return Q(_e(this.path)===n,"operationForChild called for unrelated child."),new Hr(Le(this.path),this.affectedTree,this.revert)}}class Zs{constructor(n,l){this.source=n,this.path=l,this.type=$t.LISTEN_COMPLETE}operationForChild(n){return ve(this.path)?new Zs(this.source,Ae()):new Zs(this.source,Le(this.path))}}class ji{constructor(n,l,r){this.source=n,this.path=l,this.snap=r,this.type=$t.OVERWRITE}operationForChild(n){return ve(this.path)?new ji(this.source,Ae(),this.snap.getImmediateChild(n)):new ji(this.source,Le(this.path),this.snap)}}class Ks{constructor(n,l,r){this.source=n,this.path=l,this.children=r,this.type=$t.MERGE}operationForChild(n){if(ve(this.path)){const l=this.children.subtree(new je(n));return l.isEmpty()?null:l.value?new ji(this.source,Ae(),l.value):new Ks(this.source,Ae(),l)}else return Q(_e(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new Ks(this.source,Le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ci{constructor(n,l,r){this.node_=n,this.fullyInitialized_=l,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(ve(n))return this.isFullyInitialized()&&!this.filtered_;const l=_e(n);return this.isCompleteForChild(l)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}class yE{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function vE(s,n,l,r){const c=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(cE(h.childName,h.snapshotNode))}),Bs(s,c,"child_removed",n,r,l),Bs(s,c,"child_added",n,r,l),Bs(s,c,"child_moved",f,r,l),Bs(s,c,"child_changed",n,r,l),Bs(s,c,"value",n,r,l),c}function Bs(s,n,l,r,c,f){const h=r.filter(m=>m.type===l);h.sort((m,g)=>SE(s,m,g)),h.forEach(m=>{const g=bE(s,m,f);c.forEach(_=>{_.respondsTo(m.type)&&n.push(_.createEvent(g,s.query_))})})}function bE(s,n,l){return n.type==="value"||n.type==="child_removed"||(n.prevName=l.getPredecessorChildName(n.childName,n.snapshotNode,s.index_)),n}function SE(s,n,l){if(n.childName==null||l.childName==null)throw Ol("Should only compare child_ events.");const r=new ge(n.childName,n.snapshotNode),c=new ge(l.childName,l.snapshotNode);return s.index_.compare(r,c)}function Kr(s,n){return{eventCache:s,serverCache:n}}function Hs(s,n,l,r){return Kr(new ci(n,l,r),s.serverCache)}function Vp(s,n,l,r){return Kr(s.eventCache,new ci(n,l,r))}function Ir(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function Ui(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}let Ho;const EE=()=>(Ho||(Ho=new Nt(rS)),Ho);class qe{static fromObject(n){let l=new qe(null);return xt(n,(r,c)=>{l=l.set(new je(r),c)}),l}constructor(n,l=EE()){this.value=n,this.children=l}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,l){if(this.value!=null&&l(this.value))return{path:Ae(),value:this.value};if(ve(n))return null;{const r=_e(n),c=this.children.get(r);if(c!==null){const f=c.findRootMostMatchingPathAndValue(Le(n),l);return f!=null?{path:it(new je(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(ve(n))return this;{const l=_e(n),r=this.children.get(l);return r!==null?r.subtree(Le(n)):new qe(null)}}set(n,l){if(ve(n))return new qe(l,this.children);{const r=_e(n),f=(this.children.get(r)||new qe(null)).set(Le(n),l),h=this.children.insert(r,f);return new qe(this.value,h)}}remove(n){if(ve(n))return this.children.isEmpty()?new qe(null):new qe(null,this.children);{const l=_e(n),r=this.children.get(l);if(r){const c=r.remove(Le(n));let f;return c.isEmpty()?f=this.children.remove(l):f=this.children.insert(l,c),this.value===null&&f.isEmpty()?new qe(null):new qe(this.value,f)}else return this}}get(n){if(ve(n))return this.value;{const l=_e(n),r=this.children.get(l);return r?r.get(Le(n)):null}}setTree(n,l){if(ve(n))return l;{const r=_e(n),f=(this.children.get(r)||new qe(null)).setTree(Le(n),l);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new qe(this.value,h)}}fold(n){return this.fold_(Ae(),n)}fold_(n,l){const r={};return this.children.inorderTraversal((c,f)=>{r[c]=f.fold_(it(n,c),l)}),l(n,this.value,r)}findOnPath(n,l){return this.findOnPath_(n,Ae(),l)}findOnPath_(n,l,r){const c=this.value?r(l,this.value):!1;if(c)return c;if(ve(n))return null;{const f=_e(n),h=this.children.get(f);return h?h.findOnPath_(Le(n),it(l,f),r):null}}foreachOnPath(n,l){return this.foreachOnPath_(n,Ae(),l)}foreachOnPath_(n,l,r){if(ve(n))return this;{this.value&&r(l,this.value);const c=_e(n),f=this.children.get(c);return f?f.foreachOnPath_(Le(n),it(l,c),r):new qe(null)}}foreach(n){this.foreach_(Ae(),n)}foreach_(n,l){this.children.inorderTraversal((r,c)=>{c.foreach_(it(n,r),l)}),this.value&&l(n,this.value)}foreachChild(n){this.children.inorderTraversal((l,r)=>{r.value&&n(l,r.value)})}}class en{constructor(n){this.writeTree_=n}static empty(){return new en(new qe(null))}}function Is(s,n,l){if(ve(n))return new en(new qe(l));{const r=s.writeTree_.findRootMostValueAndPath(n);if(r!=null){const c=r.path;let f=r.value;const h=pt(c,n);return f=f.updateChild(h,l),new en(s.writeTree_.set(c,f))}else{const c=new qe(l),f=s.writeTree_.setTree(n,c);return new en(f)}}}function wg(s,n,l){let r=s;return xt(l,(c,f)=>{r=Is(r,it(n,c),f)}),r}function zg(s,n){if(ve(n))return en.empty();{const l=s.writeTree_.setTree(n,new qe(null));return new en(l)}}function Po(s,n){return Li(s,n)!=null}function Li(s,n){const l=s.writeTree_.findRootMostValueAndPath(n);return l!=null?s.writeTree_.get(l.path).getChild(pt(l.path,n)):null}function Bg(s){const n=[],l=s.writeTree_.value;return l!=null?l.isLeafNode()||l.forEachChild(Xe,(r,c)=>{n.push(new ge(r,c))}):s.writeTree_.children.inorderTraversal((r,c)=>{c.value!=null&&n.push(new ge(r,c.value))}),n}function ai(s,n){if(ve(n))return s;{const l=Li(s,n);return l!=null?new en(new qe(l)):new en(s.writeTree_.subtree(n))}}function $o(s){return s.writeTree_.isEmpty()}function Dl(s,n){return Qp(Ae(),s.writeTree_,n)}function Qp(s,n,l){if(n.value!=null)return l.updateChild(s,n.value);{let r=null;return n.children.inorderTraversal((c,f)=>{c===".priority"?(Q(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):l=Qp(it(s,c),f,l)}),!l.getChild(s).isEmpty()&&r!==null&&(l=l.updateChild(it(s,".priority"),r)),l}}function Jr(s,n){return Kp(n,s)}function CE(s,n,l,r,c){Q(r>s.lastWriteId,"Stacking an older write on top of newer ones"),c===void 0&&(c=!0),s.allWrites.push({path:n,snap:l,writeId:r,visible:c}),c&&(s.visibleWrites=Is(s.visibleWrites,n,l)),s.lastWriteId=r}function TE(s,n){for(let l=0;l<s.allWrites.length;l++){const r=s.allWrites[l];if(r.writeId===n)return r}return null}function NE(s,n){const l=s.allWrites.findIndex(m=>m.writeId===n);Q(l>=0,"removeWrite called with nonexistent writeId.");const r=s.allWrites[l];s.allWrites.splice(l,1);let c=r.visible,f=!1,h=s.allWrites.length-1;for(;c&&h>=0;){const m=s.allWrites[h];m.visible&&(h>=l&&AE(m,r.path)?c=!1:Pt(r.path,m.path)&&(f=!0)),h--}if(c){if(f)return xE(s),!0;if(r.snap)s.visibleWrites=zg(s.visibleWrites,r.path);else{const m=r.children;xt(m,g=>{s.visibleWrites=zg(s.visibleWrites,it(r.path,g))})}return!0}else return!1}function AE(s,n){if(s.snap)return Pt(s.path,n);for(const l in s.children)if(s.children.hasOwnProperty(l)&&Pt(it(s.path,l),n))return!0;return!1}function xE(s){s.visibleWrites=Xp(s.allWrites,ME,Ae()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function ME(s){return s.visible}function Xp(s,n,l){let r=en.empty();for(let c=0;c<s.length;++c){const f=s[c];if(n(f)){const h=f.path;let m;if(f.snap)Pt(l,h)?(m=pt(l,h),r=Is(r,m,f.snap)):Pt(h,l)&&(m=pt(h,l),r=Is(r,Ae(),f.snap.getChild(m)));else if(f.children){if(Pt(l,h))m=pt(l,h),r=wg(r,m,f.children);else if(Pt(h,l))if(m=pt(h,l),ve(m))r=wg(r,Ae(),f.children);else{const g=xl(f.children,_e(m));if(g){const _=g.getChild(Le(m));r=Is(r,Ae(),_)}}}else throw Ol("WriteRecord should have .snap or .children")}}return r}function Fp(s,n,l,r,c){if(!r&&!c){const f=Li(s.visibleWrites,n);if(f!=null)return f;{const h=ai(s.visibleWrites,n);if($o(h))return l;if(l==null&&!Po(h,Ae()))return null;{const m=l||le.EMPTY_NODE;return Dl(h,m)}}}else{const f=ai(s.visibleWrites,n);if(!c&&$o(f))return l;if(!c&&l==null&&!Po(f,Ae()))return null;{const h=function(_){return(_.visible||c)&&(!r||!~r.indexOf(_.writeId))&&(Pt(_.path,n)||Pt(n,_.path))},m=Xp(s.allWrites,h,n),g=l||le.EMPTY_NODE;return Dl(m,g)}}}function RE(s,n,l){let r=le.EMPTY_NODE;const c=Li(s.visibleWrites,n);if(c)return c.isLeafNode()||c.forEachChild(Xe,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(l){const f=ai(s.visibleWrites,n);return l.forEachChild(Xe,(h,m)=>{const g=Dl(ai(f,new je(h)),m);r=r.updateImmediateChild(h,g)}),Bg(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=ai(s.visibleWrites,n);return Bg(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function DE(s,n,l,r,c){Q(r||c,"Either existingEventSnap or existingServerSnap must exist");const f=it(n,l);if(Po(s.visibleWrites,f))return null;{const h=ai(s.visibleWrites,f);return $o(h)?c.getChild(l):Dl(h,c.getChild(l))}}function OE(s,n,l,r){const c=it(n,l),f=Li(s.visibleWrites,c);if(f!=null)return f;if(r.isCompleteForChild(l)){const h=ai(s.visibleWrites,c);return Dl(h,r.getNode().getImmediateChild(l))}else return null}function wE(s,n){return Li(s.visibleWrites,n)}function zE(s,n,l,r,c,f,h){let m;const g=ai(s.visibleWrites,n),_=Li(g,Ae());if(_!=null)m=_;else if(l!=null)m=Dl(g,l);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const T=[],b=h.getCompare(),E=f?m.getReverseIteratorFrom(r,h):m.getIteratorFrom(r,h);let Y=E.getNext();for(;Y&&T.length<c;)b(Y,r)!==0&&T.push(Y),Y=E.getNext();return T}else return[]}function BE(){return{visibleWrites:en.empty(),allWrites:[],lastWriteId:-1}}function kr(s,n,l,r){return Fp(s.writeTree,s.treePath,n,l,r)}function Cf(s,n){return RE(s.writeTree,s.treePath,n)}function jg(s,n,l,r){return DE(s.writeTree,s.treePath,n,l,r)}function qr(s,n){return wE(s.writeTree,it(s.treePath,n))}function jE(s,n,l,r,c,f){return zE(s.writeTree,s.treePath,n,l,r,c,f)}function Tf(s,n,l){return OE(s.writeTree,s.treePath,n,l)}function Zp(s,n){return Kp(it(s.treePath,n),s.writeTree)}function Kp(s,n){return{treePath:s,writeTree:n}}class UE{constructor(){this.changeMap=new Map}trackChildChange(n){const l=n.type,r=n.childName;Q(l==="child_added"||l==="child_changed"||l==="child_removed","Only child changes supported for tracking"),Q(r!==".priority","Only non-priority child changes can be tracked.");const c=this.changeMap.get(r);if(c){const f=c.type;if(l==="child_added"&&f==="child_removed")this.changeMap.set(r,Xs(r,n.snapshotNode,c.snapshotNode));else if(l==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(l==="child_removed"&&f==="child_changed")this.changeMap.set(r,Qs(r,c.oldSnap));else if(l==="child_changed"&&f==="child_added")this.changeMap.set(r,Rl(r,n.snapshotNode));else if(l==="child_changed"&&f==="child_changed")this.changeMap.set(r,Xs(r,n.snapshotNode,c.oldSnap));else throw Ol("Illegal combination of changes: "+n+" occurred after "+c)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}class LE{getCompleteChild(n){return null}getChildAfterChild(n,l,r){return null}}const Jp=new LE;class Nf{constructor(n,l,r=null){this.writes_=n,this.viewCache_=l,this.optCompleteServerCache_=r}getCompleteChild(n){const l=this.viewCache_.eventCache;if(l.isCompleteForChild(n))return l.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new ci(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Tf(this.writes_,n,r)}}getChildAfterChild(n,l,r){const c=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ui(this.viewCache_),f=jE(this.writes_,c,l,1,r,n);return f.length===0?null:f[0]}}function HE(s){return{filter:s}}function IE(s,n){Q(n.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),Q(n.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function kE(s,n,l,r,c){const f=new UE;let h,m;if(l.type===$t.OVERWRITE){const _=l;_.source.fromUser?h=ef(s,n,_.path,_.snap,r,c,f):(Q(_.source.fromServer,"Unknown source."),m=_.source.tagged||n.serverCache.isFiltered()&&!ve(_.path),h=Yr(s,n,_.path,_.snap,r,c,m,f))}else if(l.type===$t.MERGE){const _=l;_.source.fromUser?h=YE(s,n,_.path,_.children,r,c,f):(Q(_.source.fromServer,"Unknown source."),m=_.source.tagged||n.serverCache.isFiltered(),h=tf(s,n,_.path,_.children,r,c,m,f))}else if(l.type===$t.ACK_USER_WRITE){const _=l;_.revert?h=QE(s,n,_.path,r,c,f):h=GE(s,n,_.path,_.affectedTree,r,c,f)}else if(l.type===$t.LISTEN_COMPLETE)h=VE(s,n,l.path,r,f);else throw Ol("Unknown operation type: "+l.type);const g=f.getChanges();return qE(n,h,g),{viewCache:h,changes:g}}function qE(s,n,l){const r=n.eventCache;if(r.isFullyInitialized()){const c=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=Ir(s);(l.length>0||!s.eventCache.isFullyInitialized()||c&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&l.push(qp(Ir(n)))}}function Wp(s,n,l,r,c,f){const h=n.eventCache;if(qr(r,l)!=null)return n;{let m,g;if(ve(l))if(Q(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const _=Ui(n),T=_ instanceof le?_:le.EMPTY_NODE,b=Cf(r,T);m=s.filter.updateFullNode(n.eventCache.getNode(),b,f)}else{const _=kr(r,Ui(n));m=s.filter.updateFullNode(n.eventCache.getNode(),_,f)}else{const _=_e(l);if(_===".priority"){Q(ui(l)===1,"Can't have a priority with additional path components");const T=h.getNode();g=n.serverCache.getNode();const b=jg(r,l,T,g);b!=null?m=s.filter.updatePriority(T,b):m=h.getNode()}else{const T=Le(l);let b;if(h.isCompleteForChild(_)){g=n.serverCache.getNode();const E=jg(r,l,h.getNode(),g);E!=null?b=h.getNode().getImmediateChild(_).updateChild(T,E):b=h.getNode().getImmediateChild(_)}else b=Tf(r,_,n.serverCache);b!=null?m=s.filter.updateChild(h.getNode(),_,b,T,c,f):m=h.getNode()}}return Hs(n,m,h.isFullyInitialized()||ve(l),s.filter.filtersNodes())}}function Yr(s,n,l,r,c,f,h,m){const g=n.serverCache;let _;const T=h?s.filter:s.filter.getIndexedFilter();if(ve(l))_=T.updateFullNode(g.getNode(),r,null);else if(T.filtersNodes()&&!g.isFiltered()){const Y=g.getNode().updateChild(l,r);_=T.updateFullNode(g.getNode(),Y,null)}else{const Y=_e(l);if(!g.isCompleteForPath(l)&&ui(l)>1)return n;const G=Le(l),ce=g.getNode().getImmediateChild(Y).updateChild(G,r);Y===".priority"?_=T.updatePriority(g.getNode(),ce):_=T.updateChild(g.getNode(),Y,ce,G,Jp,null)}const b=Vp(n,_,g.isFullyInitialized()||ve(l),T.filtersNodes()),E=new Nf(c,b,f);return Wp(s,b,l,c,E,m)}function ef(s,n,l,r,c,f,h){const m=n.eventCache;let g,_;const T=new Nf(c,n,f);if(ve(l))_=s.filter.updateFullNode(n.eventCache.getNode(),r,h),g=Hs(n,_,!0,s.filter.filtersNodes());else{const b=_e(l);if(b===".priority")_=s.filter.updatePriority(n.eventCache.getNode(),r),g=Hs(n,_,m.isFullyInitialized(),m.isFiltered());else{const E=Le(l),Y=m.getNode().getImmediateChild(b);let G;if(ve(E))G=r;else{const J=T.getCompleteChild(b);J!=null?wp(E)===".priority"&&J.getChild(Bp(E)).isEmpty()?G=J:G=J.updateChild(E,r):G=le.EMPTY_NODE}if(Y.equals(G))g=n;else{const J=s.filter.updateChild(m.getNode(),b,G,E,T,h);g=Hs(n,J,m.isFullyInitialized(),s.filter.filtersNodes())}}}return g}function Ug(s,n){return s.eventCache.isCompleteForChild(n)}function YE(s,n,l,r,c,f,h){let m=n;return r.foreach((g,_)=>{const T=it(l,g);Ug(n,_e(T))&&(m=ef(s,m,T,_,c,f,h))}),r.foreach((g,_)=>{const T=it(l,g);Ug(n,_e(T))||(m=ef(s,m,T,_,c,f,h))}),m}function Lg(s,n,l){return l.foreach((r,c)=>{n=n.updateChild(r,c)}),n}function tf(s,n,l,r,c,f,h,m){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let g=n,_;ve(l)?_=r:_=new qe(null).setTree(l,r);const T=n.serverCache.getNode();return _.children.inorderTraversal((b,E)=>{if(T.hasChild(b)){const Y=n.serverCache.getNode().getImmediateChild(b),G=Lg(s,Y,E);g=Yr(s,g,new je(b),G,c,f,h,m)}}),_.children.inorderTraversal((b,E)=>{const Y=!n.serverCache.isCompleteForChild(b)&&E.value===null;if(!T.hasChild(b)&&!Y){const G=n.serverCache.getNode().getImmediateChild(b),J=Lg(s,G,E);g=Yr(s,g,new je(b),J,c,f,h,m)}}),g}function GE(s,n,l,r,c,f,h){if(qr(c,l)!=null)return n;const m=n.serverCache.isFiltered(),g=n.serverCache;if(r.value!=null){if(ve(l)&&g.isFullyInitialized()||g.isCompleteForPath(l))return Yr(s,n,l,g.getNode().getChild(l),c,f,m,h);if(ve(l)){let _=new qe(null);return g.getNode().forEachChild(Al,(T,b)=>{_=_.set(new je(T),b)}),tf(s,n,l,_,c,f,m,h)}else return n}else{let _=new qe(null);return r.foreach((T,b)=>{const E=it(l,T);g.isCompleteForPath(E)&&(_=_.set(T,g.getNode().getChild(E)))}),tf(s,n,l,_,c,f,m,h)}}function VE(s,n,l,r,c){const f=n.serverCache,h=Vp(n,f.getNode(),f.isFullyInitialized()||ve(l),f.isFiltered());return Wp(s,h,l,r,Jp,c)}function QE(s,n,l,r,c,f){let h;if(qr(r,l)!=null)return n;{const m=new Nf(r,n,c),g=n.eventCache.getNode();let _;if(ve(l)||_e(l)===".priority"){let T;if(n.serverCache.isFullyInitialized())T=kr(r,Ui(n));else{const b=n.serverCache.getNode();Q(b instanceof le,"serverChildren would be complete if leaf node"),T=Cf(r,b)}T=T,_=s.filter.updateFullNode(g,T,f)}else{const T=_e(l);let b=Tf(r,T,n.serverCache);b==null&&n.serverCache.isCompleteForChild(T)&&(b=g.getImmediateChild(T)),b!=null?_=s.filter.updateChild(g,T,b,Le(l),m,f):n.eventCache.getNode().hasChild(T)?_=s.filter.updateChild(g,T,le.EMPTY_NODE,Le(l),m,f):_=g,_.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=kr(r,Ui(n)),h.isLeafNode()&&(_=s.filter.updateFullNode(_,h,f)))}return h=n.serverCache.isFullyInitialized()||qr(r,Ae())!=null,Hs(n,_,h,s.filter.filtersNodes())}}class XE{constructor(n,l){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,c=new vf(r.getIndex()),f=fE(r);this.processor_=HE(f);const h=l.serverCache,m=l.eventCache,g=c.updateFullNode(le.EMPTY_NODE,h.getNode(),null),_=f.updateFullNode(le.EMPTY_NODE,m.getNode(),null),T=new ci(g,h.isFullyInitialized(),c.filtersNodes()),b=new ci(_,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=Kr(b,T),this.eventGenerator_=new yE(this.query_)}get query(){return this.query_}}function FE(s){return s.viewCache_.serverCache.getNode()}function ZE(s){return Ir(s.viewCache_)}function KE(s,n){const l=Ui(s.viewCache_);return l&&(s.query._queryParams.loadsAllData()||!ve(n)&&!l.getImmediateChild(_e(n)).isEmpty())?l.getChild(n):null}function Hg(s){return s.eventRegistrations_.length===0}function JE(s,n){s.eventRegistrations_.push(n)}function Ig(s,n,l){const r=[];if(l){Q(n==null,"A cancel should cancel all event registrations.");const c=s.query._path;s.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(l,c);h&&r.push(h)})}if(n){let c=[];for(let f=0;f<s.eventRegistrations_.length;++f){const h=s.eventRegistrations_[f];if(!h.matches(n))c.push(h);else if(n.hasAnyCallback()){c=c.concat(s.eventRegistrations_.slice(f+1));break}}s.eventRegistrations_=c}else s.eventRegistrations_=[];return r}function kg(s,n,l,r){n.type===$t.MERGE&&n.source.queryId!==null&&(Q(Ui(s.viewCache_),"We should always have a full cache before handling merges"),Q(Ir(s.viewCache_),"Missing event cache, even though we have a server cache"));const c=s.viewCache_,f=kE(s.processor_,c,n,l,r);return IE(s.processor_,f.viewCache),Q(f.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=f.viewCache,Pp(s,f.changes,f.viewCache.eventCache.getNode(),null)}function WE(s,n){const l=s.viewCache_.eventCache,r=[];return l.getNode().isLeafNode()||l.getNode().forEachChild(Xe,(f,h)=>{r.push(Rl(f,h))}),l.isFullyInitialized()&&r.push(qp(l.getNode())),Pp(s,r,l.getNode(),n)}function Pp(s,n,l,r){const c=r?[r]:s.eventRegistrations_;return vE(s.eventGenerator_,n,l,c)}let Gr;class $p{constructor(){this.views=new Map}}function PE(s){Q(!Gr,"__referenceConstructor has already been defined"),Gr=s}function $E(){return Q(Gr,"Reference.ts has not been loaded"),Gr}function eC(s){return s.views.size===0}function Af(s,n,l,r){const c=n.source.queryId;if(c!==null){const f=s.views.get(c);return Q(f!=null,"SyncTree gave us an op for an invalid query."),kg(f,n,l,r)}else{let f=[];for(const h of s.views.values())f=f.concat(kg(h,n,l,r));return f}}function ey(s,n,l,r,c){const f=n._queryIdentifier,h=s.views.get(f);if(!h){let m=kr(l,c?r:null),g=!1;m?g=!0:r instanceof le?(m=Cf(l,r),g=!1):(m=le.EMPTY_NODE,g=!1);const _=Kr(new ci(m,g,!1),new ci(r,c,!1));return new XE(n,_)}return h}function tC(s,n,l,r,c,f){const h=ey(s,n,r,c,f);return s.views.has(n._queryIdentifier)||s.views.set(n._queryIdentifier,h),JE(h,l),WE(h,l)}function nC(s,n,l,r){const c=n._queryIdentifier,f=[];let h=[];const m=oi(s);if(c==="default")for(const[g,_]of s.views.entries())h=h.concat(Ig(_,l,r)),Hg(_)&&(s.views.delete(g),_.query._queryParams.loadsAllData()||f.push(_.query));else{const g=s.views.get(c);g&&(h=h.concat(Ig(g,l,r)),Hg(g)&&(s.views.delete(c),g.query._queryParams.loadsAllData()||f.push(g.query)))}return m&&!oi(s)&&f.push(new($E())(n._repo,n._path)),{removed:f,events:h}}function ty(s){const n=[];for(const l of s.views.values())l.query._queryParams.loadsAllData()||n.push(l);return n}function ri(s,n){let l=null;for(const r of s.views.values())l=l||KE(r,n);return l}function ny(s,n){if(n._queryParams.loadsAllData())return Wr(s);{const r=n._queryIdentifier;return s.views.get(r)}}function iy(s,n){return ny(s,n)!=null}function oi(s){return Wr(s)!=null}function Wr(s){for(const n of s.views.values())if(n.query._queryParams.loadsAllData())return n;return null}let Vr;function iC(s){Q(!Vr,"__referenceConstructor has already been defined"),Vr=s}function lC(){return Q(Vr,"Reference.ts has not been loaded"),Vr}let sC=1;class qg{constructor(n){this.listenProvider_=n,this.syncPointTree_=new qe(null),this.pendingWriteTree_=BE(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ly(s,n,l,r,c){return CE(s.pendingWriteTree_,n,l,r,c),c?ia(s,new ji(Gp(),n,l)):[]}function zi(s,n,l=!1){const r=TE(s.pendingWriteTree_,n);if(NE(s.pendingWriteTree_,n)){let f=new qe(null);return r.snap!=null?f=f.set(Ae(),!0):xt(r.children,h=>{f=f.set(new je(h),!0)}),ia(s,new Hr(r.path,f,l))}else return[]}function na(s,n,l){return ia(s,new ji(Sf(),n,l))}function aC(s,n,l){const r=qe.fromObject(l);return ia(s,new Ks(Sf(),n,r))}function rC(s,n){return ia(s,new Zs(Sf(),n))}function uC(s,n,l){const r=Mf(s,l);if(r){const c=Rf(r),f=c.path,h=c.queryId,m=pt(f,n),g=new Zs(Ef(h),m);return Df(s,f,g)}else return[]}function Qr(s,n,l,r,c=!1){const f=n._path,h=s.syncPointTree_.get(f);let m=[];if(h&&(n._queryIdentifier==="default"||iy(h,n))){const g=nC(h,n,l,r);eC(h)&&(s.syncPointTree_=s.syncPointTree_.remove(f));const _=g.removed;if(m=g.events,!c){const T=_.findIndex(E=>E._queryParams.loadsAllData())!==-1,b=s.syncPointTree_.findOnPath(f,(E,Y)=>oi(Y));if(T&&!b){const E=s.syncPointTree_.subtree(f);if(!E.isEmpty()){const Y=fC(E);for(let G=0;G<Y.length;++G){const J=Y[G],ce=J.query,ie=uy(s,J);s.listenProvider_.startListening(ks(ce),Js(s,ce),ie.hashFn,ie.onComplete)}}}!b&&_.length>0&&!r&&(T?s.listenProvider_.stopListening(ks(n),null):_.forEach(E=>{const Y=s.queryToTagMap.get(Pr(E));s.listenProvider_.stopListening(ks(E),Y)}))}hC(s,_)}return m}function sy(s,n,l,r){const c=Mf(s,r);if(c!=null){const f=Rf(c),h=f.path,m=f.queryId,g=pt(h,n),_=new ji(Ef(m),g,l);return Df(s,h,_)}else return[]}function cC(s,n,l,r){const c=Mf(s,r);if(c){const f=Rf(c),h=f.path,m=f.queryId,g=pt(h,n),_=qe.fromObject(l),T=new Ks(Ef(m),g,_);return Df(s,h,T)}else return[]}function nf(s,n,l,r=!1){const c=n._path;let f=null,h=!1;s.syncPointTree_.foreachOnPath(c,(E,Y)=>{const G=pt(E,c);f=f||ri(Y,G),h=h||oi(Y)});let m=s.syncPointTree_.get(c);m?(h=h||oi(m),f=f||ri(m,Ae())):(m=new $p,s.syncPointTree_=s.syncPointTree_.set(c,m));let g;f!=null?g=!0:(g=!1,f=le.EMPTY_NODE,s.syncPointTree_.subtree(c).foreachChild((Y,G)=>{const J=ri(G,Ae());J&&(f=f.updateImmediateChild(Y,J))}));const _=iy(m,n);if(!_&&!n._queryParams.loadsAllData()){const E=Pr(n);Q(!s.queryToTagMap.has(E),"View does not exist, but we have a tag");const Y=dC();s.queryToTagMap.set(E,Y),s.tagToQueryMap.set(Y,E)}const T=Jr(s.pendingWriteTree_,c);let b=tC(m,n,l,T,f,g);if(!_&&!h&&!r){const E=ny(m,n);b=b.concat(mC(s,n,E))}return b}function xf(s,n,l){const c=s.pendingWriteTree_,f=s.syncPointTree_.findOnPath(n,(h,m)=>{const g=pt(h,n),_=ri(m,g);if(_)return _});return Fp(c,n,f,l,!0)}function oC(s,n){const l=n._path;let r=null;s.syncPointTree_.foreachOnPath(l,(_,T)=>{const b=pt(_,l);r=r||ri(T,b)});let c=s.syncPointTree_.get(l);c?r=r||ri(c,Ae()):(c=new $p,s.syncPointTree_=s.syncPointTree_.set(l,c));const f=r!=null,h=f?new ci(r,!0,!1):null,m=Jr(s.pendingWriteTree_,n._path),g=ey(c,n,m,f?h.getNode():le.EMPTY_NODE,f);return ZE(g)}function ia(s,n){return ay(n,s.syncPointTree_,null,Jr(s.pendingWriteTree_,Ae()))}function ay(s,n,l,r){if(ve(s.path))return ry(s,n,l,r);{const c=n.get(Ae());l==null&&c!=null&&(l=ri(c,Ae()));let f=[];const h=_e(s.path),m=s.operationForChild(h),g=n.children.get(h);if(g&&m){const _=l?l.getImmediateChild(h):null,T=Zp(r,h);f=f.concat(ay(m,g,_,T))}return c&&(f=f.concat(Af(c,s,r,l))),f}}function ry(s,n,l,r){const c=n.get(Ae());l==null&&c!=null&&(l=ri(c,Ae()));let f=[];return n.children.inorderTraversal((h,m)=>{const g=l?l.getImmediateChild(h):null,_=Zp(r,h),T=s.operationForChild(h);T&&(f=f.concat(ry(T,m,g,_)))}),c&&(f=f.concat(Af(c,s,r,l))),f}function uy(s,n){const l=n.query,r=Js(s,l);return{hashFn:()=>(FE(n)||le.EMPTY_NODE).hash(),onComplete:c=>{if(c==="ok")return r?uC(s,l._path,r):rC(s,l._path);{const f=oS(c,l);return Qr(s,l,null,f)}}}}function Js(s,n){const l=Pr(n);return s.queryToTagMap.get(l)}function Pr(s){return s._path.toString()+"$"+s._queryIdentifier}function Mf(s,n){return s.tagToQueryMap.get(n)}function Rf(s){const n=s.indexOf("$");return Q(n!==-1&&n<s.length-1,"Bad queryKey."),{queryId:s.substr(n+1),path:new je(s.substr(0,n))}}function Df(s,n,l){const r=s.syncPointTree_.get(n);Q(r,"Missing sync point for query tag that we're tracking");const c=Jr(s.pendingWriteTree_,n);return Af(r,l,c,null)}function fC(s){return s.fold((n,l,r)=>{if(l&&oi(l))return[Wr(l)];{let c=[];return l&&(c=ty(l)),xt(r,(f,h)=>{c=c.concat(h)}),c}})}function ks(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(lC())(s._repo,s._path):s}function hC(s,n){for(let l=0;l<n.length;++l){const r=n[l];if(!r._queryParams.loadsAllData()){const c=Pr(r),f=s.queryToTagMap.get(c);s.queryToTagMap.delete(c),s.tagToQueryMap.delete(f)}}}function dC(){return sC++}function mC(s,n,l){const r=n._path,c=Js(s,n),f=uy(s,l),h=s.listenProvider_.startListening(ks(n),c,f.hashFn,f.onComplete),m=s.syncPointTree_.subtree(r);if(c)Q(!oi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const g=m.fold((_,T,b)=>{if(!ve(_)&&T&&oi(T))return[Wr(T).query];{let E=[];return T&&(E=E.concat(ty(T).map(Y=>Y.query))),xt(b,(Y,G)=>{E=E.concat(G)}),E}});for(let _=0;_<g.length;++_){const T=g[_];s.listenProvider_.stopListening(ks(T),Js(s,T))}}return h}class Of{constructor(n){this.node_=n}getImmediateChild(n){const l=this.node_.getImmediateChild(n);return new Of(l)}node(){return this.node_}}class wf{constructor(n,l){this.syncTree_=n,this.path_=l}getImmediateChild(n){const l=it(this.path_,n);return new wf(this.syncTree_,l)}node(){return xf(this.syncTree_,this.path_)}}const _C=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},Yg=function(s,n,l){if(!s||typeof s!="object")return s;if(Q(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return gC(s[".sv"],n,l);if(typeof s[".sv"]=="object")return pC(s[".sv"],n);Q(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},gC=function(s,n,l){if(s==="timestamp")return l.timestamp;Q(!1,"Unexpected server value: "+s)},pC=function(s,n,l){s.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const r=s.increment;typeof r!="number"&&Q(!1,"Unexpected increment value: "+r);const c=n.node();if(Q(c!==null&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return r;const h=c.getValue();return typeof h!="number"?r:h+r},yC=function(s,n,l,r){return zf(n,new wf(l,s),r)},cy=function(s,n,l){return zf(s,new Of(n),l)};function zf(s,n,l){const r=s.getPriority().val(),c=Yg(r,n.getImmediateChild(".priority"),l);let f;if(s.isLeafNode()){const h=s,m=Yg(h.getValue(),n,l);return m!==h.getValue()||c!==h.getPriority().val()?new at(m,ut(c)):s}else{const h=s;return f=h,c!==h.getPriority().val()&&(f=f.updatePriority(new at(c))),h.forEachChild(Xe,(m,g)=>{const _=zf(g,n.getImmediateChild(m),l);_!==g&&(f=f.updateImmediateChild(m,_))}),f}}class Bf{constructor(n="",l=null,r={children:{},childCount:0}){this.name=n,this.parent=l,this.node=r}}function jf(s,n){let l=n instanceof je?n:new je(n),r=s,c=_e(l);for(;c!==null;){const f=xl(r.node.children,c)||{children:{},childCount:0};r=new Bf(c,r,f),l=Le(l),c=_e(l)}return r}function jl(s){return s.node.value}function oy(s,n){s.node.value=n,lf(s)}function fy(s){return s.node.childCount>0}function vC(s){return jl(s)===void 0&&!fy(s)}function $r(s,n){xt(s.node.children,(l,r)=>{n(new Bf(l,s,r))})}function hy(s,n,l,r){l&&n(s),$r(s,c=>{hy(c,n,!0)})}function bC(s,n,l){let r=s.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function la(s){return new je(s.parent===null?s.name:la(s.parent)+"/"+s.name)}function lf(s){s.parent!==null&&SC(s.parent,s.name,s)}function SC(s,n,l){const r=vC(l),c=Rn(s.node.children,n);r&&c?(delete s.node.children[n],s.node.childCount--,lf(s)):!r&&!c&&(s.node.children[n]=l.node,s.node.childCount++,lf(s))}const EC=/[\[\].#$\/\u0000-\u001F\u007F]/,CC=/[\[\].#$\u0000-\u001F\u007F]/,Io=10*1024*1024,dy=function(s){return typeof s=="string"&&s.length!==0&&!EC.test(s)},my=function(s){return typeof s=="string"&&s.length!==0&&!CC.test(s)},TC=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),my(s)},NC=function(s,n,l,r){Uf(of(s,"value"),n,l)},Uf=function(s,n,l){const r=l instanceof je?new GS(l,s):l;if(n===void 0)throw new Error(s+"contains undefined "+Oi(r));if(typeof n=="function")throw new Error(s+"contains a function "+Oi(r)+" with contents = "+n.toString());if(fp(n))throw new Error(s+"contains "+n.toString()+" "+Oi(r));if(typeof n=="string"&&n.length>Io/3&&Fr(n)>Io)throw new Error(s+"contains a string greater than "+Io+" utf8 bytes "+Oi(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let c=!1,f=!1;if(xt(n,(h,m)=>{if(h===".value")c=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!dy(h)))throw new Error(s+" contains an invalid key ("+h+") "+Oi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);VS(r,h),Uf(s,m,r),QS(r)}),c&&f)throw new Error(s+' contains ".value" child '+Oi(r)+" in addition to actual children.")}},_y=function(s,n,l,r){if(!my(l))throw new Error(of(s,n)+'was an invalid path = "'+l+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},AC=function(s,n,l,r){l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),_y(s,n,l)},gy=function(s,n){if(_e(n)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},xC=function(s,n){const l=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!dy(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||l.length!==0&&!TC(l))throw new Error(of(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};class MC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Lf(s,n){let l=null;for(let r=0;r<n.length;r++){const c=n[r],f=c.getPath();l!==null&&!gf(f,l.path)&&(s.eventLists_.push(l),l=null),l===null&&(l={events:[],path:f}),l.events.push(c)}l&&s.eventLists_.push(l)}function py(s,n,l){Lf(s,l),yy(s,r=>gf(r,n))}function an(s,n,l){Lf(s,l),yy(s,r=>Pt(r,n)||Pt(n,r))}function yy(s,n){s.recursionDepth_++;let l=!0;for(let r=0;r<s.eventLists_.length;r++){const c=s.eventLists_[r];if(c){const f=c.path;n(f)?(RC(s.eventLists_[r]),s.eventLists_[r]=null):l=!1}}l&&(s.eventLists_=[]),s.recursionDepth_--}function RC(s){for(let n=0;n<s.events.length;n++){const l=s.events[n];if(l!==null){s.events[n]=null;const r=l.getEventRunner();Us&&_t("event: "+l.toString()),Bl(r)}}}const DC="repo_interrupt",OC=25;class wC{constructor(n,l,r,c){this.repoInfo_=n,this.forceRestClient_=l,this.authTokenProvider_=r,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new MC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lr(),this.transactionQueueTree_=new Bf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function zC(s,n,l){if(s.stats_=mf(s.repoInfo_),s.forceRestClient_||mS())s.server_=new Ur(s.repoInfo_,(r,c,f,h)=>{Gg(s,r,c,f,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>Vg(s,!0),0);else{if(typeof l<"u"&&l!==null){if(typeof l!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{nt(l)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}s.persistentConnection_=new An(s.repoInfo_,n,(r,c,f,h)=>{Gg(s,r,c,f,h)},r=>{Vg(s,r)},r=>{jC(s,r)},s.authTokenProvider_,s.appCheckProvider_,l),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(r=>{s.server_.refreshAuthToken(r)}),s.appCheckProvider_.addTokenChangeListener(r=>{s.server_.refreshAppCheckToken(r.token)}),s.statsReporter_=vS(s.repoInfo_,()=>new pE(s.stats_,s.server_)),s.infoData_=new hE,s.infoSyncTree_=new qg({startListening:(r,c,f,h)=>{let m=[];const g=s.infoData_.getNode(r._path);return g.isEmpty()||(m=na(s.infoSyncTree_,r._path,g),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),If(s,"connected",!1),s.serverSyncTree_=new qg({startListening:(r,c,f,h)=>(s.server_.listen(r,f,c,(m,g)=>{const _=h(m,g);an(s.eventQueue_,r._path,_)}),[]),stopListening:(r,c)=>{s.server_.unlisten(r,c)}})}function BC(s){const l=s.infoData_.getNode(new je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+l}function Hf(s){return _C({timestamp:BC(s)})}function Gg(s,n,l,r,c){s.dataUpdateCount++;const f=new je(n);l=s.interceptServerDataCallback_?s.interceptServerDataCallback_(n,l):l;let h=[];if(c)if(r){const g=Rr(l,_=>ut(_));h=cC(s.serverSyncTree_,f,g,c)}else{const g=ut(l);h=sy(s.serverSyncTree_,f,g,c)}else if(r){const g=Rr(l,_=>ut(_));h=aC(s.serverSyncTree_,f,g)}else{const g=ut(l);h=na(s.serverSyncTree_,f,g)}let m=f;h.length>0&&(m=tu(s,f)),an(s.eventQueue_,m,h)}function Vg(s,n){If(s,"connected",n),n===!1&&HC(s)}function jC(s,n){xt(n,(l,r)=>{If(s,l,r)})}function If(s,n,l){const r=new je("/.info/"+n),c=ut(l);s.infoData_.updateSnapshot(r,c);const f=na(s.infoSyncTree_,r,c);an(s.eventQueue_,r,f)}function vy(s){return s.nextWriteId_++}function UC(s,n,l){const r=oC(s.serverSyncTree_,n);return r!=null?Promise.resolve(r):s.server_.get(n).then(c=>{const f=ut(c).withIndex(n._queryParams.getIndex());nf(s.serverSyncTree_,n,l,!0);let h;if(n._queryParams.loadsAllData())h=na(s.serverSyncTree_,n._path,f);else{const m=Js(s.serverSyncTree_,n);h=sy(s.serverSyncTree_,n._path,f,m)}return an(s.eventQueue_,n._path,h),Qr(s.serverSyncTree_,n,l,null,!0),f},c=>(eu(s,"get for query "+nt(n)+" failed: "+c),Promise.reject(new Error(c))))}function LC(s,n,l,r,c){eu(s,"set",{path:n.toString(),value:l,priority:r});const f=Hf(s),h=ut(l,r),m=xf(s.serverSyncTree_,n),g=cy(h,m,f),_=vy(s),T=ly(s.serverSyncTree_,n,g,_,!0);Lf(s.eventQueue_,T),s.server_.put(n.toString(),h.val(!0),(E,Y)=>{const G=E==="ok";G||At("set at "+n+" failed: "+E);const J=zi(s.serverSyncTree_,_,!G);an(s.eventQueue_,n,J),qC(s,c,E,Y)});const b=Ny(s,n);tu(s,b),an(s.eventQueue_,b,[])}function HC(s){eu(s,"onDisconnectEvents");const n=Hf(s),l=Lr();Wo(s.onDisconnect_,Ae(),(c,f)=>{const h=yC(c,f,s.serverSyncTree_,n);Yp(l,c,h)});let r=[];Wo(l,Ae(),(c,f)=>{r=r.concat(na(s.serverSyncTree_,c,f));const h=Ny(s,c);tu(s,h)}),s.onDisconnect_=Lr(),an(s.eventQueue_,Ae(),r)}function IC(s,n,l){let r;_e(n._path)===".info"?r=nf(s.infoSyncTree_,n,l):r=nf(s.serverSyncTree_,n,l),py(s.eventQueue_,n._path,r)}function by(s,n,l){let r;_e(n._path)===".info"?r=Qr(s.infoSyncTree_,n,l):r=Qr(s.serverSyncTree_,n,l),py(s.eventQueue_,n._path,r)}function kC(s){s.persistentConnection_&&s.persistentConnection_.interrupt(DC)}function eu(s,...n){let l="";s.persistentConnection_&&(l=s.persistentConnection_.id+":"),_t(l,...n)}function qC(s,n,l,r){n&&Bl(()=>{if(l==="ok")n(null);else{const c=(l||"error").toUpperCase();let f=c;r&&(f+=": "+r);const h=new Error(f);h.code=c,n(h)}})}function Sy(s,n,l){return xf(s.serverSyncTree_,n,l)||le.EMPTY_NODE}function kf(s,n=s.transactionQueueTree_){if(n||nu(s,n),jl(n)){const l=Cy(s,n);Q(l.length>0,"Sending zero length transaction queue"),l.every(c=>c.status===0)&&YC(s,la(n),l)}else fy(n)&&$r(n,l=>{kf(s,l)})}function YC(s,n,l){const r=l.map(_=>_.currentWriteId),c=Sy(s,n,r);let f=c;const h=c.hash();for(let _=0;_<l.length;_++){const T=l[_];Q(T.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),T.status=1,T.retryCount++;const b=pt(n,T.path);f=f.updateChild(b,T.currentOutputSnapshotRaw)}const m=f.val(!0),g=n;s.server_.put(g.toString(),m,_=>{eu(s,"transaction put response",{path:g.toString(),status:_});let T=[];if(_==="ok"){const b=[];for(let E=0;E<l.length;E++)l[E].status=2,T=T.concat(zi(s.serverSyncTree_,l[E].currentWriteId)),l[E].onComplete&&b.push(()=>l[E].onComplete(null,!0,l[E].currentOutputSnapshotResolved)),l[E].unwatcher();nu(s,jf(s.transactionQueueTree_,n)),kf(s,s.transactionQueueTree_),an(s.eventQueue_,n,T);for(let E=0;E<b.length;E++)Bl(b[E])}else{if(_==="datastale")for(let b=0;b<l.length;b++)l[b].status===3?l[b].status=4:l[b].status=0;else{At("transaction at "+g.toString()+" failed: "+_);for(let b=0;b<l.length;b++)l[b].status=4,l[b].abortReason=_}tu(s,n)}},h)}function tu(s,n){const l=Ey(s,n),r=la(l),c=Cy(s,l);return GC(s,c,r),r}function GC(s,n,l){if(n.length===0)return;const r=[];let c=[];const h=n.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<n.length;m++){const g=n[m],_=pt(l,g.path);let T=!1,b;if(Q(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)T=!0,b=g.abortReason,c=c.concat(zi(s.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=OC)T=!0,b="maxretry",c=c.concat(zi(s.serverSyncTree_,g.currentWriteId,!0));else{const E=Sy(s,g.path,h);g.currentInputSnapshot=E;const Y=n[m].update(E.val());if(Y!==void 0){Uf("transaction failed: Data returned ",Y,g.path);let G=ut(Y);typeof Y=="object"&&Y!=null&&Rn(Y,".priority")||(G=G.updatePriority(E.getPriority()));const ce=g.currentWriteId,ie=Hf(s),re=cy(G,E,ie);g.currentOutputSnapshotRaw=G,g.currentOutputSnapshotResolved=re,g.currentWriteId=vy(s),h.splice(h.indexOf(ce),1),c=c.concat(ly(s.serverSyncTree_,g.path,re,g.currentWriteId,g.applyLocally)),c=c.concat(zi(s.serverSyncTree_,ce,!0))}else T=!0,b="nodata",c=c.concat(zi(s.serverSyncTree_,g.currentWriteId,!0))}an(s.eventQueue_,l,c),c=[],T&&(n[m].status=2,(function(E){setTimeout(E,Math.floor(0))})(n[m].unwatcher),n[m].onComplete&&(b==="nodata"?r.push(()=>n[m].onComplete(null,!1,n[m].currentInputSnapshot)):r.push(()=>n[m].onComplete(new Error(b),!1,null))))}nu(s,s.transactionQueueTree_);for(let m=0;m<r.length;m++)Bl(r[m]);kf(s,s.transactionQueueTree_)}function Ey(s,n){let l,r=s.transactionQueueTree_;for(l=_e(n);l!==null&&jl(r)===void 0;)r=jf(r,l),n=Le(n),l=_e(n);return r}function Cy(s,n){const l=[];return Ty(s,n,l),l.sort((r,c)=>r.order-c.order),l}function Ty(s,n,l){const r=jl(n);if(r)for(let c=0;c<r.length;c++)l.push(r[c]);$r(n,c=>{Ty(s,c,l)})}function nu(s,n){const l=jl(n);if(l){let r=0;for(let c=0;c<l.length;c++)l[c].status!==2&&(l[r]=l[c],r++);l.length=r,oy(n,l.length>0?l:void 0)}$r(n,r=>{nu(s,r)})}function Ny(s,n){const l=la(Ey(s,n)),r=jf(s.transactionQueueTree_,n);return bC(r,c=>{ko(s,c)}),ko(s,r),hy(r,c=>{ko(s,c)}),l}function ko(s,n){const l=jl(n);if(l){const r=[];let c=[],f=-1;for(let h=0;h<l.length;h++)l[h].status===3||(l[h].status===1?(Q(f===h-1,"All SENT items should be at beginning of queue."),f=h,l[h].status=3,l[h].abortReason="set"):(Q(l[h].status===0,"Unexpected transaction status in abort"),l[h].unwatcher(),c=c.concat(zi(s.serverSyncTree_,l[h].currentWriteId,!0)),l[h].onComplete&&r.push(l[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?oy(n,void 0):l.length=f+1,an(s.eventQueue_,la(n),c);for(let h=0;h<r.length;h++)Bl(r[h])}}function VC(s){let n="";const l=s.split("/");for(let r=0;r<l.length;r++)if(l[r].length>0){let c=l[r];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}n+="/"+c}return n}function QC(s){const n={};s.charAt(0)==="?"&&(s=s.substring(1));for(const l of s.split("&")){if(l.length===0)continue;const r=l.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):At(`Invalid query segment '${l}' in query '${s}'`)}return n}const Qg=function(s,n){const l=XC(s),r=l.namespace;l.domain==="firebase.com"&&Mn(l.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&l.domain!=="localhost"&&Mn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),l.secure||sS();const c=l.scheme==="ws"||l.scheme==="wss";return{repoInfo:new Cp(l.host,l.secure,r,c,n,"",r!==l.subdomain),path:new je(l.pathString)}},XC=function(s){let n="",l="",r="",c="",f="",h=!0,m="https",g=443;if(typeof s=="string"){let _=s.indexOf("//");_>=0&&(m=s.substring(0,_-1),s=s.substring(_+2));let T=s.indexOf("/");T===-1&&(T=s.length);let b=s.indexOf("?");b===-1&&(b=s.length),n=s.substring(0,Math.min(T,b)),T<b&&(c=VC(s.substring(T,b)));const E=QC(s.substring(Math.min(s.length,b)));_=n.indexOf(":"),_>=0?(h=m==="https"||m==="wss",g=parseInt(n.substring(_+1),10)):_=n.length;const Y=n.slice(0,_);if(Y.toLowerCase()==="localhost")l="localhost";else if(Y.split(".").length<=2)l=Y;else{const G=n.indexOf(".");r=n.substring(0,G).toLowerCase(),l=n.substring(G+1),f=r}"ns"in E&&(f=E.ns)}return{host:n,port:g,domain:l,subdomain:r,secure:h,scheme:m,pathString:c,namespace:f}};class FC{constructor(n,l,r,c){this.eventType=n,this.eventRegistration=l,this.snapshot=r,this.prevName=c}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+nt(this.snapshot.exportVal())}}class ZC{constructor(n,l,r){this.eventRegistration=n,this.error=l,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class qf{constructor(n,l){this.snapshotCallback=n,this.cancelCallback=l}onValue(n,l){this.snapshotCallback.call(null,n,l)}onCancel(n){return Q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}class Yf{constructor(n,l,r,c){this._repo=n,this._path=l,this._queryParams=r,this._orderByCalled=c}get key(){return ve(this._path)?null:wp(this._path)}get ref(){return new Dn(this._repo,this._path)}get _queryIdentifier(){const n=Dg(this._queryParams),l=hf(n);return l==="{}"?"default":l}get _queryObject(){return Dg(this._queryParams)}isEqual(n){if(n=wl(n),!(n instanceof Yf))return!1;const l=this._repo===n._repo,r=gf(this._path,n._path),c=this._queryIdentifier===n._queryIdentifier;return l&&r&&c}toJSON(){return this.toString()}toString(){return this._repo.toString()+YS(this._path)}}class Dn extends Yf{constructor(n,l){super(n,l,new bf,!1)}get parent(){const n=Bp(this._path);return n===null?null:new Dn(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class Ws{constructor(n,l,r){this._node=n,this.ref=l,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const l=new je(n),r=sf(this.ref,n);return new Ws(this._node.getChild(l),r,Xe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,c)=>n(new Ws(c,sf(this.ref,r),Xe)))}hasChild(n){const l=new je(n);return!this._node.getChild(l).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function On(s,n){return s=wl(s),s._checkNotDeleted("ref"),n!==void 0?sf(s._root,n):s._root}function sf(s,n){return s=wl(s),_e(s._path)===null?AC("child","path",n):_y("child","path",n),new Dn(s._repo,it(s._path,n))}function Ay(s){return gy("remove",s._path),iu(s,null)}function iu(s,n){s=wl(s),gy("set",s._path),NC("set",n,s._path);const l=new Xr;return LC(s._repo,s._path,n,null,l.wrapCallback(()=>{})),l.promise}function xy(s){s=wl(s);const n=new qf(()=>{}),l=new sa(n);return UC(s._repo,s,l).then(r=>new Ws(r,new Dn(s._repo,s._path),s._queryParams.getIndex()))}class sa{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,l){const r=l._queryParams.getIndex();return new FC("value",this,new Ws(n.snapshotNode,new Dn(l._repo,l._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,l){return this.callbackContext.hasCancelCallback?new ZC(this,n,l):null}matches(n){return n instanceof sa?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function KC(s,n,l,r,c){const f=new qf(l,void 0),h=new sa(f);return IC(s._repo,s,h),()=>by(s._repo,s,h)}function My(s,n,l,r){return KC(s,"value",n)}function Ry(s,n,l){let r=null;const c=l?new qf(l):null;r=new sa(c),by(s._repo,s,r)}PE(Dn);iC(Dn);const JC="FIREBASE_DATABASE_EMULATOR_HOST",af={};let WC=!1;function PC(s,n,l,r){const c=n.lastIndexOf(":"),f=n.substring(0,c),h=cf(f);s.repoInfo_=new Cp(n,h,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,l),r&&(s.authTokenProvider_=r)}function $C(s,n,l,r,c){let f=r||s.options.databaseURL;f===void 0&&(s.options.projectId||Mn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_t("Using default host for project ",s.options.projectId),f=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=Qg(f,c),m=h.repoInfo,g;typeof process<"u"&&hg&&(g=hg[JC]),g?(f=`http://${g}?ns=${m.namespace}`,h=Qg(f,c),m=h.repoInfo):h.repoInfo.secure;const _=new gS(s.name,s.options,n);xC("Invalid Firebase Database URL",h),ve(h.path)||Mn("Database URL must point to the root of a Firebase Database (not including a child path).");const T=tT(m,s,_,new _S(s,l));return new nT(T,s)}function eT(s,n){const l=af[n];(!l||l[s.key]!==s)&&Mn(`Database ${n}(${s.repoInfo_}) has already been deleted.`),kC(s),delete l[s.key]}function tT(s,n,l,r){let c=af[n.name];c||(c={},af[n.name]=c);let f=c[s.toURLString()];return f&&Mn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new wC(s,WC,l,r),c[s.toURLString()]=f,f}class nT{constructor(n,l){this._repoInternal=n,this.app=l,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(zC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Dn(this._repo,Ae())),this._rootInternal}_delete(){return this._rootInternal!==null&&(eT(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Mn("Cannot call "+n+" on a deleted database.")}}function iT(s=kb(),n){const l=jb(s,"database").getImmediate({identifier:n});if(!l._instanceStarted){const r=b1("database");r&&lT(l,...r)}return l}function lT(s,n,l,r={}){s=wl(s),s._checkNotDeleted("useEmulator");const c=`${n}:${l}`,f=s._repoInternal;if(s._instanceStarted){if(c===s._repoInternal.repoInfo_.host&&Dr(r,f.repoInfo_.emulatorOptions))return;Mn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)r.mockUserToken&&Mn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new xr(xr.OWNER);else if(r.mockUserToken){const m=typeof r.mockUserToken=="string"?r.mockUserToken:E1(r.mockUserToken,s.app.options.projectId);h=new xr(m)}cf(n)&&(S1(n),N1("Database",!0)),PC(f,c,r,h)}function sT(s){$b(Ib),wr(new Ys("database",(n,{instanceIdentifier:l})=>{const r=n.getProvider("app").getImmediate(),c=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return $C(r,c,f,l)},"PUBLIC").setMultipleInstances(!0)),Tl(dg,mg,s),Tl(dg,mg,"esm2020")}An.prototype.simpleListen=function(s,n){this.sendRequest("q",{p:s},n)};An.prototype.echo=function(s,n){this.sendRequest("echo",{d:s},n)};sT();const aT={apiKey:"AIzaSyB7D3iC5YvztzeQ9cM00e1D5PdQ2AyFbYo",authDomain:"seisekikanri-6f027.firebaseapp.com",databaseURL:"https://seisekikanri-6f027-default-rtdb.firebaseio.com",projectId:"seisekikanri-6f027",storageBucket:"seisekikanri-6f027.firebasestorage.app",messagingSenderId:"962904720198",appId:"1:962904720198:web:8b510e9dcef3d940765b47"},rT=sp(aT),wn=iT(rT),aa="members",lu="matches";async function uT(){const s=On(wn,aa),n=await xy(s);if(n.exists()){const l=n.val();return Object.values(l)}return[]}async function cT(s){const n=On(wn,`${aa}/${s.id}`);await iu(n,s)}async function oT(s){const n=On(wn,aa),l=s.reduce((r,c)=>(r[c.id]=c,r),{});await iu(n,l)}async function fT(s){const n=On(wn,`${aa}/${s}`);await Ay(n)}function hT(s){const n=On(wn,aa),l=My(n,r=>{if(r.exists()){const c=r.val();s(Object.values(c))}else s([])});return()=>Ry(n,"value",l)}function dT(s){const n={};return s.stats.forEach((l,r)=>{n[r]=l}),{...s,stats:n}}function Dy(s){const n=new Map;return s.stats&&Object.entries(s.stats).forEach(([l,r])=>{n.set(l,r)}),{...s,members:Array.isArray(s.members)?s.members:[],stats:n}}async function mT(){const s=On(wn,lu),n=await xy(s);if(n.exists()){const l=n.val();return Object.values(l).map(r=>Dy(r))}return[]}async function Xg(s){const n=On(wn,`${lu}/${s.id}`),l=dT(s);await iu(n,l)}async function _T(s){const n=On(wn,`${lu}/${s}`);await Ay(n)}function gT(s){const n=On(wn,lu),l=My(n,r=>{if(r.exists()){const c=r.val(),f=Object.values(c).map(h=>Dy(h));s(f)}else s([])});return()=>Ry(n,"value",l)}const pT=s=>{const n=s.innings.reduce((g,_)=>({atBats:g.atBats+_.atBats,hits:g.hits+_.hits,walks:g.walks+_.walks,runs:g.runs+_.runs,rbis:g.rbis+_.rbis,doubles:g.doubles+_.doubles,triples:g.triples+_.triples,homeRuns:g.homeRuns+_.homeRuns,stolenBases:g.stolenBases+_.stolenBases,sacrificeBunts:g.sacrificeBunts+_.sacrificeBunts,sacrificeFlies:g.sacrificeFlies+_.sacrificeFlies,errors:g.errors+_.errors}),{atBats:0,hits:0,walks:0,runs:0,rbis:0,doubles:0,triples:0,homeRuns:0,stolenBases:0,sacrificeBunts:0,sacrificeFlies:0,errors:0}),l=n.atBats+n.walks,r=n.hits+n.doubles+n.triples*2+n.homeRuns*3,c=n.atBats>0?Math.round(n.hits/n.atBats*1e4)/1e4:0,f=n.atBats>0?Math.round(r/n.atBats*1e4)/1e4:0,h=l>0?Math.round((n.hits+n.walks)/l*1e4)/1e4:0,m=Math.round((h+f)*1e4)/1e4;return{totalAtBats:n.atBats,totalHits:n.hits,totalWalks:n.walks,totalRuns:n.runs,totalRbis:n.rbis,totalDoubles:n.doubles,totalTriples:n.triples,totalHomeRuns:n.homeRuns,totalStolenBases:n.stolenBases,totalSacrificeBunts:n.sacrificeBunts,totalSacrificeFlies:n.sacrificeFlies,totalErrors:n.errors,avgBases:r,battingAverage:c,sluggingPercentage:f,onBasePercentage:h,ops:m}};function yT({members:s,globalMembers:n,onAddMember:l,onRemoveMember:r,onAddNewMember:c,onUpdateMember:f,onRemoveGlobalMember:h,onUpdateGlobalMember:m}){const[g,_]=He.useState(""),[T,b]=He.useState(!1),[E,Y]=He.useState(null),[G,J]=He.useState(""),[ce,ie]=He.useState(!1),re=new Map,fe=s||[];fe.forEach(K=>{K.battingOrder&&K.battingOrder>=1&&K.battingOrder<=9&&re.set(K.battingOrder,K)});const Me=fe.filter(K=>!K.battingOrder||K.battingOrder<1||K.battingOrder>9),et=K=>{const de=new Set;re.forEach((w,O)=>{O!==K&&de.add(w.id)});const k=new Map;return n.forEach(w=>{de.has(w.id)||k.set(w.id,w)}),Me.forEach(w=>{de.has(w.id)||k.set(w.id,w)}),Array.from(k.values())},ae=(K,de)=>{if(!de){const w=re.get(K);w&&(n.some(O=>O.id===w.id)?f({...w,battingOrder:void 0}):r(w.id));return}let k=s.find(w=>w.id===de);if(!k){const w=n.find(O=>O.id===de);if(w){k={...w,battingOrder:K},l(k);return}}k&&(re.forEach((w,O)=>{w.id===de&&O!==K&&f({...w,battingOrder:void 0})}),f({...k,battingOrder:K}))},$=K=>{if(K.preventDefault(),g.trim()){if(n.some(de=>de.name===g)){alert(`${g}`);return}if(s.some(de=>de.name===g)){alert(`${g}`);return}c(g),_(""),b(!1)}};return y.jsxs("div",{className:"member-list",children:[y.jsx("div",{className:"member-list-header",children:y.jsx("h3",{children:""})}),y.jsxs("div",{className:"new-member-section",children:[y.jsx("button",{className:"btn-add-new-member",onClick:()=>b(!T),children:T?"":" "}),y.jsx("button",{className:"btn-manage-members",onClick:()=>ie(!ce),children:ce?" ":" "}),T&&y.jsxs("form",{className:"new-member-form",onSubmit:$,children:[y.jsx("input",{type:"text",value:g,onChange:K=>_(K.target.value),placeholder:"",required:!0,autoFocus:!0}),y.jsx("button",{type:"submit",className:"btn-submit",children:""})]})]}),ce&&y.jsxs("div",{className:"global-members-section",children:[y.jsx("h4",{children:""}),y.jsx("div",{className:"global-members-list",children:n.length===0?y.jsx("p",{className:"empty-text",children:""}):n.map(K=>y.jsx("div",{className:"global-member-item",children:E===K.id?y.jsxs("div",{className:"member-edit-form",children:[y.jsx("input",{type:"text",value:G,onChange:de=>J(de.target.value),placeholder:"",autoFocus:!0}),y.jsx("button",{className:"btn-save",onClick:()=>{if(G.trim()&&G!==K.name){if(n.some(de=>de.id!==K.id&&de.name===G)){alert(`${G}`);return}m?.({...K,name:G})}Y(null)},children:""}),y.jsx("button",{className:"btn-cancel",onClick:()=>Y(null),children:""})]}):y.jsxs(y.Fragment,{children:[y.jsx("span",{className:"member-name",children:K.name}),y.jsxs("div",{className:"member-actions",children:[y.jsx("button",{className:"btn-edit",onClick:()=>{Y(K.id),J(K.name)},title:"",children:""}),y.jsx("button",{className:"btn-delete",onClick:()=>{window.confirm(`${K.name}`)&&h?.(K.id)},title:"",children:""})]})]})},K.id))})]}),y.jsx("div",{className:"batting-order-grid",children:Array.from({length:9},(K,de)=>de+1).map(K=>{const de=re.get(K),k=et(K);return y.jsxs("div",{className:"batting-order-slot",children:[y.jsxs("div",{className:"order-number",children:["",K,""]}),y.jsxs("select",{className:"member-select",value:de?.id||"",onChange:w=>ae(K,w.target.value),children:[y.jsx("option",{value:"",children:"--  --"}),k.map(w=>y.jsx("option",{value:w.id,children:w.name},w.id))]}),de&&y.jsx("button",{className:"btn-remove-member",onClick:()=>ae(K,""),title:"",children:""})]},K)})}),Me.length>0&&y.jsxs("div",{className:"unassigned-members",children:[y.jsx("h4",{children:""}),y.jsx("div",{className:"unassigned-list",children:Me.map(K=>y.jsxs("div",{className:"unassigned-member",children:[y.jsx("span",{children:K.name}),y.jsx("button",{className:"btn-remove",onClick:()=>r(K.id),title:"",children:""})]},K.id))})]})]})}function vT({members:s,stats:n,onUpdateStats:l}){const[r,c]=He.useState(9),[f,h]=He.useState(new Map),[m,g]=He.useState(new Map);He.useEffect(()=>{const k=new Map;let w=9;n.forEach(O=>{k.set(O.playerId,O.innings);const H=O.innings.map(q=>q.inningNumber);H.length>0&&(w=Math.max(w,Math.max(...H)))}),h(k),c(w)},[n]);const _=(k,w)=>f.get(k)?.find(H=>H.inningNumber===w&&(!H.atBatNumber||H.atBatNumber===1)),T=(k,w)=>f.get(k)?.filter(H=>H.inningNumber===w)||[],b=k=>{let w=0;return f.forEach(O=>{O.forEach(H=>{H.inningNumber===k&&(H.atBats>0&&H.hits===0&&(w+=H.atBats),H.sacrificeBunts>0&&(w+=H.sacrificeBunts),H.sacrificeFlies>0&&(w+=H.sacrificeFlies))})}),w},E=(k,w)=>{const O=f.get(w)?.filter(q=>q.inningNumber===k)||[];if(O.length>=3)return!1;if(O.length>0){const q=O[O.length-1];if(q.atBats===0&&q.walks===0&&q.sacrificeBunts===0&&q.sacrificeFlies===0&&q.errors===0)return!1}return!(b(k)>=3)},Y=(k,w)=>{if(b(k)>=3){const H=new Set;if(f.forEach(q=>{q.forEach(j=>{j.inningNumber===k&&j.battingOrder&&H.add(j.battingOrder)})}),!H.has(w))return!0}return!1},G=(k,w)=>{const O=m.get(k),H=[];if(!O)return H;const q=new Map(O.bases);w>=1&&((q.get(3)||new Set).forEach(te=>H.push(te)),q.set(3,new Set));const j=q.get(2)||new Set;w>=2?j.forEach(X=>{(q.get(3)||new Set).add(X)}):w===1&&j.forEach(X=>{(q.get(3)||new Set).add(X)}),q.set(2,new Set);const A=q.get(1)||new Set;w>=3?A.forEach(X=>H.push(X)):w===2?A.forEach(X=>{(q.get(3)||new Set).add(X)}):w===1&&A.forEach(X=>{(q.get(2)||new Set).add(X)}),q.set(1,new Set);const x=new Map(m);return x.set(k,{bases:q}),g(x),H},J=(k,w,O)=>{let H=m.get(k);H||(H={bases:new Map([[1,new Set],[2,new Set],[3,new Set]])});const q=new Map(H.bases);if(O==="single"||O==="double"||O==="triple"){const A=q.get(1)||new Set;A.add(w),q.set(1,A)}else if(O==="walk"){const A=q.get(1)||new Set;A.add(w),q.set(1,A)}else if(O==="error"){const A=q.get(1)||new Set,x=q.get(2)||new Set,X=q.get(3)||new Set;A.forEach(te=>{x.add(te)}),x.forEach(te=>{X.add(te)}),q.set(1,new Set([w])),q.set(2,x),q.set(3,X)}const j=new Map(m);j.set(k,{bases:q}),g(j)},ce=(k,w,O,H=0,q=0)=>{const j=f.get(k)?.filter(S=>S.inningNumber===w)||[],A=j[q];let x;A?x={...A}:x={inningNumber:w,battingOrder:s.find(S=>S.id===k)?.battingOrder,atBatNumber:q+1,atBats:0,hits:0,walks:0,runs:0,rbis:0,doubles:0,triples:0,homeRuns:0,stolenBases:0,sacrificeBunts:0,sacrificeFlies:0,errors:0,deadBalls:0},x.atBats=0,x.hits=0,x.walks=0,x.doubles=0,x.triples=0,x.homeRuns=0,x.stolenBases=0,x.sacrificeBunts=0,x.sacrificeFlies=0,x.errors=0,x.rbis=H,O==="out"?x.atBats=1:O==="single"?(x.atBats=1,x.hits=1):O==="double"?(x.atBats=1,x.hits=1,x.doubles=1):O==="triple"?(x.atBats=1,x.hits=1,x.triples=1):O==="homerun"?(x.atBats=1,x.hits=1,x.homeRuns=1,x.runs=1,H>0&&(x.rbis=H)):O==="walk"?x.walks=1:O==="stolen-base"?x.stolenBases=1:O==="sacrifice-bunt"?x.sacrificeBunts=1:O==="sacrifice-fly"?x.sacrificeFlies=1:O==="error"?x.errors=1:O==="dead-ball"&&(x.deadBalls=1,x.walks=1);const X=[...f.get(k)||[]],Ee=[...X.filter(S=>S.inningNumber!==w),...j.slice(0,q),x,...j.slice(q+1)];if(O===""){const S=X.filter(V=>!(V.inningNumber===w&&V.atBatNumber===q+1));h(new Map(f.set(k,S))),l(k,{playerId:k,innings:S}),J(w,k,"")}else{Ee.sort((V,F)=>V.inningNumber!==F.inningNumber?V.inningNumber-F.inningNumber:(V.atBatNumber||1)-(F.atBatNumber||1)),h(new Map(f.set(k,Ee))),l(k,{playerId:k,innings:Ee}),J(w,k,O);let U=0;if(O==="single"?U=1:O==="double"?U=2:O==="triple"?U=3:O==="homerun"&&(U=4),U>0)G(w,U).forEach(F=>{const ee=[...f.get(F)||[]],se=ee.findIndex(me=>me.inningNumber===w);if(se>=0){const me={...ee[se]};me.runs+=1,ee[se]=me,h(new Map(f.set(F,ee))),l(F,{playerId:F,innings:ee})}}),O==="triple"&&(x.runs=1),H>0&&(x.rbis=H);else if(O==="error"){const V=m.get(w);V&&(V.bases.get(3)||new Set).forEach(ee=>{const se=[...f.get(ee)||[]],me=se.findIndex(Fe=>Fe.inningNumber===w);if(me>=0){const Fe={...se[me]};Fe.runs+=1,se[me]=Fe,h(new Map(f.set(ee,se))),l(ee,{playerId:ee,innings:se})}}),J(w,k,O)}else J(w,k,O)}},ie=(k,w)=>{if(!E(w,k))return;const O=[...f.get(k)||[]],H=O.filter(x=>x.inningNumber===w),q=(Math.max(...H.map(x=>x.atBatNumber||1),0)||0)+1,j={inningNumber:w,battingOrder:s.find(x=>x.id===k)?.battingOrder,atBatNumber:q,atBats:0,hits:0,walks:0,runs:0,rbis:0,doubles:0,triples:0,homeRuns:0,stolenBases:0,sacrificeBunts:0,sacrificeFlies:0,errors:0,deadBalls:0};O.push(j),O.sort((x,X)=>x.inningNumber!==X.inningNumber?x.inningNumber-X.inningNumber:(x.atBatNumber||1)-(X.atBatNumber||1)),h(new Map(f.set(k,O))),l(k,{playerId:k,innings:O})},re=(k,w,O)=>{const H=[...f.get(k)||[]];if(H.filter(x=>x.inningNumber===w).length<=1)return;const j=H.filter(x=>!(x.inningNumber===w&&x.atBatNumber===O+1));h(new Map(f.set(k,j))),l(k,{playerId:k,innings:j})},fe=(k,w,O)=>{const H=[...f.get(k)||[]],q=H.filter(te=>te.inningNumber===w);if(q.length===0)return;const j=q[0],A=Math.max(0,Math.min(3,j.stolenBases+O)),x=H.map(te=>te.inningNumber===w&&(te.atBatNumber||1)===(j.atBatNumber||1)?{...te,stolenBases:A}:te);h(new Map(f.set(k,x))),l(k,{playerId:k,innings:x})},Me=()=>!s||s.length===0?[]:s.filter(k=>k&&k.battingOrder&&k.battingOrder>0).sort((k,w)=>(k.battingOrder||0)-(w.battingOrder||0)),et=k=>(f.get(k)||[]).reduce((O,H)=>O+H.atBats,0),ae=k=>(f.get(k)||[]).reduce((O,H)=>O+H.hits,0),$=k=>(f.get(k)||[]).reduce((O,H)=>O+H.walks,0),K=k=>(f.get(k)||[]).reduce((O,H)=>O+H.rbis,0),de=k=>{const w=et(k),O=ae(k);return w===0?".---":(O/w).toFixed(3)};return y.jsxs("div",{className:"inning-by-inning-container",children:[y.jsxs("div",{className:"stats-table-wrapper",children:[y.jsx("h3",{children:""}),y.jsx("div",{className:"inning-info-bar",children:y.jsx("div",{className:"info-text",children:y.jsx("span",{children:""})})}),y.jsxs("table",{className:"stats-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{className:"header-batting-order",children:""}),y.jsx("th",{className:"header-name",children:""}),Array.from({length:r},(k,w)=>y.jsxs("th",{className:"header-inning",children:["",w+1,""]},w+1)),y.jsx("th",{className:"header-stat",children:""}),y.jsx("th",{className:"header-stat",children:""}),y.jsx("th",{className:"header-stat",children:""}),y.jsx("th",{className:"header-stat",children:""}),y.jsx("th",{className:"header-stat",children:""})]})}),y.jsx("tbody",{children:Me().map(k=>y.jsxs("tr",{className:"player-row",children:[y.jsx("td",{className:"cell-batting-order",children:k.battingOrder||"-"}),y.jsx("td",{className:"cell-name",children:k.name}),Array.from({length:r},(w,O)=>{const H=O+1,q=_(k.id,H),j=T(k.id,H),A=Y(H,k.battingOrder||0),x=j.length>1;return y.jsx("td",{className:`cell-result ${A?"closed":""} ${x?"multiple":""}`,children:y.jsx(bT,{memberId:k.id,inningNumber:H,inning:q,allInnings:j,onSelect:(X,te,Ee)=>ce(k.id,H,X,te,Ee),onAddAtBat:()=>ie(k.id,H),onRemoveAtBat:X=>re(k.id,H,X),onUpdateStolenBases:X=>fe(k.id,H,X),isClosed:A,canAddAtBat:E(H,k.id)})},H)}),y.jsx("td",{className:"cell-stat",children:et(k.id)}),y.jsx("td",{className:"cell-stat",children:ae(k.id)}),y.jsx("td",{className:"cell-stat",children:$(k.id)}),y.jsx("td",{className:"cell-stat",children:K(k.id)}),y.jsx("td",{className:"cell-stat",children:de(k.id)})]},k.id))})]})]}),s.length===0&&y.jsx("p",{className:"empty-message",children:""}),Me().length===0&&s.length>0&&y.jsx("p",{className:"empty-message",children:""})]})}function bT({inning:s,allInnings:n,onSelect:l,onAddAtBat:r,onRemoveAtBat:c,onUpdateStolenBases:f,isClosed:h,canAddAtBat:m}){const[g,_]=He.useState(!1),[T,b]=He.useState(""),[E,Y]=He.useState(0),G=n&&n.length>0?n[0]:s,J=n&&n.length>1,ce=(ae,$=0)=>{b(ae),Y($),ae==="out"||ae==="walk"||ae===""?(l(ae,0,$),_(!1)):ae==="homerun"||ae==="single"||ae==="double"||ae==="triple"||ae==="sacrifice-bunt"||ae==="sacrifice-fly"?_(!0):(l(ae,0,$),_(!1))},ie=ae=>{T&&l(T,ae,E),_(!1),b("")},re=()=>{G&&G.stolenBases<3&&f(1)},fe=()=>{!G||G.stolenBases===0||f(-1)},Me=G?ST(qo(G),G.rbis||0):"-",et=s?qo(s):"";return y.jsx("div",{className:"result-selector",children:g?y.jsxs("div",{className:"rbi-select-panel",children:[y.jsx("div",{className:"rbi-label",children:""}),y.jsx("div",{className:"rbi-buttons",children:[0,1,2,3,4].map(ae=>y.jsx("button",{className:"rbi-btn",onClick:()=>ie(ae),children:ae},ae))})]}):y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"result-display",children:[Me,J&&y.jsx("span",{className:"multi-badge",children:n.length})]}),J?y.jsx("div",{className:"multi-selects",children:n.map((ae,$)=>{const K=qo(ae),de=$===0?"1":$===1?"2":$===2?"3":`${$+1}`;return y.jsxs("div",{className:"multi-select-item",children:[y.jsx("span",{className:"atbat-label",children:de}),y.jsxs("select",{value:K,onChange:k=>ce(k.target.value,$),className:"result-select result-select-multi",disabled:h,children:[y.jsx("option",{value:"",children:"-"}),y.jsx("option",{value:"out",children:"O ()"}),y.jsx("option",{value:"single",children:" ()"}),y.jsx("option",{value:"double",children:" ()"}),y.jsx("option",{value:"triple",children:" ()"}),y.jsx("option",{value:"homerun",children:"H ()"}),y.jsx("option",{value:"walk",children:" ()"}),y.jsx("option",{value:"sacrifice-bunt",children:"SH ()"}),y.jsx("option",{value:"sacrifice-fly",children:"SF ()"}),y.jsx("option",{value:"error",children:"E ()"}),y.jsx("option",{value:"dead-ball",children:"DB ()"})]}),n.length>1&&y.jsx("button",{className:"btn-remove-atbat",onClick:()=>c($),title:"",children:""})]},$)})}):y.jsxs("select",{value:et,onChange:ae=>ce(ae.target.value,0),className:"result-select",disabled:h,children:[y.jsx("option",{value:"",children:"-"}),y.jsx("option",{value:"out",children:"O ()"}),y.jsx("option",{value:"single",children:" ()"}),y.jsx("option",{value:"double",children:" ()"}),y.jsx("option",{value:"triple",children:" ()"}),y.jsx("option",{value:"homerun",children:"H ()"}),y.jsx("option",{value:"walk",children:" ()"}),y.jsx("option",{value:"sacrifice-bunt",children:"SH ()"}),y.jsx("option",{value:"sacrifice-fly",children:"SF ()"}),y.jsx("option",{value:"error",children:"E ()"}),y.jsx("option",{value:"dead-ball",children:"DB ()"})]}),y.jsxs("div",{className:"result-actions",children:[!h&&m&&y.jsx("button",{className:"btn-add-atbat",onClick:r,title:"",children:"+"}),y.jsxs("div",{className:"stolen-base-controls",children:[y.jsxs("button",{className:"btn-stolen-base",onClick:re,disabled:h||!G||G.stolenBases>=3,title:"3",children:[" ",G?.stolenBases||0]}),G&&G.stolenBases>0&&y.jsx("button",{className:"btn-stolen-base-remove",onClick:fe,disabled:h,title:"",children:""})]})]})]})})}function ST(s,n){const r={out:"O",single:"1H",double:"2H",triple:"3H",homerun:"HR",walk:"","stolen-base":"SB","sacrifice-bunt":"","sacrifice-fly":"",error:"E","dead-ball":"DB","":"-"}[s]||"-";return["single","double","triple","homerun","sacrifice-bunt","sacrifice-fly"].includes(s)&&n>0?`${r}(${n})`:r}function qo(s){return s.walks>0?"walk":s.stolenBases>0?"stolen-base":s.sacrificeBunts>0?"sacrifice-bunt":s.sacrificeFlies>0?"sacrifice-fly":s.errors>0?"error":s.homeRuns>0?"homerun":s.triples>0?"triple":s.doubles>0?"double":s.hits>0?"single":s.atBats>0?"out":""}function ET({playerStats:s,opponent:n}){const l=[...s].sort((c,f)=>f.totalHits-c.totalHits),r=s.reduce((c,f)=>c+f.totalRuns,0);return y.jsxs("div",{className:"stats-display",children:[y.jsxs("h3",{children:["vs ",n," "]}),y.jsx("div",{className:"team-summary",children:y.jsxs("div",{className:"summary-item",children:[y.jsx("span",{className:"label",children:""}),y.jsx("span",{className:"value",children:r})]})}),y.jsx("div",{className:"stats-table-container",children:y.jsxs("table",{className:"stats-table",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:"OPS"}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:"2B"}),y.jsx("th",{children:"3B"}),y.jsx("th",{children:"HR"}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:l.map(c=>y.jsxs("tr",{children:[y.jsx("td",{className:"player-name",children:c.name}),y.jsx("td",{children:c.totalAtBats}),y.jsx("td",{children:c.totalHits}),y.jsx("td",{className:"highlight",children:c.battingAverage.toFixed(3)}),y.jsx("td",{className:"highlight",children:c.sluggingPercentage.toFixed(3)}),y.jsx("td",{className:"highlight",children:c.onBasePercentage.toFixed(3)}),y.jsx("td",{className:"highlight-ops",children:c.ops.toFixed(3)}),y.jsx("td",{children:c.totalRuns}),y.jsx("td",{children:c.totalRbis}),y.jsx("td",{children:c.totalDoubles}),y.jsx("td",{children:c.totalTriples}),y.jsx("td",{children:c.totalHomeRuns}),y.jsx("td",{children:c.totalStolenBases}),y.jsx("td",{children:c.totalSacrificeBunts}),y.jsx("td",{children:c.totalSacrificeFlies}),y.jsx("td",{children:c.totalErrors})]},c.playerId))})]})}),l.length===0&&y.jsx("p",{className:"empty-message",children:""}),y.jsxs("div",{className:"stats-legend",children:[y.jsx("h4",{children:""}),y.jsxs("ul",{children:[y.jsxs("li",{children:[y.jsx("strong",{children:""}),":   "]}),y.jsxs("li",{children:[y.jsx("strong",{children:""}),":   "]}),y.jsxs("li",{children:[y.jsx("strong",{children:""}),": ( + )  ( + )"]}),y.jsxs("li",{children:[y.jsx("strong",{children:"OPS"}),":  + "]}),y.jsxs("li",{children:[y.jsx("strong",{children:""}),": "]}),y.jsxs("li",{children:[y.jsx("strong",{children:""}),": "]}),y.jsxs("li",{children:[y.jsx("strong",{children:""}),": "]}),y.jsxs("li",{children:[y.jsx("strong",{children:""}),": "]})]})]})]})}function CT({match:s,globalMembers:n,onAddMember:l,onRemoveGlobalMember:r,onUpdateGlobalMember:c,onClose:f,onUpdate:h,onDeleteMatch:m}){const[g,_]=He.useState("members"),T=()=>{confirm(`${s.date} vs ${s.opponent}`)&&(m?.(s.id),f())},b=ie=>{const re={...s,members:[...s.members,ie]};h(re)},E=ie=>{const re={...s,members:s.members.filter(fe=>fe.id!==ie)};re.stats.delete(ie),h(re)},Y=ie=>{const re={...s,members:s.members.map(fe=>fe.id===ie.id?ie:fe)};h(re)},G=(ie,re)=>{const fe=new Map(s.stats);fe.set(ie,re);const Me={...s,stats:fe};h(Me)},J=ie=>s.members.find(re=>re.id===ie)?.name||"",ce=Array.from(s.stats.entries()).map(([ie,re])=>({playerId:ie,name:J(ie),...pT(re)}));return y.jsx("div",{className:"modal-overlay",onClick:f,children:y.jsxs("div",{className:"match-detail-content",onClick:ie=>ie.stopPropagation(),children:[y.jsxs("div",{className:"match-header",children:[y.jsxs("h2",{children:[s.date," vs ",s.opponent]}),y.jsxs("div",{className:"header-buttons",children:[y.jsx("button",{className:"btn-delete-match",onClick:T,title:"",children:""}),y.jsx("button",{className:"btn-close",onClick:f,children:""})]})]}),y.jsxs("div",{className:"tab-buttons",children:[y.jsx("button",{className:`tab-btn ${g==="members"?"active":""}`,onClick:()=>_("members"),children:""}),y.jsx("button",{className:`tab-btn ${g==="stats"?"active":""}`,onClick:()=>_("stats"),children:""}),y.jsx("button",{className:`tab-btn ${g==="results"?"active":""}`,onClick:()=>_("results"),children:""})]}),y.jsxs("div",{className:"match-detail-content-body",children:[g==="members"&&y.jsx(yT,{members:s.members,globalMembers:n,onAddMember:b,onRemoveMember:E,onAddNewMember:l,onUpdateMember:Y,onRemoveGlobalMember:r,onUpdateGlobalMember:c}),g==="stats"&&y.jsx(vT,{members:s.members,stats:s.stats,onUpdateStats:G}),g==="results"&&y.jsx(ET,{playerStats:ce,opponent:s.opponent})]})]})})}function TT({isOpen:s,onSubmit:n,onClose:l}){const[r,c]=He.useState(""),[f,h]=He.useState(""),m=g=>{g.preventDefault(),r.trim()&&f&&(n(r,f),c(""),h(""))};return s?y.jsx("div",{className:"modal-overlay",onClick:l,children:y.jsxs("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[y.jsx("h2",{children:""}),y.jsxs("form",{onSubmit:m,children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"opponent",children:""}),y.jsx("input",{id:"opponent",type:"text",value:r,onChange:g=>c(g.target.value),placeholder:"",autoFocus:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"date",children:""}),y.jsx("input",{id:"date",type:"date",value:f,onChange:g=>h(g.target.value)})]}),y.jsxs("div",{className:"form-buttons",children:[y.jsx("button",{type:"submit",className:"btn-submit",children:""}),y.jsx("button",{type:"button",className:"btn-cancel",onClick:l,children:""})]})]})]})}):null}function NT({globalMembers:s,onAddMember:n,onRemoveMember:l,onUpdateMember:r}){const[c,f]=He.useState([]),[h,m]=He.useState(!1),[g,_]=He.useState(null),[T,b]=He.useState(new Date(2026,0,27)),[E,Y]=He.useState("calendar");He.useEffect(()=>{(async()=>{try{const H=await mT();f(H)}catch(H){console.error("Failed to load matches from Firebase:",H)}})();const O=gT(H=>{f(H)});return()=>{O()}},[]);const G=(w,O)=>{const H={id:Date.now().toString(),date:O,opponent:w,members:[],stats:new Map};f([...c,H]),m(!1),Xg(H).catch(q=>{console.error("Failed to save match to Firebase:",q),alert("")})},J=w=>new Date(w.getFullYear(),w.getMonth()+1,0).getDate(),ce=w=>new Date(w.getFullYear(),w.getMonth(),1).getDay(),ie=()=>{b(new Date(T.getFullYear(),T.getMonth()-1))},re=()=>{b(new Date(T.getFullYear(),T.getMonth()+1))},fe=async w=>{try{await fT(w),l(w)}catch(O){console.error("Failed to delete member:",O)}},Me=async w=>{try{r(w)&&await cT(w)}catch(O){console.error("Failed to update member:",O)}},et=async w=>{try{await _T(w),f(c.filter(O=>O.id!==w))}catch(O){console.error("Failed to delete match:",O),alert("")}},ae=w=>w==="monthly"?c.filter(O=>{const H=new Date(O.date);return H.getFullYear()===T.getFullYear()&&H.getMonth()===T.getMonth()}):c.filter(O=>new Date(O.date).getFullYear()===T.getFullYear()),$=w=>{const O={};return w.forEach(H=>{H.stats.forEach((q,j)=>{const A=H.members.find(x=>x.id===j)?.name||"";O[j]||(O[j]={name:A,matches:0,atBats:0,hits:0,doubles:0,triples:0,homeRuns:0,walks:0,runs:0,rbis:0,stolenBases:0,sacrificeBunts:0,sacrificeFlies:0,deadBalls:0}),O[j].matches+=1,q.innings.forEach(x=>{O[j].atBats+=x.atBats,O[j].hits+=x.hits,O[j].doubles+=x.doubles,O[j].triples+=x.triples,O[j].homeRuns+=x.homeRuns,O[j].walks+=x.walks,O[j].runs+=x.runs,O[j].rbis+=x.rbis,O[j].stolenBases+=x.stolenBases,O[j].sacrificeBunts+=x.sacrificeBunts,O[j].sacrificeFlies+=x.sacrificeFlies,O[j].deadBalls+=x.deadBalls||0})})}),Object.values(O).sort((H,q)=>q.matches-H.matches)},K=w=>{const O=w;return O.length===0?{}:{battingAverage:[...O].sort((H,q)=>{const j=H.atBats>0?H.hits/H.atBats:0;return(q.atBats>0?q.hits/q.atBats:0)-j}).slice(0,3),rbis:[...O].sort((H,q)=>q.rbis-H.rbis).slice(0,3),stolenBases:[...O].sort((H,q)=>q.stolenBases-H.stolenBases).slice(0,3),hits:[...O].sort((H,q)=>q.hits-H.hits).slice(0,3),ops:[...O].sort((H,q)=>{const j=(H.atBats>0?H.hits/H.atBats:0)+(H.atBats+H.walks>0?(H.hits+H.walks)/(H.atBats+H.walks):0);return(q.atBats>0?q.hits/q.atBats:0)+(q.atBats+q.walks>0?(q.hits+q.walks)/(q.atBats+q.walks):0)-j}).slice(0,3)}},de=()=>{const w=J(T),O=ce(T),H=[];for(let q=0;q<O;q++)H.push(y.jsx("div",{className:"calendar-day empty"},`empty-${q}`));for(let q=1;q<=w;q++){const j=`${T.getFullYear()}-${String(T.getMonth()+1).padStart(2,"0")}-${String(q).padStart(2,"0")}`,A=c.find(x=>x.date===j);H.push(y.jsxs("div",{className:"calendar-day",onClick:()=>A&&_(A),children:[y.jsx("div",{className:"day-number",children:q}),A&&y.jsx("div",{className:"match-badge",children:A.opponent})]},q))}return H},k=w=>{const O=w==="all"?c:ae(w),H=$(O),q=K(H);return O.length===0?y.jsx("div",{className:"empty-stats",children:""}):y.jsxs("div",{className:"stats-view",children:[y.jsxs("div",{className:"stats-header",children:[w==="monthly"&&y.jsxs("h3",{children:[T.getFullYear()," ",T.getMonth()+1,""]}),w==="yearly"&&y.jsxs("h3",{children:[T.getFullYear(),""]}),w==="all"&&y.jsx("h3",{children:""}),y.jsxs("p",{children:[": ",O.length]})]}),y.jsxs("div",{className:"rankings-section",children:[y.jsxs("div",{className:"ranking-box",children:[y.jsx("h4",{children:""}),y.jsx("ol",{children:q.battingAverage?.map((j,A)=>{const x=j.atBats>0?(j.hits/j.atBats).toFixed(3):".000";return y.jsxs("li",{children:[j.name," - ",x]},A)})})]}),y.jsxs("div",{className:"ranking-box",children:[y.jsx("h4",{children:""}),y.jsx("ol",{children:q.rbis?.map((j,A)=>y.jsxs("li",{children:[j.name," - ",j.rbis,""]},A))})]}),y.jsxs("div",{className:"ranking-box",children:[y.jsx("h4",{children:""}),y.jsx("ol",{children:q.stolenBases?.map((j,A)=>y.jsxs("li",{children:[j.name," - ",j.stolenBases||0]},A))})]}),y.jsxs("div",{className:"ranking-box",children:[y.jsx("h4",{children:""}),y.jsx("ol",{children:q.hits?.map((j,A)=>y.jsxs("li",{children:[j.name," - ",j.hits,""]},A))})]}),y.jsxs("div",{className:"ranking-box",children:[y.jsx("h4",{children:"OPS"}),y.jsx("ol",{children:q.ops?.map((j,A)=>{const x=j.atBats>0?(j.hits+j.doubles+j.triples*2+j.homeRuns*3)/j.atBats:0,X=j.atBats+j.walks>0?(j.hits+j.walks)/(j.atBats+j.walks):0,te=x+X;return y.jsxs("li",{children:[j.name," - ",te.toFixed(3)]},A)})})]})]}),y.jsxs("table",{className:"stats-table-all",children:[y.jsx("thead",{children:y.jsxs("tr",{children:[y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""}),y.jsx("th",{children:""})]})}),y.jsx("tbody",{children:H.map(j=>{const A=j.atBats>0?(j.hits/j.atBats).toFixed(3):".000",x=j.atBats>0?((j.hits+j.doubles+j.triples*2+j.homeRuns*3)/j.atBats).toFixed(3):".000",X=j.atBats+j.walks+j.sacrificeFlies>0?((j.hits+j.walks)/(j.atBats+j.walks+j.sacrificeFlies)).toFixed(3):".000",te=j.stolenBases||0,Ee=j.sacrificeBunts||0,S=j.sacrificeFlies||0;return y.jsxs("tr",{children:[y.jsx("td",{className:"stat-name",children:j.name}),y.jsx("td",{children:j.matches}),y.jsx("td",{children:j.atBats}),y.jsx("td",{children:j.hits}),y.jsx("td",{children:j.doubles}),y.jsx("td",{children:j.triples}),y.jsx("td",{children:j.homeRuns}),y.jsx("td",{children:j.walks}),y.jsx("td",{children:j.runs}),y.jsx("td",{children:j.rbis}),y.jsx("td",{children:te}),y.jsx("td",{children:Ee}),y.jsx("td",{children:S}),y.jsx("td",{children:A}),y.jsx("td",{children:x}),y.jsx("td",{children:X})]},j.name)})})]})]})};return y.jsxs("div",{className:"calendar-container",children:[y.jsxs("div",{className:"app-header",children:[y.jsx("h1",{children:"JSB"}),y.jsxs("div",{className:"view-tabs",children:[y.jsx("button",{className:`tab-btn ${E==="calendar"?"active":""}`,onClick:()=>Y("calendar"),children:""}),y.jsx("button",{className:`tab-btn ${E==="monthly"?"active":""}`,onClick:()=>Y("monthly"),children:""}),y.jsx("button",{className:`tab-btn ${E==="yearly"?"active":""}`,onClick:()=>Y("yearly"),children:""}),y.jsx("button",{className:`tab-btn ${E==="all"?"active":""}`,onClick:()=>Y("all"),children:""})]})]}),E==="calendar"?y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"calendar-header",children:[y.jsx("button",{onClick:ie,children:""}),y.jsxs("h2",{children:[T.getFullYear()," ",T.getMonth()+1,""]}),y.jsx("button",{onClick:re,children:""})]}),y.jsx("button",{className:"add-match-btn",onClick:()=>m(!0),children:""}),y.jsxs("div",{className:"weekdays",children:[y.jsx("div",{children:""}),y.jsx("div",{children:""}),y.jsx("div",{children:""}),y.jsx("div",{children:""}),y.jsx("div",{children:""}),y.jsx("div",{children:""}),y.jsx("div",{children:""})]}),y.jsx("div",{className:"calendar-grid",children:de()})]}):y.jsxs(y.Fragment,{children:[E==="monthly"&&y.jsxs("div",{className:"stats-nav",children:[y.jsx("button",{onClick:ie,children:""}),y.jsx("button",{onClick:re,children:""})]}),E==="yearly"&&y.jsxs("div",{className:"stats-nav",children:[y.jsx("button",{onClick:()=>b(new Date(T.getFullYear()-1,0)),children:""}),y.jsx("button",{onClick:()=>b(new Date(T.getFullYear()+1,0)),children:""})]}),k(E)]}),h&&y.jsx(TT,{isOpen:h,onSubmit:G,onClose:()=>m(!1)}),g&&y.jsx(CT,{match:g,globalMembers:s,onAddMember:n,onRemoveMember:l,onRemoveGlobalMember:fe,onUpdateGlobalMember:Me,onClose:()=>_(null),onDeleteMatch:et,onUpdate:w=>{f(c.map(O=>O.id===w.id?w:O)),_(w),Xg(w).catch(O=>{console.error("Failed to save updated match to Firebase:",O)})}})]})}function AT(){const[s,n]=He.useState([]),[l,r]=He.useState(!0);He.useEffect(()=>{let m=null;return(async()=>{try{const _=await uT();n(_),m=hT(T=>{n(T)})}catch(_){console.error("Failed to load members from Firebase:",_),console.error("Error details:",_),alert(": Firebase")}finally{r(!1)}})(),()=>{m&&m()}},[]),He.useEffect(()=>{l||oT(s).catch(m=>{console.error("Failed to save members:",m),alert(": ")})},[s,l]);const c=m=>{if(s.some(_=>_.name===m)){alert(`${m}`);return}const g={id:`member_${Date.now()}`,name:m};n([...s,g])},f=m=>{n(s.filter(g=>g.id!==m))},h=m=>s.some(g=>g.id!==m.id&&g.name===m.name)?(alert(`${m.name}`),!1):(n(s.map(g=>g.id===m.id?m:g)),!0);return l?y.jsx("div",{className:"loading",children:"..."}):y.jsx("div",{className:"app",children:y.jsx(NT,{globalMembers:s,onAddMember:c,onRemoveMember:f,onUpdateMember:h})})}c1.createRoot(document.getElementById("root")).render(y.jsx(He.StrictMode,{children:y.jsx(AT,{})}));
